<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="rpcalls.xsl"?>

<application namespace="GNET" project="CNET">

	<rpcdata name="Integer">
		<variable name="value" type="int" default="0"/>
	</rpcdata>   
	<!--  ************************************************************************  -->
	<!--  Protocols used only logservice and logclient			 	-->
	<!--  Protocols typeid is 59 - 62 						-->
	<!--  ************************************************************************  -->

	<protocol name="StatInfoVital" maxsize="1024" prior="1" type="59">
		<variable name="priority" type="int"/>
		<variable name="msg" type="std::string" default="std::string()" attr="ref"/>
		<variable name="hostname" type="std::string" default="std::string()" attr="ref"/>
		<variable name="servicename" type="std::string" default="std::string()" attr="ref"/>
	</protocol>

	<protocol name="StatInfo" maxsize="1024" prior="2" type="60">
		<variable name="priority" type="int"/>
		<variable name="msg" type="std::string" default="std::string()" attr="ref"/>
		<variable name="hostname" type="std::string" default="std::string()" attr="ref"/>
		<variable name="servicename" type="std::string" default="std::string()" attr="ref"/>
	</protocol>

	<protocol name="RemoteLogVital" maxsize="1024" prior="1" type="61">
		<variable name="priority" type="int"/>
		<variable name="msg" type="std::string" default="std::string()" attr="ref"/>
		<variable name="hostname" type="std::string" default="std::string()" attr="ref"/>
		<variable name="servicename" type="std::string" default="std::string()" attr="ref"/>
	</protocol>

	<protocol name="RemoteLog" maxsize="1024" prior="2" type="62">
		<variable name="priority" type="int"/>
		<variable name="msg" type="std::string" default="std::string()" attr="ref"/>
		<variable name="hostname" type="std::string" default="std::string()" attr="ref"/>
		<variable name="servicename" type="std::string" default="std::string()" attr="ref"/>
	</protocol>

	<state name="LogNull" timeout="3600" attr="null">
	</state>

	<state name="LogNormal" timeout="3600">
		<protocol ref="StatInfoVital"/>
		<protocol ref="StatInfo"/>
		<protocol ref="RemoteLogVital"/>
		<protocol ref="RemoteLog"/>
	</state>

	<service name="logservice">
		<manager name="Logservice" type="server" initstate="LogNormal"/>
		<manager name="LogserviceTcp" type="server" initstate="LogNormal"/>

		<state ref="LogNormal" />

		<protocol ref="StatInfoVital" />
		<protocol ref="StatInfo" />
		<protocol ref="RemoteLogVital" />
		<protocol ref="RemoteLog" />
	</service>

	<service name="logclient">
		<manager name="Logclient" type="client" initstate="LogNull" reconnect="1"/>
		<manager name="LogclientTcp" type="client" initstate="LogNull" reconnect="1"/>

		<state ref="LogNull" />

		<protocol ref="StatInfoVital" />
		<protocol ref="StatInfo" />
		<protocol ref="RemoteLogVital" />
		<protocol ref="RemoteLog" />
	</service>

	<!--  ************************************************************************  -->
	<!--  Protocols and Rpcs used only in Linkd Deliveryd and Client	 	-->
	<!--  Protocols and Rpcs typeid is 1 - 64 , 128-500				-->
	<!--  ************************************************************************  -->
	<protocol debug="0" name="Challenge" maxsize="64" prior="101" type="1">
		<variable name="nonce" type="Octets" attr="ref" />
		<variable name="version" type="unsigned int"/>
		<variable name="algo" type="char" defalut="0"/>
		<variable name="edition" type="Octets" attr="ref" />
		<variable name="exp_rate" type="unsigned char" defalut="0"/>
	</protocol>

	<protocol debug="0" name="Response" maxsize="512" prior="101" type="3">
		<variable name="identity" type="Octets" attr="ref" />
		<variable name="response" type="Octets" attr="ref" />
		<variable name="use_token" type="char" defalut="0"/>
		<variable name="cli_fingerprint" type="Octets" attr="ref" />
	</protocol>

	<protocol debug="0" name="KeyExchange" maxsize="32" prior="101" type="2">
		<variable name="nonce" type="Octets" attr="ref" />
		<variable name="blkickuser" type="char"	default="0"/>
	</protocol>

	<protocol debug="0" name="OnlineAnnounce" maxsize="64" prior="101" type="4">
		<variable name="userid" type="int" />
		<variable name="localsid" type="unsigned int" />
		<variable name="remain_time" type="int" default="0"/>
		<variable name="zoneid" type="char" default="0"/>
		<variable name="free_time_left" type="int" default="0"/>
		<variable name="free_time_end" type="int" default="0"/>
		<variable name="creatime" type="int" default="0"/>
		<variable name="referrer_flag" type="char" default="0"/> <!--0 au已经提供推广id 1 au没有提供推广id-->
		<variable name="passwd_flag" type="char" default="0"/>	<!--bit0:密码太久未更换 bit1:密保卡太久未更换-->
		<variable name="usbbind" type="char" default="0"/>
		<variable name="accountinfo_flag" type="char" default="0"/>	 <!--bit0:需要补填身份证和姓名 bit1:需要补填账号密码邮箱-->
	</protocol>
	
	<protocol debug="0" name="ErrorInfo" maxsize="256" prior="1" type="5">
		<variable name="errcode" type="int" />
		<variable name="info" type="Octets" attr="ref" />
	</protocol>

	<protocol debug="0" name="StatusAnnounce" maxsize="32" prior="1" type="6">
		<variable name="userid" type="int" />
		<variable name="localsid" type="unsigned int" />
		<variable name="status" type="unsigned char" />
	</protocol>
	
	<protocol debug="0" name="RoleStatusAnnounce" maxsize="64" prior="1" type="7">
		<variable name="zoneid" type="char" />
		<variable name="roleid" type="int" />
		<variable name="localsid" type="unsigned int" />
		<variable name="status" type="unsigned char" />
		<variable name="rolename" type="Octets" default="Octets()" attr="ref" />
	</protocol>

	<protocol debug="0"  name="KickoutUser" maxsize="32" prior="101" type="10">
		<variable name="userid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="cause" type="unsigned char" default="ERR_KICKOUT"/>
	</protocol>
			
	<rpcdata name="UserLoginArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="blkickuser" type="char"	default="0"/>
		<variable name="freecreatime" type="int" default="0"/>
		<variable name="loginip" type="int" default="0"/>
		<variable name="account" type="Octets" default="Octets()" attr="ref"/>
		<variable name="iseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="oseckey" type="Octets" attr="ref" default="Octets()"/>
		<!--au set maxsize=128 -->
	</rpcdata>      
	<rpcdata name="UserLoginRes">
		<variable name="retcode" type="char" default="-1"/>
		<variable name="remain_playtime" type="int" default="0"/>
		<variable name="func" type="int" default="0"/>
		<variable name="funcparm" type="int" default="0"/>
		<variable name="blIsGM" type="char" default="0"/>
		<variable name="free_time_left" type="int" default="0"/>
		<variable name="free_time_end" type="int" default="0"/>
		<variable name="creatime" type="int" default="0"/>
		<variable name="adduppoint" type="int" default="0"/>
		<variable name="soldpoint" type="int" default="0"/>
	</rpcdata>          
	<rpc debug="0" name="UserLogin" type="15" argument="UserLoginArg" result="UserLoginRes" maxsize="128" prior="101" timeout="40"/>
	
	<rpcdata name="UserLogoutArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</rpcdata>      
	<rpcdata name="UserLogoutRes">
		<variable name="retcode" type="char" default="-1"/>
	</rpcdata>          
	<rpc debug="0" name="UserLogout" type="33" argument="UserLogoutArg" result="UserLogoutRes" maxsize="128" prior="101" timeout="30"/>

	<protocol name="ReportIP" maxsize="64" prior="1" type="35">
		<variable name="userid" type="int" default="-1"/>
		<variable name="ip" type="int" default="0"/>
	</protocol>
	<protocol name="UpdateRemainTime" maxsize="64" prior="1" type="36">
		<variable name="userid" type="int"/>
		<variable name="localsid" type="int" default="-1"/> <!-- for au, this is aid -->
		<variable name="remain_time" type="int" default="0"/>
		<variable name="free_time_left" type="int" default="0"/>
		<variable name="free_time_end" type="int" default="0"/>
	</protocol>

    <protocol debug="0" name="CollectClientMachineInfo" maxsize="2048" prior="1" type="37">
        <variable name="userid" type="int"/>
        <variable name="machineinfo" type="Octets" attr="ref"/>
    </protocol>

	<state name="Null" timeout="5" />
	
	<!--  ************************************************************************  -->
	<!--  Protocols and Rpcs used only in Linkd Deliveryd and Client and Game	-->
	<!--  Protocols and Rpcs typeid is 63 - 127,128-500				-->
	<!--  ************************************************************************  -->
	<protocol debug="0" name="PlayerKickout" maxsize="32" prior="1" type="63">
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int"/>
		<variable name="localsid" type="int"/>
	</protocol>
	<protocol debug="0" name="PlayerKickout_Re" maxsize="32" prior="1" type="64">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
	</protocol>

	<protocol debug="0" name="PlayerLogin" maxsize="1024" prior="1" type="65">
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="auth" type="ByteVector" default="ByteVector()"/>
		<variable name="usbbind" type="char" default="0"/>
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
	</protocol>
	
	<protocol debug="0" name="PlayerLogin_Re" maxsize="32" prior="1" type="66">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="src_provider_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
	</protocol>

	<protocol debug="0" name="PlayerOffline" maxsize="32" prior="1" type="67">
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	
	<protocol debug="0" name="PlayerOffline_Re" maxsize="32" prior="1" type="68">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
	</protocol>

	<protocol debug="0" name="PlayerLogout" maxsize="32" prior="101" type="69">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	
	<protocol debug="0" name="SelectRole" maxsize="32" prior="101" type="70">
		<variable name="roleid" type="int"/>
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
	</protocol>
	
	<protocol debug="0" name="SelectRole_Re" maxsize="1024" prior="101" type="71">
		<variable name="result" type="int"/>
		<variable name="auth" type="ByteVector" default="ByteVector()"/>
	</protocol>

	<protocol debug="0" name="EnterWorld" maxsize="32" prior="101" type="72">
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="locktime" type="int" default="0"/>
		<variable name="timeout" type="int" default="0"/>
		<variable name="settime" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	
	<protocol debug="0" name="AnnounceProviderID" maxsize="64" prior="101" type="73">
		<variable name="id" type="int"/>
		<variable name="left" type="float" default="0.0"/>
		<variable name="right" type="float" default="0.0"/>
		<variable name="top" type="float" default="0.0"/>
		<variable name="bottom" type="float" default="0.0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="edition" type="Octets" attr="ref" default="Octets()" />
	</protocol>
	
	<protocol debug="0" name="S2CGamedataSend" maxsize="65535" prior="100" type="74">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="C2SGamedataSend" maxsize="65535" prior="100" type="75">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="GamedataSend" maxsize="65535" prior="1" type="34">
		<variable name="data" type="Octets" attr="ref" coordinate="false"/>
	</protocol>

	<rpcdata name="Player" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</rpcdata>
	<protocol debug="0" name="S2CMulticast" maxsize="102400" prior="100" type="77">
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="playerlist" type="PlayerVector"/>
	</protocol>
	<protocol debug="0" name="S2CBroadcast" maxsize="102400" prior="1" type="78">
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>

	<protocol debug="0" name="PublicChat" maxsize="1024" prior="1" type="79"> <!--player to linkserver to gameserver -->
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	
	<protocol debug="0" name="ChatMessage" maxsize="1024" prior="1" type="80"> <!-- link server to player -->
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="srcroleid" type="int"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="srclevel" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="WorldChat" maxsize="1024" prior="1" type="133"> <!-- link server to player -->
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="roleid" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	
	<protocol debug="0" name="ChatMultiCast" maxsize="102400" prior="1" type="81"> <!-- game server to link server--> 
		<variable name="playerlist" type="PlayerVector"/>
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="srcroleid" type="int"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="srclevel" type="int" default="0"/>
	</protocol>
	<!-- createrole rolelist -->
	<rpcdata name="RoleInfo" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="gender" type="unsigned char" default="0"/>
		<variable name="race"   type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/>
		<variable name="level"	type="int" default="1"/>
		<variable name="level2" type="int" default="0"/>
		<variable name="name"	type="Octets" default="Octets(0)" attr="ref"/>
		<variable name="custom_data" type="Octets" default="Octets(0)" attr="ref"/>
		<variable name="equipment" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
		<variable name="status" type="char" default="0"/>   <!--whether the role is ready to delete -->
		<variable name="delete_time" type="int" default="0"/>
		<variable name="create_time" type="int" default="0"/>
		<variable name="lastlogin_time" type="int" default="0"/>
		<variable name="posx" type="float" default="0.0"/>
		<variable name="posy" type="float" default="0.0"/>
		<variable name="posz" type="float" default="0.0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="custom_status" type="Octets" default="Octets()" attr="ref"/>
		<variable name="charactermode" type="Octets" default="Octets()" attr="ref"/>
		<variable name="referrer_role" type="int" default="0"/>
		<variable name="cash_add" type="int" default="0"/>
		<variable name="reincarnation_data" type="Octets" default="Octets(0)" attr="ref"/>
		<variable name="realm_data" type="Octets" default="Octets(0)" attr="ref"/>
	</rpcdata>
	<protocol debug="0" name="RoleList" maxsize="32" prior="101" type="82">
		<variable name="userid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="handle" type="int" />
	</protocol>
	<protocol debug="0" name="RoleList_Re" maxsize="8192" prior="101" type="83">
		<variable name="result" type="int"/>
		<variable name="handle" type="int"/>
		<variable name="userid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="rolelist" type="RoleInfoVector"/>
	</protocol>
	<protocol debug="0" name="CreateRole" maxsize="8192" prior="101" type="84">
		<variable name="userid" type="int" />
		<variable name="localsid" type="unsigned int" />
		<variable name="roleinfo" type="RoleInfo"/>
		<variable name="referid" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="CreateRole_Re" maxsize="8192" prior="101" type="85">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="roleinfo" type="RoleInfo" default="RoleInfo()"/>
		<!--variable name="referrer" type="int" default="0"/-->
		<!--variable name="referrer_name"	type="Octets" default="Octets(0)" attr="ref"/-->
		<variable name="refretcode" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="DeleteRole" maxsize="32" prior="101" type="86">
		<variable name="roleid" type="int" />
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol debug="0" name="DeleteRole_Re" maxsize="32" prior="101" type="87">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="101"/>
	</protocol>
	<protocol debug="0" name="UndoDeleteRole" maxsize="32" prior="101" type="88">
		<variable name="roleid" type="int" />
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="UndoDeleteRole_Re" maxsize="32" prior="101" type="89">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<protocol debug="0" name="KeepAlive" maxsize="16" prior="0" type="90">
		<variable name="code" type="char"/>
	</protocol>
	<protocol debug="0" name="PlayerBaseInfo" maxsize="2048" prior="1" type="91">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="IntVector"/>
	</protocol>
	<protocol debug="0" name="PlayerBaseInfo_Re" maxsize="1536" prior="1" type="92">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="player" type="GRoleBase"/>
	</protocol>

	<protocol debug="0" name="PlayerHeartBeat" maxsize="32" prior="1" type="93">
		<variable name="roleid" type="int"/>
		<variable name="link_id" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	
	<protocol debug="0" name="ChatSingleCast" maxsize="1024" prior="1" type="94"> <!-- game server to link server--> 
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="srcroleid" type="int"/>
		<variable name="dstroleid" type="int"/>
		<variable name="dstlocalsid" type="unsigned int"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	
	<protocol debug="0" name="PlayerStatusSync" maxsize="64" prior="1" type="95"> <!--synchronize status between game and link -->
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="status" type="int" default="-1"/>
		<variable name="gs_id" type="int" default="-1"/>
	</protocol>

	<protocol debug="0" name="PrivateChat" maxsize="1024" prior="1" type="96">
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="src_name" type="Octets" attr="ref"/>
		<variable name="srcroleid" type="int"/>
		<variable name="dst_name" type="Octets" attr="ref"/>
		<variable name="dstroleid" type="int"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="src_level" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="PlayerBaseInfoCRC" maxsize="512" prior="1" type="98">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="IntVector"/>
	</protocol>
	<protocol debug="0" name="PlayerBaseInfoCRC_Re" maxsize="512" prior="1" type="99">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="IntVector"/>
		<variable name="CRClist" type="IntVector"/>
	</protocol>
	<protocol debug="0" name="SetCustomData" maxsize="1536" prior="1" type="100">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="custom_data" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="SetCustomData_Re" maxsize="64" prior="1" type="101">
		<variable name="result" type="int"/>
		<variable name="CRC" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="SetUIConfig" maxsize="4096" prior="1" type="102">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="ui_config" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="SetUIConfig_Re" maxsize="64" prior="1" type="103">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetUIConfig" maxsize="64" prior="1" type="104">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetUIConfig_Re" maxsize="4096" prior="1" type="105">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="ui_config" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="DisconnectPlayer" maxsize="64" prior="1" type="106">
		<variable name="roleid" type="int"/>
		<variable name="provider_link_id" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="gameid" type="int" default="0"/>
	</protocol>
	
	<rpcdata name="PlayerBriefInfo" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="occupation"	type="unsigned char" default="0"/>
		<variable name="name"	type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="gender" type="char" default="0"/>
	</rpcdata>
	<protocol debug="0" name="GetPlayerBriefInfo" maxsize="2048" prior="1" type="107">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="IntVector"/>
		<variable name="reason" type="unsigned char"/>
	</protocol>
	<protocol debug="0" name="GetPlayerBriefInfo_Re" maxsize="16384" prior="1" type="108">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="PlayerBriefInfoVector"/>
		<variable name="reason" type="unsigned char"/>
	</protocol>
	
	<!-- announce all players's status to gameservers -->
	<rpcdata name="OnlinePlayerStatus" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="gid" type="int" default="-1"/>	
		<variable name="link_id" type="int" default="-1"/>
		<variable name="link_sid" type="unsigned int" default="0"/>	
	</rpcdata>
	<protocol debug="0" name="PlayerStatusAnnounce" maxsize="204800" prior="1" type="109">
		<variable name="status" type="char"/>	<!--status of the role, ongame, offline... -->
		<variable name="playerstatus_list" type="OnlinePlayerStatusVector"/>
	</protocol>
	<!-- send from gamed to gdelivery to query some players' status-->
	<protocol debug="0" name="QueryPlayerStatus" maxsize="1024" prior="1" type="110">
		<variable name="rolelist" type="IntVector"/>
	</protocol>
	
	<!-- define task-data-synchronization protocols -->
	<protocol debug="0" name="GetTaskData" maxsize="8192" prior="1" type="111">
		<variable name="taskid" type="int"/>
		<variable name="playerid" type="int"/>
		<variable name="env" type="Octets"/>
	</protocol>
	<protocol debug="0" name="GetTaskData_Re" maxsize="8192" prior="1" type="112">
		<variable name="taskid" type="int"/>
		<variable name="playerid" type="int"/>
		<variable name="env" type="Octets"/>
		<variable name="retcode" type="int"/>
		<variable name="taskdata" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="SetTaskData" maxsize="288" prior="1" type="113">
		<variable name="taskid" type="int"/>
		<variable name="taskdata" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="SetTaskData_Re" maxsize="32" prior="1" type="114">
		<variable name="retcode" type="int"/>
	</protocol>
	
	<rpcdata name="GetTaskDataArg">
		<variable name="taskid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="GetTaskDataRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="taskdata" type="Octets" default="Octets(0)" attr="ref"/>
	</rpcdata>
	<rpcdata name="PutTaskDataArg">
		<variable name="taskid" type="int" default="-1"/>
		<variable name="taskdata" type="Octets" default="Octets(0)" attr="ref"/>
	</rpcdata>
	<rpcdata name="PutTaskDataRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="GetTaskDataRpc" maxsize="512" type="115" argument="GetTaskDataArg" result="GetTaskDataRes" prior="1" timeout="30"/>
	<rpc debug="0" name="PutTaskDataRpc" maxsize="512" type="135" argument="PutTaskDataArg" result="PutTaskDataRes" prior="1" timeout="30"/>

	<!--define two protocols to get customdatas -->
	<protocol debug="0" name="GetCustomData" maxsize="2048" prior="1" type="116">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="IntVector"/>
	</protocol>
	<protocol debug="0" name="GetCustomData_Re" maxsize="1536" prior="1" type="117">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>		<!--roleid of destination's owner -->
		<variable name="localsid" type="unsigned int"/> <!-- localsid of the player who request the data -->
		<variable name="cus_roleid" type="unsigned int"/> <!-- roleid of customdata's owner -->
		<variable name="customdata" type="Octets" attr="ref"/>
	</protocol>

	<protocol debug="0" name="GetPlayerIDByName" maxsize="64" prior="1" type="118">
		<variable name="rolename" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="reason" type="unsigned char" default="0"/>
	</protocol>
	<protocol debug="0" name="GetPlayerIDByName_Re" maxsize="64" prior="1" type="119">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="rolename" type="Octets" attr="ref"/>
		<variable name="roleid" type="int"/>
		<variable name="reason" type="unsigned char" default="0"/>
	</protocol>	
	<protocol debug="0" name="ChatBroadCast" maxsize="10240" prior="1" type="120"> 
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="srcroleid" type="int"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="AnnounceGM" maxsize="512" prior="1" type="121">
		<variable name="roleid" type="int"/>
		<variable name="auth" type="ByteVector" attr="ref"/>
	</protocol>
	<protocol debug="0" name="GMPrivilegeChange" maxsize="32" prior="1" type="122">
		<variable name="userid" type="int"/>
	</protocol>
	<!-- announce forbid info to client. from delivery or link to cient -->
	<protocol debug="0" name="AnnounceForbidInfo" type="123" maxsize="384" prior="1">
		<variable name="userid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="forbid" type="GRoleForbid" />
		<variable name="disconnect" type="char" default="0"/>
	</protocol>

	<protocol debug="0" name="ForwardChat" maxsize="512" prior="1" type="8000">
		<variable name="zoneid" type="int"/>
		<variable name="lineid" type="int"/>
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="msg" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="DisableAutolock" maxsize="512" prior="1" type="8007">
		<variable name="userid" type="int"/>
	</protocol>
	<protocol debug="0" name="ACForbidCheater" maxsize="256" prior="1" type="8008">
		<variable name="userid" type="int"/>
		<variable name="time" type="int" default="600"/>
		<variable name="operation" type="char" default="0"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="AuthdVersion" maxsize="256" prior="1" type="8010">
		<variable name="version" type="int" />
		<variable name="retcode" type="int" />
		<variable name="reserved" type="int" />
	</protocol>
	
	<rpcdata name="GMQueryRoleInfoRes">
		<variable name="status" type="int"/>
	</rpcdata>
	<rpc debug="0" name="GMQueryRoleInfo" maxsize="256" argument="RoleId" result="GMQueryRoleInfoRes" type="124" prior="1" timeout="10"/>
	<!-- FaceModify, FaceModifyCancel come from gameserver to glinkd -->
	<protocol debug="0" name="FaceModify" maxsize="2048"  prior="1" type="125">
		<variable name="roleid" type="int"/>
		<variable name="ticket_id" type="int"/>
		<variable name="ticket_pos" type="int"/>
	</protocol>
	<rpcdata name="QueryUseridArg">
		<variable name="rolename" type="Octets" attr="ref"/>
	</rpcdata>
	<rpcdata name="QueryUseridRes">
		<variable name="result" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="level" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="QueryUserid" maxsize="256" type="8001" prior="1" timeout="10"/>
	<protocol debug="0" name="FaceModifyCancel" maxsize="32"  prior="1" type="126">
		<variable name="roleid" type="int"/>
	</protocol>
	<!-- FaceModify_Re is the response from link to game -->
	<protocol debug="0" name="FaceModify_Re" maxsize="128" prior="1" type="127">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/> 
		<variable name="ticket_id" type="int"/>
		<variable name="ticket_pos" type="int"/>
		<variable name="crc" type="unsigned int"/>
	</protocol>

	<protocol debug="0" name="SetChatEmotion" maxsize="32"  prior="1" type="134">
		<variable name="roleid" type="int"/>
		<variable name="emotion" type="unsigned char"/>
	</protocol>
	
	<protocol debug="0" name="SetHelpStates" maxsize="4096" prior="1" type="128">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="help_states" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="SetHelpStates_Re" maxsize="64" prior="1" type="129">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetHelpStates" maxsize="64" prior="1" type="130">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetHelpStates_Re" maxsize="8192" prior="1" type="131">
		<variable name="result" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="help_states" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="AnnounceServerAttribute" maxsize="64" prior="1" type="132">
		<variable name="attr" type="unsigned int"/> <!-- server attributes -->
		<variable name="freecreatime" type="int"/>
		<variable name="exp_rate" type="unsigned char" default="0"/>
	</protocol>
	<protocol debug="0" name="AnnounceChallengeAlgo" maxsize="16" prior="1" type="136">
		<variable name="challenge_algo" type="char"/>
	</protocol>
	<protocol debug="0" name="AnnounceAuthdVersion" maxsize="16" prior="1" type="137">
		<variable name="au_version" type="int"/>
	</protocol>
	<protocol debug="0" name="UserCoupon" maxsize="16" prior="1" type="138">
		<variable name="userid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="UserCoupon_Re" maxsize="32" prior="1" type="139">
		<variable name="retcode" type="int"/>
		<variable name="remain_coupon" type="int"/>
		<variable name="today_exchange_coupon" type="int"/>
		<variable name="today_remain_coupon" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="UserCouponExchange" maxsize="16" prior="1" type="140">
		<variable name="userid" type="int"/>
		<variable name="coupon_number" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="UserCouponExchange_Re" maxsize="32" prior="1" type="141">
		<variable name="retcode" type="int"/>
		<variable name="remain_coupon" type="int"/>
		<variable name="today_exchange_coupon" type="int"/>
		<variable name="today_remain_coupon" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="AddCashNotify" maxsize="32" prior="1" type="142">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol debug="0" name="AccountLoginRecord" maxsize="32" prior="1" type="143">
		<variable name="userid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="login_time" type="int"/>
		<variable name="login_ip" type="int"/>
		<variable name="current_ip" type="int"/>
	</protocol>
	<protocol debug="0" name="UserAddCash" maxsize="128" prior="1" type="144">
		<variable name="userid" type="int"/>
		<variable name="cardnum" type="Octets" attr="ref"/>
		<variable name="cardpasswd" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="UserAddCash_Re" maxsize="16" prior="1" type="145">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="SynMutaData" maxsize="32" prior="1" type="146">
		<variable name="synmask" type="unsigned int"/>
		<variable name="roleid" type="unsigned int"/>
		<variable name="level" type="int"/>
		<variable name="reincarnation_times" type="int"/>
	</protocol>
	<protocol name="SSOGetTicket" maxsize="2048" prior="1" type="147">
		<variable name="user" type="SSOUser" attr="ref"/>
		<variable name="toaid" type="int"/>
		<variable name="tozoneid" type="int"/>
		<variable name="info" type="Octets" attr="ref"/>
		<variable name="local_context" type="Octets" attr="ref"/>
	</protocol>
	<protocol name="SSOGetTicket_Re" maxsize="2048" prior="1" type="148">
		<variable name="retcode" type="int"/>
		<variable name="ticket" type="Octets" attr="ref"/>
		<variable name="local_context" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="SSOExtraInfo1">
		<variable name="roleid" type="int" default="0"/>
		<variable name="rolename" type="Octets" attr="ref"/>
		<variable name="level" type="int" default="0"/>
		<variable name="sec_level" type="int" default="0"/>
		<variable name="reputation" type="int" default="0"/>
		<variable name="create_time" type="int" default="0"/>
		<variable name="factionid" type="int" default="0"/>
		<variable name="item" type="std::vector&lt;std::pair&lt;int,int&gt; &gt;" attr="ref"/>
		<variable name="reincarn_times" type="int" default="0"/>
		<variable name="realm_level" type="int" default="0"/>
	</rpcdata>

	<!-- 快捷支付 -->
	<rpcdata name="QPDiscountLevel" attr="vector">
		<variable name="amount_begin" type="int" default="0"/> <!-- 本级充值额度下限 -->
		<variable name="discount" type="int" default="0"/> <!-- 折扣 -->
	</rpcdata>
	<rpcdata name="QPDiscountInfo" attr="vector">
		<variable name="id" type="int" default="0"/> <!-- 商家id -->
		<variable name="name" type="Octets" attr="ref" default="Octets()"/> <!-- 商家名，UTF-16LE编码 -->
		<variable name="discount" type="QPDiscountLevelVector"/> <!-- 分组的折扣 -->
	</rpcdata>
	<protocol name="QPAnnounceDiscount" type="149" maxsize="1024" prior="1">
		<variable name="localsid" type="int"/>
		<variable name="discount" type="QPDiscountInfoVector" attr="ref"/> <!-- 快捷支付的折扣 -->
	</protocol>
	<protocol name="QPGetActivatedServices" type="150" maxsize="512" prior="1">
		<variable name="userid" type="int"/>
	</protocol>
	<protocol name="QPGetActivatedServices_Re" type="151" maxsize="1024" prior="1">
		<variable name="localsid" type="int"/>
		<variable name="merchants" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="retcode" type="int" default="0"/>
	</protocol>
	<protocol name="QPAddCash" type="152" maxsize="512" prior="1">
		<variable name="userid" type="int"/>
		<variable name="cash" type="int"/>
		<variable name="cash_after_discount" type="int"/>
		<variable name="merchant_id" type="int"/>
	</protocol>
	<protocol name="QPAddCash_Re" type="153" maxsize="512" prior="1">
		<variable name="localsid" type="int"/>
		<variable name="cash" type="int"/>
		<variable name="cash_after_discount" type="int"/>
		<variable name="merchant_id" type="int"/>
		<variable name="retcode" type="int" default="0"/>
	</protocol>

	<!--    Rpcs used in reset pos System is 155   -->
	<rpcdata name="PlayerPositionResetRqstArg">
		<variable name="userid" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="reason" type="int" default="0"/>    <!-- 1 副本达上限 2 人数达上限	-->
		<variable name="pos_x" type="float" default="0"/>
		<variable name="pos_y" type="float" default="0"/>
		<variable name="pos_z" type="float" default="0"/>
	</rpcdata>
	<rpcdata name="PlayerPositionResetRqstRes">
		<variable name="retcode" type="int" default="0"/>  <!-- 1 同意 0 拒绝 -->
	</rpcdata>
	<rpc debug="0" name="PlayerPositionResetRqst" type="155" maxsize="64" prior="1" argument="PlayerPositionResetRqstArg" result="PlayerPositionResetRqstRes" timeout="70"/>
	<protocol name="ReportChat" type="156" maxsize="1024" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="dst_roleid" type="int"/>
		<variable name="dst_rolename" type="Octets" attr="ref"/>
		<variable name="content" type="Octets" attr="ref"/>
	</protocol>
	<rpcdata name="CashMoneyExchangeControlArg">
		<variable name="oper" type="char" default="0"/>	<!-- 1 设置比率 2 开启关闭兑换-->
		<variable name="param" type="int" default="0"/>	<!-- oper==1 表示比率 oper==2 (1开0关)-->
	</rpcdata>      
	<rpcdata name="CashMoneyExchangeControlRes">
		<variable name="retcode" type="int" default="-1"/> 
	</rpcdata>          
	<rpc name="CashMoneyExchangeControl" type="8200" argument="CashMoneyExchangeControlArg" result="CashMoneyExchangeControlRes" maxsize="64" prior="1" timeout="30"/>
	<protocol name="CashMoneyExchangeNotify" type="157" maxsize="64" prior="1">
		<variable name="open" type="char"/>
		<variable name="rate" type="int"/>
	</protocol>
		
	<protocol name="PlayerNameUpdate" maxsize="4096" prior="1" type="158">
		<variable name="roleid" type="int"/>
		<variable name="newname" type="Octets" attr="ref"/>
		<variable name="link_localsid_list" type="std::vector&lt;int&gt;" attr="ref"/>
	</protocol>
	<protocol name="MobileServerRegister" type="159" maxsize="64" prior="1">
		<variable name="server_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>

	<rpcdata name="ServerForbidControlArg">
		<variable name="oper" type="char" default="0"/> <!-- 0 查询 1 设置-->
		<variable name="param" type="Octets" attr="ref"/>
	</rpcdata>
	<rpcdata name="ServerForbidControlRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="forbid_cmd" type="Octets" attr="ref"/>
	</rpcdata>
	<rpc name="ServerForbidControl" type="8201" argument="ServerForbidControlArg" result="ServerForbidControlRes" maxsize="1024" prior="1" timeout="30"/>
	<protocol name="ServerForbidNotify" type="160" maxsize="1024" prior="1">
		<variable name="forbid_ctrl_list" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="forbid_item_list" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="forbid_service_list" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="forbid_task_list" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="forbid_skill_list" type="std::vector&lt;int&gt;" attr="ref"/>
        <variable name="forbid_shopitem_list" type="std::vector&lt;int&gt;" attr="ref"/>
        <variable name="forbid_recipe_list" type="std::vector&lt;int&gt;" attr="ref"/>
	</protocol>
	<protocol name="PlayerAccuse" type="161" maxsize="1024" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="dst_roleid" type="int"/>
		<variable name="content" type="Octets" attr="ref"/>
	</protocol>
	<protocol name="PlayerAccuse_Re" type="162" maxsize="1024" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="dst_roleid" type="int"/>
		<variable name="recode" type="int"/>
	</protocol>
	<protocol name="ServerTriggerNotify" type="163" maxsize="1024" prior="1">
		<variable name="trigger_ctrl_list" type="std::vector&lt;int&gt;" attr="ref"/>
	</protocol>
	
	<protocol name="WaitQueueStateNotify" type="164" maxsize="128" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="vip" 	  type="char"/>
		<variable name="vq_size"  type="short"/>
		<variable name="cur_queue_pos"  type="short"/>
		<variable name="waittime" type="int"/>
	</protocol>
	<protocol name="CancelWaitQueue" type="165" maxsize="128" prior="1">
		<variable name="userid" type="int"/> 	
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="CancelWaitQueue_Re" type="166" maxsize="128" prior="1">
		<variable name="result" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol> 	

	<!-- **************************************************************************** -->
	<!-- 		 	Protocols and Rpcs about GameMaster tools	350-500			  	 -->
	<!-- **************************************************************************** -->
	<protocol debug="0" name="GMOnlineNum" maxsize="64" prior="1" type="350">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GMOnlineNum_Re" maxsize="64" prior="1" type="351">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="total_num" type="int"/>
		<variable name="local_num" type="int"/>
	</protocol>
	<protocol debug="0" name="GMListOnlineUser" maxsize="64" prior="1" type="352">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="handler" type="int"/>
		<variable name="cond"	type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<rpcdata name="GMPlayerInfo" attr="vector">
		<variable name="userid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="linkid" type="int" default="-1"/>
	    <variable name="localsid" type="unsigned int" default="0"/>	
		<variable name="gsid" type="int" default="-1"/>
		<variable name="status" type="char" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<protocol debug="0" name="GMListOnlineUser_Re" maxsize="102400" prior="1" type="353">
		<variable name="retcode" type="int"/>
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="handler" type="int"/>
		<variable name="userlist" type="GMPlayerInfoVector"/>
	</protocol>
	<!-- GMKickoutUser will forbid account -->
	<protocol debug="0" name="GMKickoutUser" maxsize="256" prior="1" type="354">
		<variable name="gmroleid" type="int"/> <!-- roleid of game master -->
		<variable name="localsid" type="int"/>
		<variable name="kickuserid" type="int"/>
		<variable name="forbid_time" type="int" default="600"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="GMKickoutUser_Re" maxsize="64" prior="1" type="355">
		<variable name="retcode" type="int"/>
		<variable name="gmroleid" type="int"/> <!-- roleid of game master -->
		<variable name="localsid" type="int"/>
		<variable name="kickuserid" type="int"/>
	</protocol>
	<!-- GMShutup will forbid account -->
	<protocol debug="0" name="GMShutup" maxsize="256" prior="1" type="356">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="dstuserid" type="int"/>
		<variable name="forbid_time" type="int"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="GMShutup_Re" maxsize="64" prior="1" type="357">
		<variable name="retcode" type="int"/>
		<variable name="dstuserid" type="int"/>
		<variable name="forbid_time" type="int"/>
	</protocol>
	<protocol debug="0" name="GMRestartServer" maxsize="64" prior="1" type="358">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="gsid" type="int"/>
		<variable name="restart_time" type="int"/>
	</protocol>
	<protocol debug="0" name="GMRestartServer_Re" maxsize="64" prior="1" type="359">
		<variable name="retcode" type="int"/>
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="gsid" type="int"/>
	</protocol>
	<!-- GMKickoutRole only forbid Role -->
	<protocol debug="0" name="GMKickoutRole" maxsize="256" prior="1" type="360">
		<variable name="gmroleid" type="int"/> <!-- roleid of game master -->
		<variable name="localsid" type="int"/>
		<variable name="kickroleid" type="int"/>
		<variable name="forbid_time" type="int" default="600"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="GMKickoutRole_Re" maxsize="64" prior="1" type="361">
		<variable name="retcode" type="int"/>
		<variable name="gmroleid" type="int"/> <!-- roleid of game master -->
		<variable name="localsid" type="int"/>
		<variable name="kickroleid" type="int"/>
	</protocol>
	<!-- GMShutupRole only forbid Role -->
	<protocol debug="0" name="GMShutupRole" maxsize="256" prior="1" type="362">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="dstroleid" type="int"/>
		<variable name="forbid_time" type="int"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="GMShutupRole_Re" maxsize="64" prior="1" type="363">
		<variable name="retcode" type="int"/>
		<variable name="dstroleid" type="int"/>
		<variable name="forbid_time" type="int"/>
	</protocol>
	<protocol debug="0" name="GMToggleChat" maxsize="64" prior="1" type="364">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="enable" type="char"/>
	</protocol>	
	<protocol debug="0" name="GMToggleChat_Re" maxsize="64" prior="1" type="365">
		<variable name="retcode" type="int"/>
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="enable" type="char"/>
	</protocol>
	<protocol debug="0" name="GMForbidRole" maxsize="256" prior="1" type="366">
		<variable name="fbd_type" type="unsigned char"/>
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="dstroleid" type="int"/>
		<variable name="forbid_time" type="int"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="GMForbidRole_Re" maxsize="64" prior="1" type="367">
		<variable name="retcode" type="int"/>
		<variable name="fbd_type" type="unsigned char"/>
		<variable name="dstroleid" type="int"/>
		<variable name="forbid_time" type="int"/>
	</protocol>

	<protocol debug="0" name="Report2GM" maxsize="512" prior="1" type="368">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="rolename" type="Octets" attr="ref"/>
		<variable name="zoneid" type="int"/>
		<variable name="mapzone" type="Octets" attr="ref"/>
		<variable name="posx" type="float"/>
		<variable name="posy" type="float"/>
		<variable name="posz" type="float"/>
		<variable name="content" type="Octets" attr="ref"/>
		<variable name="aid" type="int"/>
		<variable name="line" type="Octets" attr="ref"/>
		<variable name="com_roleid" type="int"/>
		<variable name="com_rolename" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="Report2GM_Re" maxsize="64" prior="1" type="369">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	
	<protocol debug="0" name="Complain2GM" maxsize="256" prior="1" type="370">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="rolename" type="Octets" attr="ref"/>
		<variable name="comp_rolename" type="Octets" attr="ref"/>
		<variable name="zoneid" type="int"/>
		<variable name="mapzone" type="Octets" attr="ref"/>
		<variable name="posx" type="float"/>
		<variable name="posy" type="float"/>
		<variable name="posz" type="float"/>
		<variable name="content" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="Complain2GM_Re" maxsize="64" prior="1" type="371">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="AnnounceLinkType" maxsize="32" prior="1" type="372">
		<variable name="link_type" type="unsigned char"/>
	</protocol>
	<protocol debug="0" name="SetMaxOnlineNum" maxsize="64" prior="1" type="373">
		<variable name="maxnum" type="int"/>
		<variable name="fake_maxnum" type="int"/>
	</protocol>
	<protocol debug="0" name="SetMaxOnlineNum_Re" maxsize="64" prior="1" type="374">
		<variable name="retcode" type="int"/>
	</protocol>
	<rpcdata name="GetMaxOnlineNumArg">
		<variable name="padding" type="int"/>
	</rpcdata>
	<rpcdata name="GetMaxOnlineNumRes">
		<variable name="retcode" type="int"/>
		<variable name="maxnum"  type="int"/>
		<variable name="fake_maxnum"  type="int"/>
		<variable name="curnum"  type="int"/>
	</rpcdata>
	<rpc debug="0" name="GetMaxOnlineNum" maxsize="64" prior="1" type="375" argument="GetMaxOnlineNumArg" result="GetMaxOnlineNumRes" timeout="30"/>

	<rpcdata name="GMGetGameAttriArg">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="attribute" type="unsigned char"/>
	</rpcdata>
	<rpcdata name="GMGetGameAttriRes">
		<variable name="value" type="Octets"/>
	</rpcdata>
	<rpc name="GMGetGameAttri" argument="GMGetGameAttriArg" result="GMGetGameAttriRes" maxsize="1024" type="376" prior="1" timeout="30"/>
	<rpcdata name="GMSetGameAttriArg">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="attribute" type="unsigned char"/>
		<variable name="value" type="Octets"/>
	</rpcdata>
	<rpcdata name="GMSetGameAttriRes">
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc name="GMSetGameAttri" argument="GMSetGameAttriArg" result="GMSetGameAttriRes" maxsize="1024" type="377" prior="1" timeout="30"/>
	<protocol debug="0" name="GMForbidSellPoint" maxsize="64" prior="1" type="378">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="forbid_time" type="int"/>
		<variable name="blOn" type="char" default="0"/>
	</protocol>
	<protocol debug="0" name="GMForbidSellPoint_Re" maxsize="64" prior="1" type="379">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GMControlGame" maxsize="256" prior="1" type="380">
		<variable name="xid" type="int"/>
		<variable name="worldtag" type="int"/>
		<variable name="command" type="Octets"/>
	</protocol>
	<rpcdata name="GMControlGameRes" attr="vector">
		<variable name="gsid" type="int"/>
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<!--
	    enum { DEFAULT_GAMECONTROL_TIMEOUT = 15 };
    enum { GAMECONTROL_TIMEOUT = -2, GAMECONTROL_SENDFAIL = -1
		            , GAMECONTROL_SUCCESS = 0, GAMECONTROL_FAIL = 1 };
    enum { GAMECONTROL_INVALID_WORLDTAG = -1 };
    -->
	<protocol debug="0" name="GMControlGame_Re" maxsize="4096" prior="1" type="381">
		<variable name="xid" type="int"/>
		<variable name="retcode" type="int"/>
		<variable name="resvector" type="GMControlGameResVector"/>
	</protocol>

	<rpcdata name="PlayerConsumeInfo" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="level" type="int" default="-1"/>
		<variable name="login_ip"	type="int" default="0"/>
		<variable name="cash_add" type="unsigned int" default="0"/>
		<variable name="mall_consumption" type="unsigned int" default="0"/>
		<variable name="avg_online_time" type="unsigned int" default="0"/>
	</rpcdata>
	<protocol debug="0" name="GMGetPlayerConsumeInfo" maxsize="1024" prior="1" type="382">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="IntVector" attr="ref"/>
		<variable name="reason" type="unsigned char"/>
	</protocol>
	<protocol debug="0" name="GMGetPlayerConsumeInfo_Re" maxsize="8192" prior="1" type="383">
		<variable name="retcode" type="int"/>
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="playerlist" type="PlayerConsumeInfoVector" attr="ref"/>
		<variable name="reason" type="unsigned char"/>
	</protocol>
	<rpcdata name="DBGetConsumeInfosArg">
		<variable name="playerlist" type="IntVector" default="IntVector()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBGetConsumeInfosRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="playerlist" type="PlayerConsumeInfoVector" default="PlayerConsumeInfoVector()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBGetConsumeInfos" argument="DBGetConsumeInfosArg" result="DBGetConsumeInfosRes" type="384" maxsize="8192" prior="1" timeout="30"/>
	<protocol name="GMSetTimelessAutoLock" maxsize="32" prior="1" type="385">
		<variable name="gmroleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="dstroleid" type="int"/>
		<variable name="enable" type="char"/>
	</protocol>
	<protocol name="GMSetTimelessAutoLock_Re" maxsize="32" prior="1" type="386">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="dstroleid" type="int"/>
	</protocol>

	<!-- iweb设置玩家安全锁 -->
	<protocol name="IWebAutolockGet" type="387" maxsize="16" prior="1">
		<variable name="tid" type="int"/>
		<variable name="userid" type="int"/>
	</protocol> 

	<protocol name="IWebAutolockGet_Re" type="388" maxsize="128" prior="1">
		<variable name="tid" type="int"/>
		<variable name="retcode" type="int"/>
		<variable name="userid" type="int"/>
		<variable name="settime" type="int" default="-1"/> <!-- 设定时间 -->
		<variable name="locktime" type="int" default="0"/> <!-- -1: 无时限锁，0: 未锁定锁, 大于0: 锁定的秒数 -->
	</protocol> 

	<protocol name="IWebAutolockSet" type="389" maxsize="16" prior="1">
		<variable name="tid" type="int"/>
		<variable name="userid" type="int"/>
		<variable name="locktime" type="int"/> <!-- -1: 无时限锁，0: 解锁, 大于0: 锁定的秒数 -->
	</protocol> 

	<protocol name="IWebAutolockSet_Re" type="390" maxsize="128" prior="1">
		<variable name="tid" type="int"/>
		<variable name="retcode" type="int"/>
		<variable name="userid" type="int"/>
	</protocol> 

	<rpcdata name="DBAutolockSetOfflineArg">
		<variable name="userid" type="int"/>
		<variable name="autolockdiff" type="std::vector&lt;GPair&gt;" default="std::vector&lt;GPair&gt;()"/>
	</rpcdata>
	<rpcdata name="DBAutolockSetOfflineRes">
		<variable name="retcode" type="int"/>
		<variable name="autolock" type="std::vector&lt;GPair&gt;" default="std::vector&lt;GPair&gt;()"/>
	</rpcdata>
	<rpc debug="0" name="DBAutolockSetOffline" type="391" maxsize="256" prior="1" timeout="30"/>

	<rpcdata name="DBAutolockGetArg">
		<variable name="userid" type="int"/>
	</rpcdata>
	<rpcdata name="DBAutolockGetRes">
		<variable name="retcode" type="int"/>
		<variable name="autolock" type="std::vector&lt;GPair&gt;" default="std::vector&lt;GPair&gt;()"/>
	</rpcdata>
	<rpc debug="0" name="DBAutolockGet" type="392" maxsize="256" prior="1" timeout="30"/>

	<!--  ****************************************************************************  -->
	<!--             Protocols and Rpcs used  in authd typeid is 501 - 600, 8000 - 8999 -->
	<!--  ****************************************************************************  -->
	<rpcdata name="GQueryPasswdArg">
		<variable name="account" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="challenge" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="loginip" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GQueryPasswdRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="response" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="GQueryPasswd" type="502" argument="GQueryPasswdArg" result="GQueryPasswdRes" maxsize="128" prior="101" timeout="40"/>
	<rpcdata name="AccntParam" attr="vector">
		<variable name="type" type="unsigned int" default="0"/>
		<variable name="value" type="unsigned int" default="0"/>
	</rpcdata>
	<protocol debug="0" name="AccountingRequest" maxsize="128" prior="101" type="503">
		<variable name="stamp" type="unsigned int" />
		<variable name="userid" type="int" />
		<variable name="authenticator" type="Octets" attr="ref" />
		<variable name="attributes" type="AccntParamVector"/>
	</protocol>

	<protocol debug="0" name="AccountingResponse" maxsize="32" prior="101" type="504">
		<variable name="stamp" type="unsigned int" />
		<variable name="userid" type="int" />
		<variable name="authenticator" type="Octets" attr="ref" />
	</protocol>
	<protocol debug="0" name="AnnounceZoneid" maxsize="32" prior="101" type="505">
		<variable name="zoneid" type="char"/>  <!--game zone id -->
		<variable name="aid" type="char" default="-1"/>		<!-- accounting area id-->
		<variable name="blreset" type="char" default="0"/> <!-- whether clear all online records of this zoneid-->
	</protocol>
	<protocol name="AnnounceZoneid2" type="523" maxsize="32" prior="101">
		<variable name="zoneid" type="int"/>
		<variable name="aid" type="int" default="-1"/>
		<variable name="blreset" type="char" default="0"/>
	</protocol>
	<protocol name="AnnounceZoneid3" type="527" maxsize="64" prior="101">
		<variable name="zoneid" type="int"/>
		<variable name="aid" type="int" default="-1"/>
		<variable name="blreset" type="char" default="0"/>
		<variable name="ip1" type="int" default="0"/>
		<variable name="ip2" type="int" default="0"/>
		<variable name="ip3" type="int" default="0"/>
		<variable name="get_au_version" type="int" default="0"/>
		<variable name="reserved" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="QueryUserPrivilege" type="506" maxsize="32" prior="101">
		<variable name="userid" type="int"/>
		<variable name="zoneid" type="char"/>
	</protocol>
	<protocol debug="0" name="QueryUserPrivilege_Re" type="507" maxsize="512" prior="101">
		<variable name="userid" type="int"/>
		<variable name="auth" type="ByteVector" attr="ref"/>
	</protocol>
	<protocol debug="0" name="QueryUserForbid" type="508" maxsize="32" prior="101">
		<variable name="userid" type="int"/>
		<variable name="zoneid" type="char"/>
	</protocol>
	<protocol debug="0" name="QueryUserForbid_Re" type="509" maxsize="4096" prior="101">
		<variable name="userid" type="int"/>
		<variable name="list_type" type="int"/><!--0:forbid list at login,1:reply of forbid-->
		<variable name="forbid" type="GRoleForbidVector"/>
	</protocol>
	<protocol debug="0" name="NetBarAnnounce" maxsize="1024" prior="3" type="529">
		<variable name="userid" type="int" />
		<variable name="aid" type="int" />
		<variable name="zoneid" type="int" />
		<variable name="title" type="int" />
		<variable name="rolename" type="Octets" />
		<variable name="netbarid" type="int" />
		<variable name="netbarzone" type="int" />
		<variable name="netbarname" type="Octets" />
		<variable name="netbarlevel" type="int" />
		<variable name="netbartitle" type="Octets" />
		<variable name="awardtype" type="Octets" />
		<variable name="reserved1" type="int" />
		<variable name="reserved2" type="int" />
	</protocol>

	<!-- below protocol is used by gameserver to query information -->
	<protocol debug="0" name="QueryRewardType" type="510" maxsize="64" prior="101">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol debug="0" name="QueryRewardType_Re" type="511" maxsize="64" prior="101">
		<variable name="roleid" type="int"/>
		<variable name="reward" type="int"/>
		<variable name="reward2" type="int"/>
		<variable name="param" type="int"/>
		<variable name="rewardmask" type="int"/>
	</protocol>
	<rpcdata name="GameAttr" attr="vector">
		<variable name="attr" type="unsigned char" default="0"/>
		<variable name="value" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<protocol debug="0" name="QueryGameServerAttr" type="512" maxsize="32" prior="101">
		<variable name="paddings" type="unsigned char" default="0"/>
	</protocol>
	<protocol debug="0" name="QueryGameServerAttr_Re" type="513" maxsize="2048" prior="101">
		<variable name="attr" type="GameAttrVector" attr="ref"/> 
	</protocol>

	<rpcdata name="CashSerialArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="force" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="CashSerialRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="sn" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="CashSerial" type="8009" maxsize="128" prior="0" timeout="60"/>
	<rpcdata name="GetAddCashSNArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="GetAddCashSNRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="sn" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="GetAddCashSN" type="514" argument="GetAddCashSNArg" result="GetAddCashSNRes" maxsize="128" prior="0" timeout="60"/>
	<protocol debug="0" name="AddCash" type="515" maxsize="256" prior="0">
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="sn" type="int" default="0"/>
		<variable name="cash" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="AddCash_Re" type="516" maxsize="256" prior="0">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="sn" type="int" default="0"/>
		<variable name="cash_stub" type="unsigned int" default="0"/>
	</protocol>
	<protocol debug="0" name="UseCash" type="517" maxsize="128" prior="0">
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="aid" type="int" default="-1"/>
		<variable name="point" type="int" default="-1"/>
		<variable name="cash" type="int" default="-1"/>
	</protocol>
	<protocol debug="0" name="UseCash_Re" type="518" maxsize="128" prior="0">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
	</protocol>
        <protocol debug="0" name="VerifyMaster" type="519" maxsize="128" prior="0">
                <variable name="zoneid" type="int" default="-1"/>
                <variable name="roleid" type="int" default="-1"/>
                <variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="faction" type="Octets" attr="ref" default="Octets(0)"/>
        </protocol>
        <protocol debug="0" name="VerifyMaster_Re" type="520" maxsize="128" prior="0">
                <variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
                <variable name="ret" type="int" default="-1"/>
        </protocol>        
	<protocol debug="0" name="DebugAddCash" type="521" maxsize="256" prior="0">
		<variable name="userid" type="int" default="-1"/>
		<variable name="cash" type="int" default="0"/>
	</protocol>
	<rpcdata name="MatrixPasswdArg">
		<variable name="account" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="challenge" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="loginip" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="MatrixPasswdRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="algorithm" type="int" default="0"/>
		<variable name="response" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="matrix" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="MatrixPasswd" type="550" argument="MatrixPasswdArg" result="MatrixPasswdRes" maxsize="512" prior="101" timeout="30"/>
	<protocol debug="0" name="MatrixChallenge" maxsize="64" prior="101" type="551">
		<variable name="algorithm" type="int"/>
		<variable name="nonce" type="unsigned int" default="0" />
	</protocol>
	<protocol debug="0" name="MatrixResponse" maxsize="64" prior="101" type="552">
		<variable name="response" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="MatrixFailure" maxsize="64" prior="101" type="553">
		<variable name="userid" type="int" default="0"/>
		<variable name="loginip" type="int" default="0"/>
		<variable name="weight" type="int" default="0"/>
	</protocol>
	<rpcdata name="GPair">
		<variable name="key" type="int" default="0"/>
		<variable name="value" type="int" default="0"/>
	</rpcdata>
	<protocol debug="0" name="AddictionControl" maxsize="512" prior="101" type="556">
		<variable name="zoneid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="rate" type="int" default="0"/>
		<variable name="msg" type="int" default="0"/>
		<variable name="data" type="std::vector&lt;GPair&gt;" attr="ref" default="std::vector&lt;GPair&gt;()"/>
	</protocol>

	<!-- below protocol is used by cert verification -->
	<protocol debug="0" name="CertRequest" type="545" maxsize="8192" prior="101">
		<variable name="reserved1" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="CertAnswer" type="546" maxsize="8192" prior="101">
		<variable name="authd_cert" type="Octets"/>
		<variable name="reserved1" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="CertKey" type="547" maxsize="8192" prior="101">
		<variable name="d_key1_encrypt" type="Octets"/>
		<variable name="d_key2_encrypt" type="Octets"/>
		<variable name="reserved1" type="int" default="0"/>
	</protocol>

	<protocol debug="0" name="CertFinish" type="548" maxsize="8192" prior="101">
		<variable name="reserved1" type="int" default="0"/>
	</protocol>
	<!--完美点券相关协议-->
	<rpcdata name="GetUserCouponArg">
		<variable name="userid" type="int" default="0"/>
	</rpcdata>      
	<rpcdata name="GetUserCouponRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="remain_coupon" type="int" default="0"/>
		<variable name="today_exchange_coupon" type="int" default="0"/>
		<variable name="today_remain_coupon" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>      
	<rpc debug="0" name="GetUserCoupon" type="8062" argument="GetUserCouponArg" result="GetUserCouponRes" maxsize="128" prior="101" timeout="30"/>
	<rpcdata name="CouponExchangeArg">
		<variable name="userid" type="int" default="0"/>
		<variable name="coupon_number" type="int" default="0"/>
		<variable name="cash_number" type="int" default="0"/>
		<variable name="timestamp" type="int64_t" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>      
	<rpcdata name="CouponExchangeRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="remain_coupon" type="int" default="0"/>
		<variable name="today_exchange_coupon" type="int" default="0"/>
		<variable name="today_remain_coupon" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>      
	<rpc debug="0" name="CouponExchange" type="8063" argument="CouponExchangeArg" result="CouponExchangeRes" maxsize="128" prior="101" timeout="30"/>
	<!--对于支持二代神盾的delivery，应使用以下协议进行登陆验证-->
	<rpcdata name="MatrixPasswd2Res">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="algorithm" type="int" default="0"/>
		<variable name="response" type="Octets" attr="ref" default="Octets()"/>
		<variable name="matrix" type="Octets" attr="ref" default="Octets()"/>
		<variable name="seed" type="Octets" attr="ref" default="Octets()"/> <!--seed pin rtime(AU时间)用于二代神盾登陆验证-->
		<variable name="pin" type="Octets" attr="ref" default="Octets()"/>
		<variable name="rtime" type="int" default="0"/>
		<variable name="au_curtime" type="int" default="0"/>				<!--AU当前时间，用于对rtime的调整-->
		<variable name="forbid" type="GRoleForbidVector" attr="ref" default="GRoleForbidVector()"/>
		<variable name="last_used_elec_number" type="Octets" attr="ref" default="Octets()"/><!--上次登陆使用的二代神盾电子码-->
	</rpcdata>
	<rpc debug="0" name="MatrixPasswd2" type="8066" argument="MatrixPasswdArg" result="MatrixPasswd2Res" maxsize="1024" prior="101" timeout="30"/>
	<rpcdata name="UserLogin2Arg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="blkickuser" type="char"	default="0"/>
		<variable name="freecreatime" type="int" default="0"/>
		<variable name="used_elec_number" type="Octets" attr="ref" default="Octets()"/><!--本次登陆使用的二代神盾电子码-->
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="Octets" default="Octets()" attr="ref"/>
		<variable name="loginip" type="int" default="0"/>
		<variable name="account" type="Octets" default="Octets()" attr="ref"/>
		<variable name="iseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="oseckey" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>      
	<rpcdata name="UserLogin2Res">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="remain_playtime" type="int" default="0"/>
		<variable name="func" type="int" default="0"/>
		<variable name="funcparm" type="int" default="0"/>
		<variable name="blIsGM" type="char" default="0"/>
		<variable name="free_time_left" type="int" default="0"/>
		<variable name="free_time_end" type="int" default="0"/>
		<variable name="creatime" type="int" default="0"/>
		<variable name="adduppoint" type="int" default="0"/>
		<variable name="soldpoint" type="int" default="0"/>
		<variable name="auth" type="ByteVector" attr="ref" default="ByteVector()"/>
		<variable name="gender" type="unsigned char" default="0"/>
		<variable name="remain_coupon" type="int" default="0"/>
		<variable name="today_exchange_coupon" type="int" default="0"/>
		<variable name="today_remain_coupon" type="int" default="0"/>
		<variable name="nickname" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpc debug="0" name="UserLogin2" type="8067" argument="UserLogin2Arg" result="UserLogin2Res" maxsize="512" prior="101" timeout="40"/>
	<!--北美core平台token登陆方式-->
	<rpcdata name="MatrixTokenArg">
		<variable name="account" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="token" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="loginip" type="int" default="0"/>
		<variable name="challenge" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="MatrixTokenRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="algorithm" type="int" default="0"/>
		<variable name="response" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="matrix" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="MatrixToken" type="8070" argument="MatrixTokenArg" result="MatrixTokenRes" maxsize="512" prior="101" timeout="30"/>
	<!--游戏内用完美一卡通充值-->
	<rpcdata name="InstantAddCashArg">
		<variable name="userid" type="int" default="0"/>
		<variable name="loginip" type="int" default="0"/>
		<variable name="cardnum" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="cardpasswd" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="reserved" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="InstantAddCashRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc name="InstantAddCash" type="8015" argument="InstantAddCashArg" result="InstantAddCashRes" maxsize="128" prior="101" timeout="30"/>

	<rpcdata name="SSOUser">
		<variable name="isagent" type="char" default="0"/>
		<variable name="userid" type="int64_t" default="0"/>
		<variable name="account" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="agentname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="agentaccount" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<protocol name="SSOGetTicketReq" type="8016" maxsize="2048" prior="1">
		<variable name="user" type="SSOUser" attr="ref"/>
		<variable name="loginip" type="int"/>
		<variable name="toaid" type="int"/>
		<variable name="tozoneid" type="int"/>
		<variable name="info" type="Octets" attr="ref"/>
		<variable name="local_context" type="Octets" attr="ref"/>
		<variable name="reserved" type="Octets" attr="ref"/>
	</protocol>
	<protocol name="SSOGetTicketRep" type="8017" maxsize="2048" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="user" type="SSOUser" attr="ref"/>
		<variable name="ticket" type="Octets" attr="ref"/>
		<variable name="local_context" type="Octets" attr="ref"/>
		<variable name="reserved" type="Octets" attr="ref"/>
	</protocol>

	<rpcdata name="GTouchTrade">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="state" type="char" default="0"/>
		<variable name="cost" type="unsigned int" default="0"/>
		<variable name="itemid" type="unsigned int" default="0"/>
		<variable name="count" type="unsigned int" default="0"/>
		<variable name="lots" type="unsigned int" default="0"/>
		<variable name="expiretime" type="int" default="0"/>
	</rpcdata>
	<protocol name="AU2Game" type="8038" maxsize="1048576" prior="1">
		<variable name="userid" type="int"/>
		<variable name="qtype" type="int"/>
		<variable name="info" type="Octets" attr="ref" default="Octets()"/>
		<variable name="retcode" type="int" default="0"/>
		<variable name="reserved" type="int" default="0"/>
	</protocol>
	<protocol name="Game2AU" type="8039" maxsize="1048576" prior="1">
		<variable name="userid" type="int"/>
		<variable name="qtype" type="int"/>
		<variable name="info" type="Octets"/>
		<variable name="reserved" type="int"/>
	</protocol>

	<!-- 快捷支付已开通商家 -->
	<rpcdata name="MInt" attr="vector">
		<variable name="id" type="int"/> <!-- 商家id -->
	</rpcdata>

	<!--快捷支付-->
	<rpcdata name="DiscountGrade" attr="vector">
		<variable name="amount_begin" type="int" default="0"/> <!-- 本级充值额度下限 -->
		<variable name="discount" type="int" default="0"/> <!-- 折扣 -->
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="MerchantDiscount" attr="vector">
		<variable name="id" type="int" default="0"/> <!-- 商家id -->
		<variable name="name" type="Octets" attr="ref" default="Octets()"/> <!-- 商家名，UTF-16LE编码 -->
		<variable name="reserved" type="int" default="0"/>
		<variable name="discount" type="DiscountGradeVector"/> <!-- 分组的折扣 -->
	</rpcdata>
	<protocol name="DiscountAnnounce" type="8064" maxsize="1024" prior="1">
		<variable name="discount" type="MerchantDiscountVector"/> <!-- 快捷支付的折扣 -->
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	
	<!--  ****************************************************************************  -->
	<!--             Protocols and Rpcs used  in Sell Point is 601 - 699        	    -->
	<!--  ****************************************************************************  -->
	<protocol name="SellPoint" type="601" maxsize="128" prior="1">
		<variable name="roleid" type="int" />
		<variable name="localsid" type="unsigned int" default="0"/>
	   	<variable name="point" type="int" default="0"/> <!-- 1 point = 1 second -->
		<variable name="price" type="int" default="0"/>
	</protocol>
	<protocol name="SellPoint_Re" type="602" maxsize="512" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="info" type="SellPointInfo" default="SellPointInfo()" attr="ref"/>
	</protocol>
	<protocol name="GetSellList" type="603" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="GetSellList_Re" type="604" maxsize="102400" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="list" type="std::vector&lt;SellPointInfo&gt;" attr="ref"/>
	</protocol>
	<protocol name="SellCancel" type="605" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="sellid" type="int" default="0"/>
	</protocol>
	<protocol name="SellCancel_Re" type="606" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="sellid" type="int"/>
	</protocol>
	<protocol name="BuyPoint" type="607" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="sellid" type="int"/>
		<variable name="seller" type="int"/>
	</protocol>
	<protocol name="BuyPoint_Re" type="608" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="sellid" type="int"/>
		<variable name="seller" type="int"/>
	</protocol>
	<protocol name="SyncSellInfo" type="609" maxsize="128" prior="1"> <!-- GameDbd send newest info to delivery-->
		<variable name="info" type="SellPointInfo" attr="ref"/>
		<variable name="buyer" type="int" default="0"/>
	</protocol>
	<protocol name="AnnounceSellResult" type="610" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="sellid" type="int" default="0"/>
		<variable name="seller" type="int" default="0"/>
		<variable name="point"  type="int" default="0"/>
		<variable name="price"  type="int" default="0"/>
	</protocol>
	<rpcdata name="SellID">
		<variable name="roleid" type="int" default="0"/>
		<variable name="sellid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DefSellPointRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="SellPointInfo">
		<variable name="sellid" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="point"  type="int" default="0"/>
		<variable name="price"  type="int" default="0"/>
		<variable name="ctime"  type="int" default="0"/>
		<variable name="etime"  type="int" default="0"/>
		<variable name="status" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="SellPointArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	   	<variable name="point" type="int" default="0"/> <!-- 1 point = 1 second -->
		<variable name="price" type="int" default="0"/>
		<variable name="timestamp" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="SellPointRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="sellid" type="int" default="0"/>
		<variable name="ctime" type="int" default="0"/> <!-- create time -->
		<variable name="etime" type="int" default="0"/> <!-- expire time -->
		<variable name="status" type="char" default="0"/>
		<variable name="money" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBSellPoint" type="611" argument="SellPointArg" result="SellPointRes" maxsize="128" prior="1" timeout="30"/>
	<!-- get all sell info of a role, or all roles( if roleid=-1 )-->
	<rpcdata name="DBSyncSellInfoRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="list" type="std::vector&lt;SellPointInfo&gt;" attr="ref" default="std::vector&lt;SellPointInfo&gt;()"/>
	</rpcdata>	
	<rpc name="DBSyncSellInfo" type="612" argument="RoleId" result="DBSyncSellInfoRes" maxsize="1048576" prior="1" timeout="90"/>
	<rpc name="DBSellTimeout" type="613" argument="SellID" result="DBSyncSellInfoRes" maxsize="128" prior="1" timeout="90"/>
	<rpc name="DBSellCancel" type="614" argument="SellID" result="DBSyncSellInfoRes" maxsize="128" prior="1" timeout="90"/>
	<rpcdata name="DBBuyPointArg">
		<variable name="buyer" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="sellid" type="int" default="0"/>
		<variable name="seller" type="int" default="0"/>
		<variable name="timestamp" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBBuyPointRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="point" type="int" default="0"/>
		<variable name="price" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBBuyPoint" type="615" argument="DBBuyPointArg" result="DBBuyPointRes" maxsize="128" prior="1" timeout="30"/>
	<rpcdata name="TransID">
		<variable name="zoneid" type="int" default="0"/>
		<variable name="serialno" type="int" default="0"/>
	</rpcdata>
	<protocol name="TransBuyPoint" type="616" maxsize="512" prior="1">
		<variable name="tid" type="TransID"/>
	   	<variable name="sellid" type="SellID"/>
		<variable name="buyer" type="int"/>
		<variable name="price" type="int"/>
		<variable name="point" type="int"/>
		<variable name="aid" type="int"/>
    </protocol>	
	<protocol name="TransBuyPoint_Re" type="617" maxsize="512" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="TransID"/>
	   	<variable name="sellid" type="SellID"/>
		<variable name="buyer" type="int"/>
		<variable name="price" type="int"/>
		<variable name="point" type="int"/>
		<variable name="aid" type="int"/>
    </protocol>	
	<rpcdata name="DBTransPointDealRes"> <!-- send to gamedbd when role login -->
		<variable name="retcode" type="int"/>
		<variable name="delsell" type="IntVector" attr="ref"/> <!-- which sell should be removed from delivery -->
		<variable name="getmoney" type="int"/>
	</rpcdata>
	<rpc name="DBTransPointDeal" type="618" argument="RoleId" result="DBTransPointDealRes" maxsize="8192" prior="1" timeout="60"/>
	<protocol name="FindSellPointInfo" type="619" maxsize="512" prior="1">
		<variable name="startid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="forward" type="char" default="1"/>
	</protocol>
	<protocol name="FindSellPointInfo_Re" type="620" maxsize="102400" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="list" type="std::vector&lt;SellPointInfo&gt;" attr="ref"/>
	</protocol>
	<rpcdata name="PutSpouseArg">
		<variable name="oper" type="int" default="0"/>
		<variable name="rid1" type="int" default="0"/>
		<variable name="rid2" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="PutSpouse" type="4047" argument="PutSpouseArg" result="RpcRetcode" maxsize="64" prior="1" timeout="20"/>
	<protocol name="OnDivorce" type="4048" maxsize="64" prior="1">
		<variable name="rid1" type="int"/>
		<variable name="rid2" type="int"/>
	</protocol>
	<rpcdata name="RawKeyValue" attr="vector">
		<variable name="key" type="Octets" default="Octets(0)"/>
		<variable name="value" type="Octets" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="DBRawReadArg">
		<variable name="table" type="Octets" default="Octets()"/>
		<variable name="handle" type="Octets" default="Octets()"/>
		<variable name="key" type="Octets" default="Octets()"/>
	</rpcdata>
	<rpcdata name="DBRawReadRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="handle" type="Octets" default="Octets()"/>
		<variable name="values" type="std::vector&lt;RawKeyValue>" attr="ref" default="std::vector&lt;RawKeyValue>()" />
	</rpcdata>
	<rpc debug="0" name="DBRawRead" type="3055" argument="DBRawReadArg" result="DBRawReadRes" maxsize="262144" prior="1" timeout="60"/>
	<rpcdata name="DBClearConsumableArg">
		<variable name="userid" type="int" default="0"/>
		<variable name="logintime" type="int" default="0"/>
		<variable name="dryrun" type="char" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBClearConsumable" maxsize="64" result="RpcRetcode" type="7000" prior="1"/>
	<!--  ****************************************************************************  -->
	<!--             Protocols and Rpcs used  in gameDB typeid is 3001 - 3500      	    -->
	<!--  ****************************************************************************  -->
	<rpcdata name="StockLog">
		<variable name="tid" type="unsigned int" default="0"/>
		<variable name="time" type="int" default="0"/>
		<variable name="result" type="short" default="0"/>
		<variable name="volume" type="short" default="0"/>
		<variable name="cost" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GLoginRecord">
		<variable name="login_time" type="int" default="0"/>
		<variable name="login_ip" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GConsumptionRecord">
		<variable name="consumption" type="int" default="0"/>
		<variable name="reserved" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="UserID">
		<variable name="id" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="User">
		<variable name="logicuid" type="unsigned int" default="0"/>
		<variable name="rolelist" type="unsigned int" default="0"/>
		<variable name="cash" type="int" default="0"/>
		<variable name="money" type="int" default="0"/>
		<variable name="cash_add" type="unsigned int" default="0"/>
		<variable name="cash_buy" type="unsigned int" default="0"/>
		<variable name="cash_sell" type="unsigned int" default="0"/>
		<variable name="cash_used" type="unsigned int" default="0"/>
		<variable name="add_serial" type="int" default="0"/>
		<variable name="use_serial" type="int" default="0"/>
		<variable name="exg_log" type="std::vector&lt;StockLog&gt;" default="std::vector&lt;StockLog&gt;()"/>
		<variable name="addiction" type="Octets" attr="ref"/>
		<variable name="cash_password" type="Octets" attr="ref"/>
		<variable name="autolock" type="std::vector&lt;GPair&gt;" default="std::vector&lt;GPair&gt;()"/>
		<variable name="status" type="char" default="0"/>
		<variable name="forbid" type="GRoleForbidVector" />
		<variable name="reference" type="Octets" attr="ref"/> <!--下线系统的数据存储 -->
		<variable name="consume_reward" type="Octets" attr="ref"/> <!--消费返鸿利-->
		<variable name="taskcounter" type="Octets" attr="ref"/><!--记录账号完成任务的次数-->
		<variable name="cash_sysauction" type="Octets" attr="ref"/>
		<variable name="login_record" type="Octets" attr="ref"/>
		<variable name="mall_consumption" type="Octets" attr="ref"/>
		<variable name="reserved32" type="short" default="0"/>
	</rpcdata>
	<rpcdata name="UserArg">
		<variable name="id" type="unsigned int" default="0"/>
		<variable name="login_time" type="int" default="0"/>
		<variable name="login_ip" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="UserRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="User"/>
	</rpcdata>	
	<rpcdata name="UserPair">
		<variable name="key" type="UserID"/>
		<variable name="value" type="User"/>
	</rpcdata>
	<rpc debug="0" name="PutUser" type="3001" argument="UserPair" result="RpcRetcode" table="user" attr="put" key="key" value="value" maxsize="8192" prior="1" timeout="20"/>
	<rpc debug="0" name="GetUser" type="3002" argument="UserArg" result="UserRes" table="user" attr="get" retcode="retcode" value="value" maxsize="8192" prior="1" timeout="30"/>
	<rpc debug="0" name="DelUser" type="3003" argument="UserID" result="RpcRetcode" table="user" attr="del" maxsize="64" prior="1" timeout="20"/>

	<rpcdata name="GRoleForbid" attr="vector">
		<variable name="type" type="unsigned char" default="0"/>
		<variable name="time" type="int" default="0"/>
		<variable name="createtime" type="int" default="0"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="GRoleBase">
		<variable name="version" type="char" default="1" fixvalue="true"/>
		<variable name="id" type="unsigned int"  default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="race" type="int"  default="0"/>
		<variable name="cls" type="int"  default="0"/>
		<variable name="gender" type="unsigned char"  default="0"/>
		<variable name="custom_data" type = "Octets" default="Octets(0)"/>
		<variable name="config_data" type = "Octets" default="Octets(0)"/>
		<variable name="custom_stamp" type = "unsigned int" default="0"/>
		<variable name="status" type="unsigned char" default="0"/>	<!--whether the role is ready to delete -->
		<variable name="delete_time" type="int" default="0"/> <!--delete time-->
		<variable name="create_time" type="int" default="0"/>
		<variable name="lastlogin_time" type="int" default="0"/>
		<variable name="forbid" type="GRoleForbidVector"/>
		<variable name="help_states" type="Octets"/>
		<variable name="spouse" type="unsigned int" default="0"/>
		<variable name="userid" type="unsigned int" default="0"/>
		<variable name="cross_data" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="reserved2" type="unsigned char" default="0"/>
		<variable name="reserved3" type="unsigned char" default="0"/>
		<variable name="reserved4" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="GRoleStatusExtraProp">
		<variable name="data" type="std::map&lt;int,Octets>" attr="ref"/>
	</rpcdata>
	<rpcdata name="GRoleStatus">
		<variable name="version" type="char" default="1"/>
		<variable name="level" type="int" default="0"/>
		<variable name="level2" type="int" default="0"/>
		<variable name="exp" type="int" default="0"/>
		<variable name="sp" type="int" default="0"/>
		<variable name="pp" type="int" default="0"/>
		<variable name="hp" type="int" default="0"/>
		<variable name="mp" type="int" default="0"/>
		<variable name="posx" type="float" default="0"/>
		<variable name="posy" type="float" default="0"/>
		<variable name="posz" type="float" default="0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="invader_state" type="int" default="0"/>
		<variable name="invader_time" type="int" default="0"/>
		<variable name="pariah_time" type="int" default="0"/>
		<variable name="reputation" type="int" default="0"/>
		<variable name="custom_status" type="Octets" attr="ref"/>
		<variable name="filter_data" type="Octets" attr="ref"/>
		<variable name="charactermode" type="Octets" attr="ref"/>
		<variable name="instancekeylist" type="Octets" attr="ref"/>
		<variable name="dbltime_expire" type="int" default="0"/>
		<variable name="dbltime_mode" type="int" default="0"/>
		<variable name="dbltime_begin" type="int" default="0"/>
		<variable name="dbltime_used" type="int" default="0"/>
		<variable name="dbltime_max" type="int" default="0"/>
		<variable name="time_used" type="int" default="0"/>
		<variable name="dbltime_data" type="Octets" attr="ref"/>
		<variable name="storesize" type="unsigned short"/>
		<variable name="petcorral" type ="Octets"/>
		<variable name="property" type = "Octets"/>
		<variable name="var_data" type="Octets" attr="ref" />
		<variable name="skills" type="Octets" attr="ref" />
		<variable name="storehousepasswd" type="Octets" attr="ref" />
		<variable name="waypointlist" type="Octets" attr="ref" />
		<variable name="coolingtime" type="Octets" attr="ref" />
		<variable name="npc_relation" type="Octets" attr="ref" />
		<variable name="multi_exp_ctrl" type="Octets" attr="ref"/>
		<variable name="storage_task" type="Octets" attr="ref"/>
		<variable name="faction_contrib" type="Octets" attr="ref"/>
		<variable name="force_data" type="Octets" attr="ref"/>
		<variable name="online_award" type="Octets" attr="ref"/>
		<variable name="profit_time_data" type="Octets" attr="ref"/>
		<variable name="country_data" type="Octets" attr="ref"/>
		<variable name="king_data" type="Octets" attr="ref"/>
		<variable name="meridian_data" type="Octets" attr="ref"/>
		<variable name="extraprop" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="title_data" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="reincarnation_data" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="realm_data" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="reserved2" type="char" default="0"/>
		<variable name="reserved3" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="GRoleInventory" attr="vector">
		<variable name="id" type="unsigned int" default="0"/>
		<variable name="pos" type="int" default="-1"/>
		<variable name="count" type="int" default="0"/>
		<variable name="max_count" type="int" default="0"/>
		<variable name="data" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="proctype" type="int" default="0"/>
		<variable name="expire_date" type="int" default="0"/>
		<variable name="guid1" type="int" default="0"/>
		<variable name="guid2" type="int" default="0"/>
		<variable name="mask" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GRoleStorehouse">
		<variable name="capacity" type="unsigned int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="items" type="GRoleInventoryVector" attr="ref"/>
		<variable name="size1" type="unsigned char" default="0"/>
		<variable name="size2" type="unsigned char" default="0"/>
		<variable name="dress" type="GRoleInventoryVector" attr="ref"/>		<!--这里实际是材料-->
		<variable name="material" type="GRoleInventoryVector" attr="ref"/>	<!--这里实际是时装-->
		<variable name="size3" type="unsigned char" default="0"/>
		<variable name="generalcard" type="GRoleInventoryVector" attr="ref"/>	<!--卡牌-->
		<variable name="reserved" type="short" default="0"/>
	</rpcdata>
	<rpcdata name="GUserStorehouse">
		<variable name="capacity" type="int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="items" type="GRoleInventoryVector" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GSysLog">
		<variable name="roleid" type="int" default="0"/>
		<variable name="time" type="int" default="-1"/>
		<variable name="ip" type="int" default="0"/>
		<variable name="source" type="short" default="0"/>
		<variable name="money" type="int" default="0"/>
		<variable name="items" type="GRoleInventoryVector"  attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GRolePocket">
		<variable name="capacity" type="unsigned int" default="0"/>
		<variable name="timestamp" type="unsigned int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="items" type="GRoleInventoryVector" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GRoleTask">
		<variable name="task_data" type="Octets" attr="ref" />
		<variable name="task_complete" type="Octets" attr="ref" />
		<variable name="task_finishtime" type="Octets" attr="ref" />
		<variable name="task_inventory" type="GRoleInventoryVector"  attr="ref"/>
	</rpcdata>
	<rpcdata name="GRoleEquipment">
		<variable name="inv" type="GRoleInventoryVector" />
	</rpcdata>
	<rpcdata name="GRoleData">
		<variable name="base" type="GRoleBase" attr="ref" />
		<variable name="status" type="GRoleStatus" attr="ref" />
		<variable name="pocket" type="GRolePocket" attr="ref" />
		<variable name="equipment" type="GRoleEquipment" attr="ref" />
		<variable name="storehouse" type="GRoleStorehouse" attr="ref" />
		<variable name="task" type="GRoleTask" attr="ref" />
	</rpcdata>
	<rpcdata name="GPet">
		<variable name="index" type="int" default="0"/>
		<variable name="data" type="Octets" attr="ref" />
	</rpcdata>
	<rpcdata name="GPetCorral">
		<variable name="capacity" type="int" default="0" />
		<variable name="pets" type="std::vector&lt;GPet>" default="std::vector&lt;GPet>()"/>
	</rpcdata>
        <rpcdata name="GShopLog">
                <variable name="roleid" type="int" default="-1"/>
                <variable name="order_id" type="int" default="0"/>
                <variable name="item_id" type="int"  default="0"/>
                <variable name="expire" type="int" default="0"/>
                <variable name="item_count" type="int" default="0"/>
                <variable name="order_count" type="int" default="0"/>
                <variable name="cash_need" type="int" default="0"/>
                <variable name="time" type="int" default="0"/>
                <variable name="guid1" type="int" default="0"/>
                <variable name="guid2" type="int" default="0"/>
        </rpcdata>
	<rpcdata name="GUniqueDataElem">
		<variable name="vtype" type="char" default="0" />
		<variable name="value" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="version" type="int" default="0" />
		<variable name="reserved" type="short" default="0" />
	</rpcdata>
	<rpcdata name="GUniqueDataElemNode" attr="vector">
		<variable name="key" type="int" default="0" />
		<variable name="val" type="GUniqueDataElem" attr="ref" default="GUniqueDataElem()"/>
	</rpcdata>
	<rpcdata name="GForceData">
		<variable name="force_id" type="int" default="0" />
		<variable name="reputation" type="int" default="0" />
		<variable name="contribution" type="int" default="0" />
		<variable name="reserved1" type="int" default="0" />
		<variable name="reserved2" type="int" default="0" />
		<variable name="reserved3" type="int" default="0" />
		<variable name="reserved4" type="int" default="0" />
		<variable name="reserved5" type="int" default="0" />
		<variable name="reserved6" type="int" default="0" />
		<variable name="reserved7" type="int" default="0" />
	</rpcdata>
	<rpcdata name="GForceDataList">
		<variable name="cur_force_id" type="int" default="0" />
		<variable name="list" type="std::vector&lt;GForceData>" default="std::vector&lt;GForceData>()" attr="ref"/>
		<variable name="reserved1" type="int" default="0" />
		<variable name="reserved2" type="int" default="0" />
		<variable name="reserved3" type="int" default="0" />
	</rpcdata>
	<rpcdata name="GMeridianData">
		<variable name="meridian_level" type="int" default="0"/>	
		<variable name="lifegate_times" type="int" default="0"/>	
		<variable name="deathgate_times" type="int" default="0"/>	
		<variable name="free_refine_times" type="int" default="0"/>	
		<variable name="paid_refine_times" type="int" default="0"/>	
		<variable name="player_login_time" type="int" default="0"/>	
		<variable name="continu_login_days" type="int" default="0"/>	
		<variable name="trigrams_map1" type="int" default="0"/>	
		<variable name="trigrams_map2" type="int" default="0"/>	
		<variable name="trigrams_map3" type="int" default="0"/>	
		<variable name="reserved1" type="int" default="0" />
		<variable name="reserved2" type="int" default="0" />
		<variable name="reserved3" type="int" default="0" />
		<variable name="reserved4" type="int" default="0" />
	</rpcdata>
	<rpcdata name="GReincarnationRecord" attr="vector">
		<variable name="level" type="int" default="0"/>
		<variable name="timestamp" type="int" default="0"/>
		<variable name="exp" type="int" default="0"/>
		<variable name="reserved" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GReincarnationData">
		<variable name="tome_exp" type="int" default="0"/>
		<variable name="tome_active" type="char" default="0"/>
		<variable name="records" type="GReincarnationRecordVector" attr="ref" default="GReincarnationRecordVector()"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GRoleInfo">
		<variable name="version" type="char" default="1" fixvalue="true"/>
		<variable name="id" type="unsigned int"  default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="race" type="int"  default="0"/>
		<variable name="cls" type="int"  default="0"/>
		<variable name="gender" type="unsigned char"  default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="level2" type="int" default="0"/>
		<variable name="posx" type="float" default="0"/>
		<variable name="posy" type="float" default="0"/>
		<variable name="posz" type="float" default="0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="custom_data" type = "Octets" attr="ref"/>
		<variable name="custom_stamp" type = "unsigned int" default="0"/>
		<variable name="custom_status" type="Octets" attr="ref"/>
		<variable name="charactermode" type="Octets" attr="ref"/>
		<variable name="equipment" type="GRoleInventoryVector" attr="ref" />
		<variable name="status" type="char" default="0"/> <!--whether the role is ready to delete -->
		<variable name="delete_time" type="int" default="0"/> 
		<variable name="create_time" type="int" default="0"/>
		<variable name="lastlogin_time" type="int" default="0"/>
		<variable name="forbid" type="GRoleForbidVector"/>
		<variable name="referrer_role" type="int" default="0"/>
		<variable name="cash_add" type="int" default="0"/>
		<variable name="cross_data" type="CrossInfoData" attr="ref" />
		<variable name="reincarnation_data" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="realm_data" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="GRoleDetail">
		<variable name="version" type="char" default="1" fixvalue="true"/>
		<variable name="id" type="unsigned int"  default="0"/>
		<variable name="userid" type="unsigned int"  default="0"/>
		<variable name="status" type="GRoleStatus" attr="ref"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="race" type="int"  default="0"/>
		<variable name="cls" type="int"  default="0"/>
		<variable name="spouse" type="unsigned int"  default="0"/>
		<variable name="gender" type="unsigned char"  default="0"/>
		<variable name="create_time" type="int" default="0"/>
		<variable name="lastlogin_time" type="int" default="0"/>
		<variable name="cash_add" type="int" default="0"/><!--累计充值金额-->
		<variable name="cash_total" type="int" default="0"/>
		<variable name="cash_used" type="int" default="0"/>
		<variable name="cash_serial" type="int" default="0"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="factionrole" type="int" default="0"/>
		<variable name="custom_data" type = "Octets" attr="ref"/>
		<variable name="custom_stamp" type = "unsigned int" default="0"/>
		<variable name="inventory" type="GRolePocket"  attr="ref"/>
		<variable name="equipment" type="GRoleInventoryVector" attr="ref" />
		<variable name="storehouse" type="GRoleStorehouse"  attr="ref"/>
		<variable name="task" type="GRoleTask"  attr="ref"/>
		<variable name="addiction" type="Octets" attr="ref"/>
		<variable name="logs" type="std::vector&lt;GShopLog>" attr="ref"/>
		<variable name="bonus_add" type="int" default="0"/>
		<variable name="bonus_reward" type="int" default="0"/>
		<variable name="bonus_used" type="int" default="0"/>
		<variable name="referrer" type="int"  default="0"/>
		<variable name="userstorehouse" type="GUserStorehouse"  attr="ref"/>
		<variable name="taskcounter" type="Octets" attr="ref"/>
		<variable name="factionalliance" type="GFactionAllianceVector" attr="ref"/>
		<variable name="factionhostile" type="GFactionHostileVector" attr="ref"/>
		<variable name="mall_consumption" type="int" default="0"/>
		<variable name="src_zoneid" type="int" default="0"/>
		<variable name="unifid" type="int64_t" default="0"/>
		<variable name="vip_level" type="int" default="0" />
		<variable name="score_add" type="int" default="0" />
		<variable name="score_cost" type="int" default="0" />
		<variable name="score_consume" type="int" default="0" />
		<variable name="day_clear_stamp" type="int" default="0" />
		<variable name="week_clear_stamp" type="int" default="0" />
		<variable name="month_clear_stamp" type="int" default="0" />
		<variable name="year_clear_stamp" type="int" default="0" />
		<variable name="purchase_limit_data" type="Octets" default="Octets(0)" attr="ref"/>
	</rpcdata>

	<rpcdata name="GRoleTableUser" bdbtable="user" key="RoleId">
		<variable name="user" type="User" />
	</rpcdata>
	<rpcdata name="GRoleTableBase" bdbtable="base" key="RoleId">
		<variable name="base" type="GRoleBase" />
	</rpcdata>
	<rpcdata name="GRoleTableStatus" bdbtable="status" key="RoleId">
		<variable name="status" type="GRoleStatus" />
	</rpcdata>
	<rpcdata name="GRoleTableInventory" bdbtable="inventory" key="RoleId">
		<variable name="inventory" type="GRolePocket" />
	</rpcdata>
	<rpcdata name="GRoleTableEquipment" bdbtable="equipment" key="RoleId">
		<variable name="inv" type="GRoleInventoryVector" />
	</rpcdata>
	<rpcdata name="GRoleTableStorehouse" bdbtable="storehouse" key="RoleId">
		<variable name="storehouse" type="GRoleStorehouse" />
	</rpcdata>
	<rpcdata name="GRoleTableTask" bdbtable="task" key="RoleId">
		<variable name="task_data" type="GRoleTask" />
	</rpcdata>
	<rpcdata name="GRoleTableFriendlist" bdbtable="friendlist" key="RoleId">
		<variable name="friendlist" type="GFriendList" />
	</rpcdata>
	<rpcdata name="GRoleTableMessages" bdbtable="messages" key="RoleId">
		<variable name="messages" type="MessageVector" />
	</rpcdata>
	<rpcdata name="GRoleTableClsconfig" bdbtable="clsconfig" key="RoleId">
		<variable name="version" type="char" default="1" fixvalue="true"/>
		<variable name="base" type="GRoleBase"/>
		<variable name="status" type="GRoleStatus"/>
		<variable name="inventory" type="GRolePocket" />
		<variable name="equipment" type="GRoleInventoryVector" />
		<variable name="storehouse" type="GRoleStorehouse" />
	</rpcdata>
	<rpcdata name="GRoleTableRolename" bdbtable="rolename" key="Octets">
		<variable name="id" type="RoleId" />
	</rpcdata>
	<rpcdata name="GRoleTableWaitdel" bdbtable="waitdel" key="RoleId">
		<variable name="delete_time" type="int" />
	</rpcdata>

	<rpcdata name="GTableDefinition">
		<variable name="user" type="User" />
		<variable name="base" type="GRoleBase" />
		<variable name="status" type="GRoleStatus" />
		<variable name="task" type="GRoleTask" />
		<variable name="inventory" type="GRolePocket" />
		<variable name="equipment" type="GRoleEquipment" />
		<variable name="storehouse" type="GRoleStorehouse" />
		<variable name="mailbox" type="GMailBox" />
		<variable name="friends" type="GFriendList" />
		<variable name="messages" type="MessageVector" />
		<variable name="factioninfo" type="GFactionInfo" />
		<variable name="order" type="StockOrder" />
		<variable name="syslog" type="GSysLog" />
		<variable name="config" type="Octets" />
		<variable name="factionname" type="int" />
		<variable name="waitdel" type="int" />
		<variable name="clsconfig" type="GRoleTableClsconfig" />
		<variable name="rolename" type="int" />
		<variable name="shoplog" type="char" />
		<variable name="auction" type="GAuctionDetail" />
		<variable name="userfaction" type="GUserFaction" />
		<variable name="sellpoint" type="char" />
		<variable name="translog" type="char" />
		<variable name="city" type="GTerritoryStore" />
		<variable name="gtask" type="Octets" />
		<variable name="userstore" type="GUserStorehouse" /> <!--账号仓库-->
		<variable name="webtrade" type="GWebTradeDetail" />
		<variable name="webtradesold" type="GWebTradeDetail" />
		<variable name="serverdata" type="GServerData"/>
		<variable name="factionfortress" type="GFactionFortressDetail"/>
		<variable name="factionrelation" type="GFactionRelation"/>
		<variable name="force" type="GForceGlobalDataList"/>
		<variable name="friendext" type="GFriendExtra"/>
		<variable name="globalcontrol" type="GGlobalControlData"/>
		<variable name="rolenamehis" type="Octets"/>
		<variable name="kingelection" type="KingElectionDetail"/>
		<variable name="playershop" type="PShopDetail"/>
		<variable name="weborderitem" type="WebOrderItemDetail"/>
		<variable name="playerprofile" type="PlayerProfileData"/>
		<variable name="uniquedata" type="GUniqueDataElem"/>
		<variable name="recalluser" type="char"/>
        <variable name="mappassword" type="MapPasswordData"/>
        <variable name="solochallengerank" type="SoloChallengeRankDataExt"/>
        <variable name="mnfactioninfo" type="MNFactionInfo"/>
        <variable name="mnfactionapplyinfo" type="MNFactionApplyInfo"/>
        <variable name="mndomaininfo" type="MNDomainInfo"/>
        <variable name="mndomainbonus" type="MNDomainBonus"/>
	</rpcdata>

    <rpcdata name="MapPasswordValue">
        <variable name="userid" type="int" default="0"/>
        <variable name="algorithm" type="int" default="0"/>
        <variable name="password" type="Octets" attr="ref" default="Octets()"/>
        <variable name="matrix" type="Octets" attr="ref" default="Octets()"/>
        <variable name="seed" type="Octets" attr="ref" default="Octets()"/>
        <variable name="pin" type="Octets" attr="ref" default="Octets()"/>
        <variable name="rtime" type="int" default="0"/>
        <variable name="refreshtime" type="int" default="0"/>
    </rpcdata>

    <rpcdata name="MapPasswordData">
        <variable name="username" type="Octets" attr="ref" default="Octets()"/>
        <variable name="value" type="MapPasswordValue" attr="ref"/>
    </rpcdata>

    <rpcdata name="DBMapPasswordLoadArg">
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
    </rpcdata>

    <rpcdata name="DBMapPasswordLoadRes">
        <variable name="retcode" type="int" default="-1"/>
        <variable name="data" type="std::vector&lt;MapPasswordData&gt;" attr="ref" default="std::vector&lt;MapPasswordData&gt;()"/>
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
    </rpcdata>

    <rpc debug="0" name="DBMapPasswordLoad" type="3043" argument="DBMapPasswordLoadArg" result="DBMapPasswordLoadRes" table="mappassword" key="username" value="value" maxsize="524288" prior="1" timeout="30"/>

    <rpcdata name="DBMapPasswordSaveArg">
        <variable name="data" type="std::vector&lt;MapPasswordData&gt;" attr="ref" default="std::vector&lt;MapPasswordData&gt;()"/>
    </rpcdata>

    <rpcdata name="DBMapPasswordSaveRes">
        <variable name="retcode" type="int" default="-1"/>
    </rpcdata>

    <rpc debug="0" name="DBMapPasswordSave" type="3044" argument="DBMapPasswordSaveArg" result="DBMapPasswordSaveRes" table="mappassword" key="username" value="value" maxsize="524288" prior="1" timeout="30"/>


    <rpcdata name="SoloChallengeRankData" attr="vector">
        <variable name="roleid" type="int" default="0"/>
        <variable name="level" type="int" default="0"/>
        <variable name="cls" type="int" default="-1"/>
        <variable name="total_time" type="int" default="0"/>
        <variable name="name" type="Octets" default="Octets()" attr="ref"/>
        <variable name="type" type="char" default="0"/>
        <variable name="zoneid" type="unsigned char" default="0"/>
        <variable name="update_time" type="int" default="0"/>
        <variable name="reserved1" type="short" default="0"/>
        <variable name="reserved2" type="int" default="0"/>
        <variable name="reserved3" type="int" default="0"/>
    </rpcdata>

    <rpcdata name="SoloChallengeRankDataExt">
        <variable name="update_time" type="int" default="0"/>
        <variable name="data" type="SoloChallengeRankDataVector" default="SoloChallengeRankDataVector()" attr="ref"/>
        <variable name="zoneid" type="int" default="0"/>
        <variable name="reserved1" type="int" default="0"/>
        <variable name="reserved2" type="int" default="0"/>
        <variable name="reserved3" type="int" default="0"/>
    </rpcdata>

    <rpcdata name="DBSoloChallengeRankLoadArg">
        <variable name="type" type="char" default="0"/>
    </rpcdata>

    <rpcdata name="DBSoloChallengeRankLoadRes">
        <variable name="retcode" type="int" default="-1"/>
        <variable name="data_ext_local" type="SoloChallengeRankDataExt" default="SoloChallengeRankDataExt()" attr="ref"/>
        <variable name="data_ext_global" type="SoloChallengeRankDataExt" default="SoloChallengeRankDataExt()" attr="ref"/>
    </rpcdata>

    <rpc debug="0" name="DBSoloChallengeRankLoad" type="3047" argument="DBSoloChallengeRankLoadArg" result="DBSoloChallengeRankLoadRes" table="solochallengerank" maxsize="262144" prior="1" timeout="30"/>

    <rpcdata name="DBSoloChallengeRankSaveArg">
        <variable name="ranktype" type="char" default="0"/>
        <variable name="data_ext" type="SoloChallengeRankDataExt" default="SoloChallengeRankDataExt()" attr="ref"/>
    </rpcdata>

    <rpcdata name="DBSoloChallengeRankSaveRes">
        <variable name="retcode" type="int" default="-1"/>
    </rpcdata>

    <rpc debug="0" name="DBSoloChallengeRankSave" type="3048" argument="DBSoloChallengeRankSaveArg" result="DBSoloChallengeRankSaveRes" table="solochallengerank" maxsize="131072" prior="1" timeout="30"/>


    <protocol debug="0" name="UpdateSoloChallengeRank" type="3074" maxsize="64" prior="1">
        <variable name="roleid" type="int"/>
        <variable name="total_time" type="int"/>
    </protocol>

    <protocol debug="0" name="GetSoloChallengeRank" type="3075" maxsize="64" prior="1">
        <variable name="roleid" type="int"/>
        <variable name="ranktype" type="char"/>
        <variable name="cls" type="char"/>
    </protocol>

    <protocol debug="0" name="GetSoloChallengeRank_Re" type="3076" maxsize="32768" prior="1">
        <variable name="retcode" type="int"/>
        <variable name="roleid" type="int"/>
        <variable name="ranktype" type="char"/>
        <variable name="cls" type="char"/>
        <variable name="next_sort_time" type="int"/>
        <variable name="data" type="std::vector&lt;SoloChallengeRankData&gt;" attr="ref"/>
        <variable name="localsid" type="unsigned int"/>
    </protocol>

    <protocol debug="0" name="CrossSoloChallengeRank" type="3077" maxsize="131072" prior="1">
        <variable name="data_ext" type="SoloChallengeRankDataExt" attr="ref"/>
    </protocol>
	
    <protocol debug="0" name="CrossSoloChallengeRank_Re" type="3078" maxsize="64" prior="1">
        <variable name="retcode" type="int"/>
        <variable name="zoneid" type="int"/>
    </protocol>

	<rpcdata name="RoleId">
		<variable name="id" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="RoleArg">
		<variable name="key" type="RoleId" default="RoleId(0)" attr="ref"/>
		<variable name="data_mask" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="RoleRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="data_mask" type="int" default="0"/>
		<variable name="gameserver_id" type="char" default="-1"/>
		<variable name="value" type="GRoleDetail"/>
	</rpcdata>
	<rpc debug="0" name="GetRole" type="3005" argument="RoleArg" result="RoleRes" table="base" attr="get" retcode="retcode" value="value" maxsize="524288" prior="1" timeout="20"/>


	<!--DelRole does not really remove the role from DB,it only mark the role to be deleted,use DBDeleteRole to permanently remove a role from DB-->
	<rpc debug="0" name="DelRole" type="3006" argument="RoleId" result="RpcRetcode" table="base" attr="del" maxsize="512" prior="1" timeout="20"/>
	
	<rpcdata name="DBCreateRoleArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="logicuid" type="unsigned int" default="0"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="roleinfo" type="RoleInfo" default="RoleInfo()" attr="ref"/>
		<!--variable name="real_referrer" type="int" default="0"/>
		<variable name="referrer_role" type="int" default="0"/-->
		<variable name="au_suggest_referrer" type="int" default="0"/>
		<variable name="player_suggest_referrer" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBCreateRoleRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="rolelist" type="unsigned int" default="0"/>
		<variable name="roleinfo" type="RoleInfo"/>
		<variable name="real_referrer" type="int" default="0"/>
		<!--variable name="referrer_role" type="int" default="0"/-->
		<!--variable name="referrer_name" type="Octets" default="Octets()" attr="ref"/-->
		<variable name="refretcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBCreateRole" type="3007" argument="DBCreateRoleArg" result="DBCreateRoleRes" maxsize="16384" prior="1" timeout="60"/>
	
	<rpcdata name="DBDeleteRoleArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="create_rollback" type="char" default="0"/>  <!--whether need to response result to client -->
	</rpcdata>
	<rpcdata name="DBDeleteRoleRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="rolelist" type="unsigned int" default="0"/>
		<variable name="faction" type="unsigned int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBDeleteRole" type="3008" argument="DBDeleteRoleArg" result="DBDeleteRoleRes" maxsize="128" prior="1" timeout="60"/>
	
	<rpcdata name="DBUndoDeleteRoleArg">
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="DBUndoDeleteRoleRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="gameserver_id" type="char" default="-1"/>
		<variable name="posx" type="float" default="0.0"/>
		<variable name="posy" type="float" default="0.0"/>
		<variable name="posz" type="float" default="0.0"/>
	</rpcdata>
	<rpc debug="0" name="DBUndoDeleteRole" type="3009" argument="DBUndoDeleteRoleArg" result="DBUndoDeleteRoleRes" maxsize="32" prior="1" timeout="10"/>

	<rpcdata name="AccountAddRoleArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="zoneid" type="char" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="AccountAddRoleRes">
		<variable name="retcode" type="char" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpc name="AccountAddRole" type="3010" argument="AccountAddRoleArg" result="AccountAddRoleRes" maxsize="128" prior="1" timeout="10"/>
	
	<rpcdata name="AccountDelRoleArg">
		<variable name="zoneid" type="char" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="AccountDelRoleRes">
		<variable name="retcode" type="char" default="-1"/>
	</rpcdata>
	<rpc name="AccountDelRole" type="3011" argument="AccountDelRoleArg" result="AccountDelRoleRes" maxsize="128" prior="1" timeout="10"/>

	<rpcdata name="RoleBasePair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRoleBase"/>
	</rpcdata>
	<rpcdata name="RoleBaseRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRoleBase"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleBase" type="3012" argument="RoleBasePair" result="RpcRetcode" table="base" attr="put" key="key" value="value" maxsize="16384" prior="1" timeout="20"/>
	<rpc debug="0" name="GetRoleBase" type="3013" argument="RoleId" result="RoleBaseRes" table="base" attr="get" retcode="retcode" value="value" maxsize="16384" prior="1" timeout="30"/>

	<rpcdata name="RoleStatusPair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRoleStatus"/>
	</rpcdata>
	<rpcdata name="RoleStatusRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRoleStatus"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleStatus" type="3014" argument="RoleStatusPair" result="RpcRetcode" table="status" attr="put" key="key" value="value" maxsize="16384" prior="1" timeout="20"/>
	<rpc debug="0" name="GetRoleStatus" type="3015" argument="RoleId" result="RoleStatusRes" table="status" attr="get" retcode="retcode" value="value" maxsize="16384" prior="1" timeout="20"/>

	<rpcdata name="RoleEquipmentPair">
		<variable name="key" type="RoleId"/>
		<variable name="equipment" type="GRoleInventoryVector" attr="ref"/>
	</rpcdata>
	<rpcdata name="RoleEquipmentRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="equipment" type="GRoleInventoryVector" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleEquipment" type="3016" argument="RoleEquipmentPair" result="RpcRetcode" maxsize="65536" prior="1" timeout="10"/>
	<rpc debug="0" name="GetRoleEquipment" type="3017" argument="RoleId" result="RoleEquipmentRes" maxsize="65536" prior="1" timeout="10"/>

	<rpcdata name="RoleTaskPair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRoleTask" attr="ref"/>
	</rpcdata>
	<rpcdata name="RoleTaskRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRoleTask" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleTask" type="3018" argument="RoleTaskPair" result="RpcRetcode" maxsize="16384" prior="1" timeout="10"/>
	<rpc debug="0" name="GetRoleTask" type="3019" argument="RoleId" result="RoleTaskRes" maxsize="16384" prior="1" timeout="10"/>

	<rpcdata name="RoleDataPair">
		<variable name="key" type="RoleId"/>
		<variable name="overwrite" type="char"/>
		<variable name="value" type="GRoleData"/>
	</rpcdata>
	<rpcdata name="RoleDataRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRoleData"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleData" type="8002" argument="RoleDataPair" result="RpcRetcode" maxsize="524288" prior="1" timeout="20"/>
	<rpc debug="0" name="GetRoleData" type="8003" argument="RoleId" result="RoleDataRes" maxsize="524288" prior="1" timeout="30"/>

	<rpcdata name="DBModifyRoleDataArg">
		<variable name="roleid" type="int"/>
		<variable name="mask" type="unsigned int" default="0" />
		<variable name="level" type="int" default="0"/>
		<variable name="exp" type="int64_t" default="0"/>
		<variable name="pocket_money" type="unsigned int" default="0"/>
		<variable name="store_money" type="unsigned int" default="0"/>
		<variable name="pkvalue" type="int" default="0"/>
		<variable name="reputation" type="int" default="0"/>
		<variable name="potential" type="int" default="0"/>
		<variable name="occupation" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBModifyRoleDataRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="total_money" type="int64_t" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBModifyRoleData" type="8005" argument="DBModifyRoleDataArg" result="DBModifyRoleDataRes" maxsize="1024" prior="1" timeout="30" />

	<rpcdata name="TradeInventoryArg">
		<variable name="roleid1" type="unsigned int" default="0"/>
		<variable name="roleid2" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="TradeInventoryRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="pocket1" type="GRolePocket"/>
		<variable name="pocket2" type="GRolePocket"/>
	</rpcdata>
	<rpc debug="0" name="TradeInventory" type="3020" argument="TradeInventoryArg" result="TradeInventoryRes" table="inventory" attr="get" retcode="retcode" value="goods1" maxsize="131072" prior="1" timeout="10"/>

	<rpcdata name="TradeSaveArg">
		<variable name="roleid1" type="unsigned int" default="0"/>
		<variable name="roleid2" type="unsigned int" default="0"/>
		<variable name="money1" type="unsigned int" default="0"/>
		<variable name="money2" type="unsigned int" default="0"/>
		<variable name="goods1" type="std::vector&lt;GRoleInventory>"/>
		<variable name="goods2" type="std::vector&lt;GRoleInventory>"/>
	</rpcdata>
	<rpcdata name="TradeSaveRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="TradeSave" type="3021" argument="TradeSaveArg" result="TradeSaveRes" table="inventory" attr="put" key="roleid1" value="sellgoods1" maxsize="16384" prior="1" timeout="20"/>

	<rpcdata name="GetMoneyInventoryArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="data_mask" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GetMoneyInventoryRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="timestamp" type="int" default="-1"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="goods" type="GRoleInventoryVector"/>
		<variable name="data_mask" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="GetMoneyInventory" type="3022" argument="GetMoneyInventoryArg" result="GetMoneyInventoryRes" table="inventory" attr="get" retcode="retcode" value="goods" maxsize="131072" prior="1" timeout="25"/>
	<rpcdata name="PutMoneyInventoryArg">
		<variable name="roleid" type="unsigned int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="goods" type="GRoleInventoryVector"/>
	</rpcdata>
	<rpc debug="0" name="PutMoneyInventory" type="3023" argument="PutMoneyInventoryArg" result="RpcRetcode" table="inventory" attr="put" key="roleid" value="goods" maxsize="131072" prior="1" timeout="10"/>

	<rpcdata name="RolePair">
		<variable name="key" type="RoleId"/>
		<variable name="data_mask" type="int" default="0"/>
		<variable name="priority" type="char" default="0"/>
		<variable name="value" type="GRoleDetail"/>
	</rpcdata>
	<rpcdata name="PutRoleRes">
		<variable name="retcode" type="int" default="0" />
		<variable name="cash_vip_level" type="int" default="0" />
		<variable name="score_add" type="int" default="0" />
		<variable name="score_cost" type="int" default="0" />
		<variable name="score_consume" type="int" default="0" />
	</rpcdata>
	<rpc debug="0" name="PutRole" type="3024" argument="RolePair" result="PutRoleRes" table="base" attr="put" key="key" value="value" maxsize="1048576" prior="1" timeout="20"/>

	<rpcdata name="GetRoleBaseStatusRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="base" type="GRoleBase"/>
		<variable name="status" type="GRoleStatus"/>
	</rpcdata>
	<rpc debug="0" name="GetRoleBaseStatus" type="3025" argument="RoleId" result="GetRoleBaseStatusRes" table="base" attr="get" retcode="retcode" value="base" maxsize="16384" prior="1" timeout="10"/>

	<rpcdata name="RoleStorehousePair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRoleStorehouse"/>
	</rpcdata>
	<rpcdata name="RoleStorehouseRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRoleStorehouse"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleStorehouse" type="3026" argument="RoleStorehousePair" result="RpcRetcode" table="storehouse" attr="put" key="key" value="value" maxsize="131072" prior="1" timeout="10"/>
	<rpc debug="0" name="GetRoleStorehouse" type="3027" argument="RoleId" result="RoleStorehouseRes" table="storehouse" attr="get" retcode="retcode" value="value" maxsize="131072" prior="1" timeout="10"/>

	<protocol debug="0" name="DelRoleAnnounce" type="3029" maxsize="512" prior="1">
		<variable name="rolelist" type="IntVector"/>
	</protocol>

	<rpcdata name="RoleForbidPair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRoleForbidVector"/>
	</rpcdata>
	<rpc debug="0" name="PutRoleForbid" type="3030" argument="RoleForbidPair" result="RpcRetcode" table="forbid" attr="put" key="key" value="value" maxsize="16384" prior="1" timeout="10"/>
	<rpcdata name="GetRoleForbidArg">
		<variable name="key" type="RoleId"/>
	</rpcdata>
	<rpcdata name="GetRoleForbidRes">
		<variable name="retcode" type="int"/>
		<variable name="value" type="GRoleForbidVector"/>
	</rpcdata>
	<rpc debug="0" name="GetRoleForbid" type="3031" argument="GetRoleForbidArg" result="GetRoleForbidRes" table="forbid" attr="get" key="key" value="value" retcode="retcode" maxsize="16384" prior="1" timeout="10"/>

	<rpcdata name="GetRoleIdArg">
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="reason" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="GetRoleIdRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="GetRoleId" type="3033" argument="GetRoleIdArg" result="GetRoleIdRes" table="rolename" attr="get" key="rolename" value="roleid" retcode="retcode" maxsize="1024" prior="1" timeout="10"/>

	<rpcdata name="TransactionTimeout">
		<variable name="timeout" type="unsigned int" default="15"/>
	</rpcdata>
	<rpcdata name="TransactionId">
		<variable name="id" type="unsigned int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="TransactionAcquire" type="3034" argument="TransactionTimeout" result="TransactionId" maxsize="128" prior="1" timeout="10"/>
	<rpc debug="0" name="TransactionAbort" type="3035" argument="TransactionId" result="RpcRetcode" maxsize="128" prior="1" timeout="10"/>
	<rpc debug="0" name="TransactionCommit" type="3036" argument="TransactionId" result="RpcRetcode" maxsize="128" prior="1" timeout="10"/>

	<rpcdata name="PreCreateRoleArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="uselogic" type="int" default="0"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PreCreateRoleRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="logicuid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="PreCreateRole" type="3037" argument="PreCreateRoleArg" result="PreCreateRoleRes" table="unamerole" attr="get" key="rolename" value="roleid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>
	<rpcdata name="PostCreateRoleArg">
		<variable name="success" type="char" default="1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PostCreateRoleRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostCreateRole" type="3038" argument="PostCreateRoleArg" result="PostCreateRoleRes" table="unamerole" attr="put" key="rolename" value="roleid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>
	<rpcdata name="PostDeleteRoleArg">
		<variable name="userid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PostDeleteRoleRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostDeleteRole" type="3039" argument="PostDeleteRoleArg" result="PostDeleteRoleRes" table="unamerole" attr="put" key="rolename" value="roleid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>
	<rpcdata name="PreCreateFactionArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="factionname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PreCreateFactionRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="factionid" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PreCreateFaction" type="3040" argument="PreCreateFactionArg" result="PreCreateFactionRes" table="unamefaction" attr="get" key="factionname" value="factionid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>
	<rpcdata name="PostCreateFactionArg">
		<variable name="success" type="char" default="1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="factionid" type="int" default="-1"/>
		<variable name="factionname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PostCreateFactionRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostCreateFaction" type="3041" argument="PostCreateFactionArg" result="PostCreateFactionRes" table="unamefaction" attr="put" key="factionname" value="factionid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>
	<rpcdata name="PostDeleteFactionArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="factionid" type="int" default="-1"/>
		<variable name="factionname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PostDeleteFactionRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostDeleteFaction" type="3042" argument="PostDeleteFactionArg" result="PostDeleteFactionRes" table="unamefaction" attr="put" key="factionname" value="factionid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>
		<rpcdata name="PreCreateFamilyArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="familyname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PreCreateFamilyRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="familyid" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PreCreateFamily" type="3046" argument="PreCreateFamilyArg" result="PreCreateFamilyRes" maxsize="1024" prior="1" timeout="20"/>
	<rpcdata name="PostCreateFamilyArg">
		<variable name="success" type="char" default="1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="familyid" type="int" default="-1"/>
		<variable name="familyname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PostCreateFamilyRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostCreateFamily" type="3049" argument="PostCreateFamilyArg" result="PostCreateFamilyRes" maxsize="1024" prior="1" timeout="15"/>
		
	<rpcdata name="PostDeleteFamilyArg">
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="familyid" type="int" default="-1"/>
		<variable name="familyname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="PostDeleteFamilyRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PostDeleteFamily" type="3050" argument="PostDeleteFamilyArg" result="PostDeleteFamilyRes" maxsize="1024" prior="1" timeout="15"/>

	<rpcdata name="RoleInfoRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRoleInfo"/>
	</rpcdata>
	<rpc debug="0" name="GetRoleInfo" type="3051" argument="RoleId" result="RoleInfoRes" maxsize="32768" prior="1" timeout="30"/>

	<rpcdata name="RolePocketPair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GRolePocket"/>
	</rpcdata>
	<rpcdata name="RolePocketRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GRolePocket"/>
	</rpcdata>
	<rpc debug="0" name="PutRolePocket" type="3052" argument="RolePocketPair" result="RpcRetcode" maxsize="131072" prior="1" timeout="20"/>
	<rpc debug="0" name="GetRolePocket" type="3053" argument="RoleId" result="RolePocketRes" maxsize="131072" prior="1" timeout="30"/>
	
	<!-- player rename -->
	<protocol name="PlayerRename" type="3059" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="attach_obj_id" type="int" default="-1"/>
		<variable name="attach_obj_num" type="int" default="0"/>
		<variable name="attach_obj_pos" type="int" default="-1"/>
		<variable name="newname" type="Octets" default="Octets()" attr="ref"/>
		<!-- below parameter is provide by gameserver-->
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>

	<protocol name="PlayerRename_Re" type="3060" maxsize="128" prior="1">
		<variable name="localsid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="newname" type="Octets" default="Octets()" attr="ref"/>
		<variable name="retcode" type="int" default="-1"/>
	</protocol>

	<rpcdata name="PrePlayerRenameArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="newname" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpcdata name="PrePlayerRenameRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PrePlayerRename" type="3061" argument="PrePlayerRenameArg" result="PrePlayerRenameRes" maxsize="128" prior="1" timeout="20"/>
	
	<rpcdata name="DBPlayerRenameArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="item_id" type="int" default="-1"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="newname" type="Octets" default="Octets()" attr="ref"/>
		<!-- below parameter is provide by gameserver-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPlayerRenameRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="oldname" type="Octets" default="Octets()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBPlayerRename" type="3062" argument="DBPlayerRenameArg" result="DBPlayerRenameRes" maxsize="131072" prior="1" timeout="20"/>
	
	<protocol name="PostPlayerRename" type="3063" maxsize="128" prior="1">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="retcode" type="int" default="-1"/>
		<variable name="newname" type="Octets" default="Octets()" attr="ref"/>
		<variable name="oldname" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	
	<rpcdata name="GRoleNameHis" attr="vector">
		<variable name="oldname" type="Octets" default="Octets()" attr="ref"/>
		<variable name="rename_time" type="int" default="-1"/>
	</rpcdata>
	
	<rpcdata name="GRoleIDandName">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBRoleNameListArg">
		<variable name="handle" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="DBRoleNameListRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="handle" type="int" default="-1"/>
		<variable name="finish" type="char" default="0"/>
		<variable name="rolenamelist" type="std::vector&lt;GRoleIDandName>" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBRoleNameList" type="3064" argument="DBRoleNameListArg" result="DBRoleNameListRes" maxsize="131072" prior="1" timeout="30"/>

    <!-- player change gender -->
    <rpcdata name="DBPlayerChangeGenderArg">
        <variable name="roleid" type="int" default="-1"/>
        <variable name="item_id" type="int" default="-1"/>
        <variable name="item_num" type="int" default="0"/>
        <variable name="item_pos" type="int" default="-1"/>
        <variable name="newgender" type="unsigned char" default="0"/>
        <variable name="custom_data" type="Octets" default="Octets()" attr="ref"/>
        <!-- below parameter is provide by gameserver-->
        <variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
    </rpcdata>

    <rpcdata name="DBPlayerChangeGenderRes">
        <variable name="retcode" type="int" default="-1"/>
        <variable name="oldgender" type="unsigned char" default="0"/>
        <variable name="custom_data" type="Octets" default="Octets()" attr="ref"/>
        <variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
    </rpcdata>

    <rpc debug="0" name="DBPlayerChangeGender" type="3071" argument="DBPlayerChangeGenderArg" result="DBPlayerChangeGenderRes" maxsize="131072" prior="1" timeout="20"/>

	<!-- player give present -->
	<protocol name="PlayerGivePresent" type="3065" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="target_roleid" type="int"/>
		<variable name="mail_id" type="int"/>
		<variable name="goods" type="GRoleInventoryVector" attr="ref"/>
		<variable name="cash_cost" type="unsigned int" default="0"/>
		<variable name="has_gift" type="char" default="0"/>
		<variable name="log_price1" type="int" default="0"/>
		<variable name="log_price2" type="int" default="0"/>
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	
	<protocol name="PlayerGivePresent_Re" type="3066" maxsize="64" prior="1">
		<variable name="localsid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="cash_cost" type="unsigned int"/>
		<variable name="retcode" type="int" default="-1"/>
	</protocol>
	
	<rpcdata name="DBPlayerGivePresentArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="target_roleid" type="int" default="-1"/>
		<variable name="mail_id" type="int" default="-1"/>
		<variable name="goods" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
		<variable name="cash_cost" type="unsigned int" default="0"/>
		<variable name="has_gift" type="char" default="0"/>
		<variable name="log_price1" type="int" default="0"/>
		<variable name="log_price2" type="int" default="0"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPlayerGivePresentRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="inform_target" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="inform_target2" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBPlayerGivePresent" type="3067" argument="DBPlayerGivePresentArg" result="DBPlayerGivePresentRes" maxsize="131072" prior="1" timeout="30"/>

	<!-- player ask for present -->
	<protocol name="PlayerAskForPresent" type="3068" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="target_roleid" type="int"/>
		<variable name="goods_id" type="int"/>
		<variable name="goods_index" type="int"/>
		<variable name="goods_slot" type="int"/>
	</protocol>
	
	<protocol name="PlayerAskForPresent_Re" type="3069" maxsize="64" prior="1">
		<variable name="localsid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="retcode" type="int"/>
	</protocol>
	
	<rpcdata name="DBPlayerAskForPresentArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="target_roleid" type="int" default="-1"/>
		<variable name="goods_id" type="int" default="-1"/>
		<variable name="goods_index" type="int" default="-1"/>
		<variable name="goods_slot" type="int" default="-1"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPlayerAskForPresentRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="inform_target" type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBPlayerAskForPresent" type="3070" argument="DBPlayerAskForPresentArg" result="DBPlayerAskForPresentRes" maxsize="128" prior="1" timeout="30"/>


	<protocol name="PlayerRequiteFriend" type="3072" maxsize="64" prior="1">
		<variable name="localsid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="friendid" type="int"/>
	</protocol>
	<rpcdata name="DBPlayerRequiteFriendArg">
		<variable name="roleid" type="int" default="-1"/>  
		<variable name="friendid" type="int" default="-1"/>
		<variable name="rolename" type="Octets" default="Octets()" attr="ref"/>
		<variable name="opttype" type="int" default="0"/>
		<variable name="item" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>	
		<variable name="mail_list" type="IntVector" default="IntVector()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPlayerRequiteFriendRes">
		<variable name="retcode" type="int" default="-1"/> 
		<variable name="sysheader" type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBPlayerRequiteFriend" type="3073" argument="DBPlayerRequiteFriendArg" result="DBPlayerRequiteFriendRes" maxsize="1024" prior="1" timeout="30"/>


	<!-- 这里是每个gs进程(地图)要保存的特有的数据 server data -->
	<rpcdata name="GServerData">
		<variable name="world_tag" type="int" default="0"/>
		<variable name="wedding_data" type="Octets" default="Octets()" attr="ref"/>
		<variable name="dpsrank_data" type="Octets" default="Octets()" attr="ref"/>
        <variable name="reserved11" type="char" default="0"/>
        <variable name="reserved12" type="short" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="PutServerDataArg">
		<variable name="world_tag" type="int" default="0"/>
		<variable name="data_mask" type="int" default="0"/>
		<variable name="priority" type="int" default="0"/>
		<variable name="data" type="GServerData" default="GServerData()" attr="ref"/>
	</rpcdata>
	<rpc name="PutServerData" type="3056" argument="PutServerDataArg" result="RpcRetcode" maxsize="1048576" prior="1" timeout="30"/>
	<rpcdata name="GetServerDataArg">
		<variable name="world_tag" type="int" default="0"/>
		<variable name="data_mask" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GetServerDataRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="data_mask" type="int" default="0"/>
		<variable name="data" type="GServerData" default="GServerData()" attr="ref"/>
	</rpcdata>
	<rpc name="GetServerData" type="3057" argument="GetServerDataArg" result="GetServerDataRes" maxsize="1048576" prior="1" timeout="30"/>
	<rpcdata name="GetCashTotalArg">
		<variable name="userid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="GetCashTotalRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="cash_total" type="int" default="-1"/>
		<variable name="cash_vip_score_add" type="int" default="-1"/>
		<variable name="cash_vip_level" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="GetCashTotal" type="3058" argument="GetCashTotalArg" result="GetCashTotalRes" maxsize="32" prior="1" timeout="30"/>

	<rpcdata name="DBSetCashPasswordArg">
		<variable name="userid" type="int"/>
		<variable name="source" type="int"/>
		<variable name="password" type="Octets" attr="ref" />
	</rpcdata>
	<rpcdata name="DBSetCashPasswordRes">
		<variable name="retcode" type="int" default="-1" />
	</rpcdata>
	<rpc debug="0" name="DBSetCashPassword" type="3100" argument="DBSetCashPasswordArg" result="DBSetCashPasswordRes" maxsize="256" prior="1" timeout="20"/>

	<!--    Rpcs used in reset pos System is 3110    -->
	<rpcdata name="DBPlayerPositionResetArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="pos_x" type="float" default="0"/>
		<variable name="pos_y" type="float" default="0"/>
		<variable name="pos_z" type="float" default="0"/>
	</rpcdata>
	<rpcdata name="DBPlayerPositionResetRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBPlayerPositionReset" type="3110" maxsize="64" prior="1" argument="DBPlayerPositionResetArg" result="DBPlayerPositionResetRes" timeout="30"/>
	<rpcdata name="GGlobalControlData">
		<variable name="cash_money_exchange_open" type="char" default="0"/>
		<variable name="cash_money_exchange_rate" type="int" default="0"/>
		<variable name="forbid_ctrl_list" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
		<variable name="forbid_item_list" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
		<variable name="forbid_service_list" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
		<variable name="forbid_task_list" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
		<variable name="forbid_skill_list" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
		<variable name="trigger_ctrl_list" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
		<variable name="forbid_shopitem_list" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
        <variable name="forbid_recipe_list" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
        <variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
		<variable name="reserved7" type="int" default="0"/>
		<variable name="reserved8" type="int" default="0"/>
		<variable name="reserved9" type="int" default="0"/>
		<variable name="reserved10" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBLoadGlobalControlArg">
		<variable name="nouse" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBLoadGlobalControlRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="data" type="GGlobalControlData" attr="ref" default="GGlobalControlData()"/>
	</rpcdata>
	<rpc name="DBLoadGlobalControl" type="3111" maxsize="1024" prior="1" argument="DBLoadGlobalControlArg" result="DBLoadGlobalControlRes" timeout="30"/>
	<rpcdata name="DBPutGlobalControlArg">
		<variable name="data" type="GGlobalControlData" attr="ref" default="GGlobalControlData()"/>
	</rpcdata>
	<rpcdata name="DBPutGlobalControlRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc name="DBPutGlobalControl" type="3112" maxsize="1024" prior="1" argument="DBPutGlobalControlArg" result="DBPutGlobalControlRes" timeout="30"/>
	
	
	<!--  ****************************************************************************************************  -->
	<!--    Protocols and Rpcs used in UniqueData-System is 3113-3120      				            		-->
	<!--  ****************************************************************************************************  -->
	<!-- 这是所有gs进程(地图)共享保存的keyvalue的数据 由gdelivery负责数据的串行修改和gs同步 -->
	<rpcdata name="DBUniqueDataLoadArg">
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="DBUniqueDataLoadRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="values" type="GUniqueDataElemNodeVector" attr="ref" default="GUniqueDataElemNodeVector()"/>
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpc name="DBUniqueDataLoad" type="3113" maxsize="262144" prior="1" argument="DBUniqueDataLoadArg" result="DBUniqueDataLoadRes" timeout="30"/>
	<rpcdata name="DBUniqueDataSaveArg">
		<variable name="values" type="GUniqueDataElemNodeVector" attr="ref" default="GUniqueDataElemNodeVector()"/>
	</rpcdata>
	<rpcdata name="DBUniqueDataSaveRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc name="DBUniqueDataSave" type="3114" maxsize="262144" prior="1" argument="DBUniqueDataSaveArg" result="DBUniqueDataSaveRes" timeout="30"/>
	<protocol name="UniqueDataModifyRequire" type="3115" maxsize="1024" prior="1">
		<variable name="worldtag" type="int"/>
		<variable name="key" type="int"/>
		<variable name="vtype" type="int"/>
		<variable name="value" type="Octets" attr="ref"/>
		<variable name="oldvalue" type="Octets" attr="ref"/>
		<variable name="exclusive" type="char"/>
		<variable name="broadcast" type="char"/>
		<variable name="version" type="int"/>
		<variable name="timeout" type="char"/>
	</protocol>
	<protocol name="UniqueDataModifyNotice" type="3116" maxsize="1024" prior="101"> 
		<variable name="worldtag" type="int"/>
		<variable name="key" type="int"/>
		<variable name="vtype" type="int"/>
		<variable name="value" type="Octets" attr="ref"/>
		<variable name="oldvalue" type="Octets" attr="ref"/>
		<variable name="exclusive" type="char"/>
		<variable name="retcode" type="int"/>
		<variable name="version" type="int"/>
	</protocol>
	<protocol name="UniqueDataSynch" type="3117" maxsize="262144" prior="101"> 
		<variable name="finish" type="char"/>
		<variable name="values" type="GUniqueDataElemNodeVector" attr="ref" default="GUniqueDataElemNodeVector()"/>
	</protocol>
	<protocol name="UniqueDataModifyBroadcast" type="3118" maxsize="262144" prior="1">
		<variable name="handle" type="int"/>
		<variable name="values" type="GUniqueDataElemNodeVector" attr="ref" default="GUniqueDataElemNodeVector()"/>
	</protocol>
	<!--  ****************************************************************************************************  -->
	<!--             Protocols and Rpcs used  in uniquenamed and common gamedbd typeid is 3401 - 3500      	    -->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="GetUserRolesArg">
		<variable name="userid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="GetUserRolesRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roles" type="IntOctetsVector"/>
	</rpcdata>
	<rpc debug="0" name="GetUserRoles" type="3401" argument="GetUserRolesArg" result="GetUserRolesRes" table="user" attr="get" key="userid" value="roles" retcode="retcode" maxsize="1024" prior="1" timeout="10"/>

	<rpcdata name="ClearStorehousePasswdArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="reserved" type="Octets" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="ClearStorehousePasswd" type="3402" argument="ClearStorehousePasswdArg" result="RpcRetcode" maxsize="1024" prior="1" timeout="15"/>

	<rpcdata name="CanChangeRolenameArg">
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="setcanchange" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="CanChangeRolenameRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="CanChangeRolename" type="3403" argument="CanChangeRolenameArg" result="CanChangeRolenameRes" maxsize="1024" prior="1" timeout="10"/>

	<rpcdata name="RenameRoleArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="oldname" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpc debug="0" name="RenameRole" type="3404" argument="RenameRoleArg" result="RpcRetcode" maxsize="1024" prior="1" timeout="15"/>

	<rpcdata name="Uid2LogicuidArg">
		<variable name="userid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="Uid2LogicuidRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="logicuid"  type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="Uid2Logicuid" type="3411" argument="Uid2LogicuidArg" result="Uid2LogicuidRes" maxsize="1024" prior="1" timeout="15"/>

	<rpcdata name="Roleid2UidArg">
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="Roleid2UidRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="userid"  type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="Roleid2Uid" type="3412" argument="Roleid2UidArg" result="Roleid2UidRes" maxsize="1024" prior="1" timeout="15"/>

	<rpcdata name="RolenameExistsArg">
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="RolenameExistsRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
		<variable name="status" type="int" default="-1"/>
		<variable name="time" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="RolenameExists" type="3413" argument="RolenameExistsArg" result="RolenameExistsRes" table="unamerole" attr="get" key="rolename" value="roleid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>

	<rpcdata name="UserRoleCountArg">
		<variable name="userid" type="int" default="-1"/>
	</rpcdata>
	<rpcdata name="UserRoleCountRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="count"  type="int" default="0"/>
		<variable name="rolelist"  type="unsigned int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="UserRoleCount" type="3414" argument="UserRoleCountArg" result="UserRoleCountRes" table="urole" attr="get" key="userid" value="rolelist" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>

	<rpcdata name="MoveRoleCreateArg">
		<variable name="fromzoneid" type="int" default="-1"/>
		<variable name="zoneid" type="int" default="-1"/>
		<variable name="userid" type="int" default="-1"/>
		<variable name="rolename" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="MoveRoleCreateRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="roleid" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="MoveRoleCreate" type="3415" argument="MoveRoleCreateArg" result="MoveRoleCreateRes" table="unamerole" attr="get" key="rolename" value="roleid" retcode="retcode" maxsize="1024" prior="1" timeout="15"/>


	<!--  ****************************************************************************************************  -->
	<!--   Protocols and Rpcs used  in Trade System is 4001 - 4100   				   	    -->
	<!--  ****************************************************************************************************  -->
	<protocol debug="0" name="TradeStart" type="4001" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="partner_roleid" type="int"/>
	</protocol>
	<protocol debug="0" name="TradeStart_Re" type="4002" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="partner_roleid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="TradeStartRqstArg">
		<variable name="roleid" type="int" default="-1"/>  <!--roleid who will receive the request-->
		<variable name="localsid" type="unsigned int" default="0"/>  <!--roleid who will receive the request-->
		<variable name="start_roleid" type="int" default="-1"/> <!--roleid who start the transaction-->
	</rpcdata>
	<rpcdata name="TradeStartRqstRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>

	<rpcdata name="DBConfig">
		<variable name="init_time" type="unsigned int" default="0"/>
		<variable name="open_time" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="DBConfig2">
		<variable name="is_central_db" type="unsigned int" default="0"/>
		<variable name="reserve" type="unsigned int" default="0"/>
	</rpcdata>

	<rpc debug="0" name="TradeStartRqst" type="4003" maxsize="32" prior="1" argument="TradeStartRqstArg" result="TradeStartRqstRes" timeout="60"/>
	<protocol debug="0" name="TradeAddGoods" type="4004" maxsize="64" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="goods" type="GRoleInventory"/>
		<variable name="money" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeAddGoods_Re" type="4005" maxsize="512" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="owner_roleid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="goods" type="GRoleInventory"/>
		<variable name="money" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeRemoveGoods" type="4006" maxsize="64" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="goods" type="GRoleInventory"/>
		<variable name="money" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeRemoveGoods_Re" type="4007" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="owner_roleid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="goods" type="GRoleInventory"/>
		<variable name="money" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeMoveObj" type="4008" maxsize="64" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="goods" type="GRoleInventory"/>
		<variable name="dst_pos" type="char"/>
	</protocol>
	<protocol debug="0" name="TradeMoveObj_Re" type="4009" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="src_pos" type="char"/>
		<variable name="count" type="int"/>	
		<variable name="dst_pos" type="char"/>
	</protocol>
	<protocol debug="0" name="TradeSubmit" type="4010" maxsize="64" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeSubmit_Re" type="4011" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="submit_roleid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeConfirm" type="4012" maxsize="32" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeConfirm_Re" type="4013" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="confirm_roleid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeDiscard" type="4014" maxsize="32" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeDiscard_Re" type="4015" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="discard_roleid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TradeEnd" type="4016" maxsize="32" prior="1"> <!--delivery to player to announce trade is end-->
		<variable name="tid" type="unsigned int"/>
		<variable name="cause" type="char"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>

	<protocol debug="0" name="GTradeStart" type="4017" maxsize="32" prior="1">  <!--used for announce gameserver-->
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid1" type="int"/>
		<variable name="localsid1" type="unsigned int"/>
		<variable name="roleid2" type="int"/>
		<variable name="localsid2" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GTradeStart_Re" type="4018" maxsize="32" prior="1">  <!--used for announce gameserver-->
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GTradeEnd" type="4019" maxsize="32" prior="1"> <!--announce game server, trade is end-->
		<variable name="tid" type="unsigned int"/>
		<variable name="roleid1" type="int"/>
		<variable name="need_readDB1" type="char"/>
		<variable name="roleid2" type="int"/>
		<variable name="need_readDB2" type="char"/>
	</protocol>
	<protocol debug="0" name="GTradeDiscard" type="4020" maxsize="32" prior="1"> <!--Game server to gdelivery to discard the transaction-->
		<variable name="tid" type="unsigned int"/>
		<variable name="paddings" type="char"/>
	</protocol>
	
	<!--  ****************************************************************************************************  -->
	<!--      			 Protocols and Rpcs used  in Server Touch Trade System is 4050 - 4055			   	    -->
	<!--  ****************************************************************************************************  -->
	<protocol debug="0" name="TouchPointQuery" type="4050" maxsize="32" prior="1"> 
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol debug="0" name="TouchPointQuery_Re" type="4051" maxsize="64" prior="1"> 
		<variable name="roleid" type="int"/>
		<variable name="income" type="int64_t"/>
		<variable name="remain" type="int64_t"/>
	</protocol>
	<protocol debug="0" name="TouchPointCost" type="4052" maxsize="64" prior="1"> 
		<variable name="roleid" type="int"/>
		<variable name="orderid" type="int64_t"/>
		<variable name="cost" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="TouchPointCost_Re" type="4053" maxsize="64" prior="1"> 
		<variable name="roleid" type="int"/>
		<variable name="orderid" type="int64_t"/>
		<variable name="cost" type="unsigned int"/>
		<variable name="income" type="int64_t"/>
		<variable name="remain" type="int64_t"/>
		<variable name="retcode" type="int"/>
	</protocol>
	<protocol debug="0" name="AuAddupMoneyQuery" type="4054" maxsize="32" prior="1"> 
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol debug="0" name="AuAddupMoneyQuery_Re" type="4055" maxsize="64" prior="1"> 
		<variable name="roleid" type="int"/>
		<variable name="addupmoney" type="int64_t"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--      			 Protocols and Rpcs used  in Server Gift Code System is 4056 - 4057			    	    -->
	<!--  ****************************************************************************************************  -->
	<protocol debug="0" name="GiftCodeRedeem" type="4056" maxsize="128" prior="1"> 
		<variable name="roleid" type="int"/>
		<variable name="cardnumber" type="Octets"/>
	</protocol>
	<protocol debug="0" name="GiftCodeRedeem_Re" type="4057" maxsize="128" prior="1"> 
		<variable name="roleid" type="int"/>
		<variable name="cardnumber" type="Octets"/>
		<variable name="codetype" type="int"/>
		<variable name="parenttype" type="int"/>
		<variable name="retcode" type="int"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--      			 Protocols and Rpcs used  in Server Switch System is 4101 - 4200   				   	    -->
	<!--  ****************************************************************************************************  -->
	<!-- start switch server, (src_game to link) (link to deliver) (link to dst_game)-->
	<protocol debug="0" name="SwitchServerStart" type="4101" maxsize="512" prior="101">
		<variable name="roleid" type="int"/>
		<variable name="link_id" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="src_gsid" type="int"/>
		<variable name="dst_gsid" type="int"/>
		<variable name="key" type="Octets"/>
	</protocol>
	<!-- network error occurs when switching, this protocol will be send (game_src to link) (link to game_src) (link to deliver) -->
	<protocol debug="0" name="SwitchServerCancel" type="4102" maxsize="32" prior="101">
		<variable name="roleid" type="int"/>
		<variable name="link_id" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<!-- switch server successfully (game_dst to link) (game_dst to deliver) -->
	<protocol debug="0" name="SwitchServerSuccess" type="4103" maxsize="32" prior="101">
		<variable name="roleid" type="int"/>
		<variable name="link_id" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="dst_gsid" type="int"/>
	</protocol>
	<!-- game server timeout(when dst_game do not send request to src_game) -->
	<protocol debug="0" name="SwitchServerTimeout" type="4104" maxsize="32" prior="101">
		<variable name="roleid" type="int"/>
		<variable name="link_id" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<!-- if linkserver find timeout(dst_game or src_game do not response), send playeroffline to delivery-->
	
	<!--  ****************************************************************************************************  -->
	<!--  Protocols and Rpcs used  in Mail System is 4200 - 4300   				   	            -->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="GMailID" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="mail_id" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="GMailDefRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GMailHeader" attr="vector">
		<variable name="id" type="unsigned char" default="0"/>
		<variable name="sender" type="int" default="-1"/>
		<variable name="sndr_type" type="unsigned char" default="0"/> <!-- Is sender a NPC,bidding-sys,Player -->
		<variable name="receiver" type="int" default="-1"/>
		<variable name="title"    type="Octets" default="Octets()"/>
		<variable name="send_time" type="int" default="0"/>
		<variable name="attribute" type="unsigned char" default="0"/> <!-- read/unread, attachment/or not, preserver/or not -->
		<variable name="sender_name" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpcdata name="GMail" attr="vector">
		<variable name="header" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="context" type="Octets" default="Octets()"/> <!-- max context length is 400 bytes-->
		<variable name="attach_obj" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
		<variable name="attach_money" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="GMailSyncData">
		<variable name="data_mask" type="int" default="0"/>
		<variable name="cash_total" type="int" default="0"/>
		<variable name="cash_used" type="unsigned int" default="0"/>
		<variable name="cash_serial" type="int" default="0"/>
		<variable name="inventory" type="GRolePocket" default="GRolePocket()" attr="ref"/>
		<variable name="storehouse" type="GRoleStorehouse" default="GRoleStorehouse()" attr="ref"/>
		<variable name="equipment" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
		<variable name="logs" type="std::vector&lt;GShopLog>" attr="ref"/>
	</rpcdata>
	<rpcdata name="GMailBox">
		<variable name="timestamp" type="unsigned int" default="0"/>
		<variable name="status" type="unsigned int" default="0"/>
		<variable name="mails" type="GMailVector" default="GMailVector()" attr="ref"/>
	</rpcdata>

	<!-- announce client a new mail has come -->
	<protocol name="CheckNewMail" type="4200" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="AnnounceNewMail" type="4201" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="remain_time" type="int"/>
		<variable name="present_type" type="unsigned char" default="0"/>
	</protocol>
	<!-- GetMailList request from client -->
	<protocol name="GetMailList" type="4202" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="GetMailList_Re" type="4203" maxsize="10240" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="maillist" type="GMailHeaderVector" default="GMailHeaderVector()" attr="ref"/>
	</protocol>
	<!-- GetMail Request from client -->
	<protocol name="GetMail" type="4204" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail_id" type="unsigned char"/>
	</protocol>
	<protocol name="GetMail_Re" type="4205" maxsize="2048" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail" type="GMail" default="GMail()" attr="ref"/>
	</protocol>
	<!-- GetMailAttachObj Request from client -->
	<protocol name="GetMailAttachObj" type="4206" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail_id" type="unsigned char"/>
		<variable name="obj_type" type="unsigned char"/> <!-- object or money -->
		<!-- below parameter is provide by gameserver-->
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="GetMailAttachObj_Re" type="4207" maxsize="2048" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="mail_id" type="unsigned char"/>
		<variable name="money_left" type="unsigned int"/>
		<variable name="item_left" type="unsigned int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<!-- delete mail request from client -->
	<protocol name="DeleteMail" type="4208" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail_id" type="unsigned char"/>
	</protocol>
	<protocol name="DeleteMail_Re" type="4209" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail_id" type="unsigned char"/>
	</protocol>
	<!-- preserve mail request from client -->
	<protocol name="PreserveMail" type="4210" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail_id" type="unsigned char"/>
		<variable name="blPreserve" type="unsigned char"/> <!-- whether preserve mail-->
	</protocol>
	<protocol name="PreserveMail_Re" type="4211" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="mail_id" type="unsigned char"/>
		<variable name="blPreserve" type="unsigned char"/> <!-- whether preserve mail-->
	</protocol>
	<!-- send mail request from client -->
	<protocol name="PlayerSendMail" type="4212" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="receiver" type="int"/>
		<variable name="title"    type="Octets"/>
		<variable name="context" type="Octets"/> <!-- max context length is 400 bytes-->
		<variable name="attach_obj_id" type="int" default="-1"/>
		<variable name="attach_obj_num" type="int" default="0"/>
		<variable name="attach_obj_pos" type="int" default="-1"/>
		<variable name="attach_money" type="unsigned int" default="0"/>
		<variable name="sender_name" type="Octets" default="Octets()" attr="ref"/>
		<!-- below parameter is provide by gameserver-->
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="PlayerSendMail_Re" type="4213" maxsize="4096" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="receiver" type="int"/>
		<variable name="attach_obj_num" type="int" default="0"/>
		<variable name="attach_obj_pos" type="int" default="-1"/>
		<variable name="attach_money" type="unsigned int" default="0"/>
	</protocol>
	<!-- send mail from GameServer -->
	<protocol name="SysSendMail" type="4214" maxsize="4096" prior="1">
		<variable name="tid" type="unsigned int"/>
		<variable name="sysid" type="int"/>
		<variable name="sys_type" type="unsigned char"/> <!-- NPC or Bidding-system-->
		<variable name="receiver" type="int"/>
		<variable name="title"    type="Octets"/>
		<variable name="context" type="Octets"/> <!-- max context length is 400 bytes-->
		<variable name="attach_obj" type="GRoleInventory" attr="ref"/>
		<variable name="attach_money" type="unsigned int"/>
	</protocol>
	<protocol name="SysSendMail_Re" type="4215" maxsize="4096" prior="1">
		<variable name="retcode" type="unsigned short"/> 
		<variable name="tid" type="unsigned int"/>
	</protocol>

	<!-- sync operation between Gameserver and Mail -->
	<protocol name="GMailEndSync" type="4216" maxsize="131072" prior="1">
		<variable name="tid"    type="unsigned int"/>
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="syncdata" type="GMailSyncData" attr="ref"/>
	</protocol>
	
	<protocol name="PlayerSendMassMail" type="4217" maxsize="131072" prior="1">
		<variable name="mass_type" type="char"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="title"    type="Octets"/>
		<variable name="context" type="Octets"/> <!-- max context length is 400 bytes-->
		<variable name="sender_name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="receiver_list" type="std::vector&lt;int>" attr="ref" default="std::vector&lt;int>()"/>
		<!-- below parameter is provide by gameserver-->
		<variable name="cost_obj_id" type="int" default="-1"/>
		<variable name="cost_obj_num" type="int" default="0"/>
		<variable name="cost_obj_pos" type="int" default="-1"/>
		<variable name="cost_money" type="unsigned int" default="0"/>
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>

	<protocol name="SysRecoveredObjMail" type="4219" maxsize="4096" prior="1">
		<variable name="tid" type="int"/> <!--  iweb定义 在re中直接返回即可 -->
		<variable name="sys_type" type="unsigned char"/> <!-- NPC or Bidding-system 和SysSendMail一样 iweb都填3 -->
		<variable name="receiver" type="int"/>
		<variable name="title"    type="Octets"/>
		<variable name="context" type="Octets"/> <!-- max context length is 400 bytes-->
		<variable name="obj" type="Octets" attr="ref"/>
		<variable name="checksum" type="Octets" attr="ref"/>
	</protocol>
	<protocol name="SysRecoveredObjMail_Re" type="4220" maxsize="4096" prior="1">
		<variable name="retcode" type="short"/> 
		<variable name="tid" type="int"/>
	</protocol> 
	
	<!--网站购买道具 新版邮件发物品 AU通信-->
	<rpcdata name="MailGoodsInventory">
		<variable name="goods_id" type="int"/> <!-- 物品id -->
		<variable name="count" type="int"/> <!-- 物品数量 -->
		<variable name="proctype" type="int"/>
		<variable name="goods_flag" type="int"/> <!-- 商城属性 -->
		<variable name="goods_price" type="int"/> <!-- 商城真实成交价 -->
		<variable name="goods_price_before_discount" type="int"/> <!-- 物品折前标价 -->
		<variable name="paytype" type="int"/>
		<variable name="reserved2" type="Octets"/>
	</rpcdata>
	<protocol name="SysSendMail3" type="8068" maxsize="4096" prior="3">
		<variable name="orderid" type="int64_t"/> <!-- 订单号 -->
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t"/> <!-- 收邮件的角色id -->
		<variable name="rolename" type="Octets"/> <!-- 收邮件的角色名 -->
		<variable name="mail_title" type="Octets"/> <!-- 邮件标题 -->
		<variable name="mail_context" type="Octets"/> <!-- 邮件内容 -->
		<variable name="attach_money" type="unsigned int"/> <!-- 邮件附带的金币 -->
		<variable name="attach_goods" type="MailGoodsInventory" attr="ref"/> <!-- 邮件附带物品 -->
	</protocol>
	<protocol name="SysSendMail3_Re" type="8069" maxsize="32" prior="1">
		<variable name="orderid" type="int64_t"/> <!-- 订单号 -->
		<variable name="retcode" type="int"/> 
		<variable name="roleid" type="int64_t"/>
	</protocol>
	<rpcdata name="WebOrderItemDetail">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int" default="0"/> <!-- 收邮件的角色id -->
		<variable name="goods_id" type="int" default="0"/> <!-- 物品id -->
		<variable name="count" type="int" default="0"/> <!-- 物品数量 -->
		<variable name="proctype" type="int" default="0"/>
		<variable name="goods_flag" type="int" default="0"/> <!-- 商城属性 -->
		<variable name="goods_price" type="int" default="0"/> <!-- 商城真实成交价 -->
		<variable name="goods_price_before_discount" type="int" default="0"/> <!-- 物品折前标价 -->
		<variable name="goods_paytype" type="int" default="0"/>
		<variable name="attach_money" type="unsigned int" default="0"/> <!-- 邮件附带的金币 -->
		<variable name="time_stamp" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBSysMail3Arg">
		<variable name="orderid" type="int64_t" default="0"/> <!-- 订单号 -->
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" default="0"/> <!-- 收邮件的角色id -->
		<variable name="rolename" type="Octets" default="Octets()" attr="ref"/> <!-- 收邮件的角色名 -->
		<variable name="goods_flag" type="int"/> <!-- 商城属性 -->
		<variable name="goods_price" type="int"/> <!-- 商城真实成交价 -->
		<variable name="goods_price_before_discount" type="int"/> <!-- 物品折前标价 -->
		<variable name="goods_paytype" type="int"/>
		<variable name="mail" type="GMail" default="GMail()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBSysMail3Res">
		<variable name="retcode" type="int" default="0"/>
		<variable name="mail_id" type="unsigned char" default="0"/>
		<variable name="roleid" type="int64_t" default="0"/>
	</rpcdata>
	<rpc name="DBSysMail3" type="4221" maxsize="131072" prior="1" argument="DBSysMail3Arg" result="DBSysMail3Res" timeout="30"/>

	<!-- ********************** below is RPCs or protocols with GameDB *********************  -->
	<!-- retrieve maillist from database -->
	<rpcdata name="DBGetMailListRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="maillist" type="GMailHeaderVector" default="GMailHeaderVector()" attr="ref"/>
	</rpcdata>
	<rpc name="DBGetMailList" type="4251" maxsize="10240" prior="1" argument="RoleId" result="DBGetMailListRes" timeout="30"/>
	<rpcdata name="DBGetMailRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="mail" type="GMail" default="GMail()"/>
	</rpcdata>
	<rpc name="DBGetMail" type="4252" maxsize="2048" prior="1" argument="GMailID" result="DBGetMailRes" timeout="30"/>

	<rpcdata name="DBGetMailAttachArg">
		<variable name="mail_id" type="GMailID" default="GMailID()" attr="ref"/>
		<variable name="attach_type" type="unsigned char" default="0"/> <!-- money or object-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBGetMailAttachRes">
		<variable name="retcode" type="unsigned char"/>
		<variable name="money_left" type="unsigned int"/>
		<variable name="item_left" type="unsigned int"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBGetMailAttach" type="4253" maxsize="131072" prior="1" argument="DBGetMailAttachArg" result="DBGetMailAttachRes" timeout="30"/>
	<rpcdata name="DBSetMailAttrArg" >
		<variable name="mail_id" type="GMailID" default="GMailID()" attr="ref"/>
		<variable name="attrib_type" type="unsigned char" default="0"/>
		<variable name="attrib_value" type="unsigned char" default="0"/>
	</rpcdata>
	<rpcdata name="DBSetMailAttrRes" >
		<variable name="retcode" type="int"/>
	</rpcdata>
	<rpc name="DBSetMailAttr" type="4254" maxsize="128" prior="1" argument="DBSetMailAttrArg" result="DBSetMailAttrRes" timeout="30"/>
	<rpcdata name="DBSendMailArg">
		<variable name="mail" type="GMail" default="GMail()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBSendMailRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="mail_id" type="unsigned char" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBDeleteMailArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="mailid" type="std::vector&lt;unsigned char>" default="std::vector&lt;unsigned char>()"/>
		<variable name="reason" type="unsigned char" default="0"/>
	</rpcdata>
	<rpc name="DBSendMail" type="4255" maxsize="131072" prior="1" argument="DBSendMailArg" result="DBSendMailRes" timeout="30"/>
	<rpc name="DBDeleteMail" type="4256" maxsize="128" prior="1" argument="DBDeleteMailArg" result="GMailDefRes" timeout="30"/>

	<rpcdata name="DBSendMassMailArg">
		<variable name="mass_type" type="char" default="-1"/>
		<variable name="mail" type="GMail" default="GMail()" attr="ref"/>
		<variable name="cost_obj_id" type="int" default="-1"/>
		<variable name="cost_obj_num" type="int" default="0"/>
		<variable name="cost_obj_pos" type="int" default="-1"/>
		<variable name="cost_money" type="unsigned int" default="0"/>
		<variable name="receiver_list" type="std::vector&lt;int>" attr="ref" default="std::vector&lt;int>()"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="MassMailRes" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="mail_id" type="unsigned char" default="0"/>
		<variable name="retcode" type="unsigned char" default="0"/>
	</rpcdata>	
	<rpcdata name="DBSendMassMailRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="result" type="MassMailResVector" default="MassMailResVector()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBSendMassMail" type="4257" maxsize="131072" prior="1" argument="DBSendMassMailArg" result="DBSendMassMailRes" timeout="30"/>

	<!-- cash password operation -->
	<protocol name="CashLock" type="4260" maxsize="128" prior="1">
		<variable name="userid" type="int" />
		<variable name="cash_password"    type="Octets"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="lock" type="char" default="0"/>
	</protocol>
	<protocol name="CashLock_Re" type="4261" maxsize="64" prior="1">
		<variable name="retcode"    type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="CashPasswordSet" type="4263" maxsize="128" prior="1">
		<variable name="userid" type="int" />
		<variable name="cash_password"    type="Octets"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="CashPasswordSet_Re" type="4264" maxsize="128" prior="1">
		<variable name="retcode"    type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--    Protocols and Rpcs used in WebTrade System is 4301 - 4350 				   				            -->
	<!--  ****************************************************************************************************  -->

	<rpcdata name="GWebTradeItem">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="seller_roleid" type="int" default="0"/>
		<variable name="seller_userid" type="int" default="0"/>
		<variable name="seller_name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="posttype" type="int" default="0"/>			<!--寄售类型:1:游戏币2:物品-->
		<variable name="money" type="unsigned int" default="0"/>	<!--寄售的游戏币，money和id只能存在一个-->
		<variable name="item_id" type="unsigned int" default="0"/>	<!--寄售的物品id，money和id只能存在一个-->
		<variable name="item_count" type="int" default="0"/>		<!--寄售的物品数量-->
		<variable name="state" type="int" default="0"/>
		<variable name="post_endtime" type="int" default="0"/>
		<variable name="show_endtime" type="int" default="0"/>
		<variable name="price" type="int" default="0"/>
		<variable name="sell_endtime" type="int" default="0"/>
		<variable name="buyer_roleid" type="int" default="0"/>
		<variable name="buyer_userid" type="int" default="0"/>
		<variable name="buyer_name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="commodity_id" type="int" default="0"/>	<!--商品id，由网页生成-->
	</rpcdata>
	<rpcdata name="GWebTradeRoleBriefExtend">
		<variable name="meridian_data" type ="Octets" default="Octets()" attr="ref"/>
		<variable name="card_leadership" type ="Octets" default="Octets()" attr="ref"/>
		<variable name="fate_ring_data" type ="Octets" default="Octets()" attr="ref"/>
		<variable name="title_data" type ="Octets" default="Octets()" attr="ref"/>
		<variable name="astrolabe_data" type="Octets" default="Octets()" attr="ref"/>
		<variable name="shopping_consume_vip_data" type="Octets" default="Octets()" attr="ref"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
		<variable name="reserved6" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GWebTradeRoleBrief">	<!--这里的数据量太大(max131072)，仅在寻宝网使用，游戏内只保留等级职业等基本信息-->
		<variable name="cls" type="int" default="0"/>				<!--职业-->
		<variable name="gender" type="unsigned char" default="0"/>	<!--性别-->
		<variable name="level" type="int" default="0"/>				<!--等级-->
		<variable name="level2" type="int" default="0"/>			<!--修真等级-->
		<variable name="exp" type="int" default="0"/>				<!--经验-->
		<variable name="sp" type="int" default="0"/>				<!--元神-->
		<variable name="pp" type="int" default="0"/>				<!--剩余属性点-->
		<variable name="reputation" type="int" default="0"/>		<!--声望-->
		<variable name="petcorral" type ="Octets" default="Octets()" attr="ref"/>	<!--宠物栏-->
		<variable name="property" type = "Octets" default="Octets()" attr="ref"/>	<!--人物属性-->
		<variable name="skills" type="Octets" default="Octets()" attr="ref"/>		<!--技能-->
		<variable name="inventory" type="GRolePocket" default="GRolePocket()" attr="ref"/>			<!--包裹栏-->
		<variable name="equipment" type="GRoleEquipment" default="GRoleEquipment()" attr="ref"/>	<!--装备栏-->
		<variable name="storehouse" type="GRoleStorehouse" default="GRoleStorehouse()" attr="ref"/>	<!--仓库-->
		<variable name="force_data" type="Octets" default="Octets()" attr="ref"/>
		<variable name="reincarnation_data" type="Octets" default="Octets()" attr="ref"/>
		<variable name="realm_data" type="Octets" default="Octets()" attr="ref"/>
		<variable name="extend_data" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpcdata name="GWebTradeDetail">
		<variable name="info" type="GWebTradeItem" default="GWebTradeItem()" attr="ref"/>
		<variable name="item" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
		<variable name="post_time" type="int64_t" default="0"/>		<!--寄售时间点 ms为单位-->
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="loginip" type="int" default="0"/>
		<variable name="rolebrief" type="Octets" default="Octets()" attr="ref"/>	<!--GWebTradeRoleBrief-->
		<variable name="reserved10" type="char" default="0"/>
		<variable name="reserved11" type="short" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBWebTradeLoadArg">
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="DBWebTradeLoadRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="max_sn" type="int64_t" default="0"/>
		<variable name="items" type="std::vector&lt;GWebTradeDetail>" attr="ref" default="std::vector&lt;GWebTradeDetail>()"/>
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpc name="DBWebTradeLoad" type="4301" argument="DBWebTradeLoadArg" result="DBWebTradeLoadRes" maxsize="393216" prior="1" timeout="30"/>
	<protocol name="WebTradePrePost" type="4302" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="posttype" type="int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>	
		<variable name="item_id" type="unsigned int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="price" type="int" default="0"/>				<!--价格，大于0表示寄售同时上架-->
		<variable name="sellperiod" type="int" default="0"/>		<!--上架时间，设置了上架才生效-->
		<variable name="buyer_roleid" type="int" default="0"/>		<!--买家id，如设定则只允许该买家购买-->
		<!-- below parameter is provide by gameserver  -->
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="WebTradePrePost_Re" type="4303" maxsize="256" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="info" type="GWebTradeItem" default="GWebTradeItem()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="DBWebTradePrePostArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="posttype" type="int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="item_id" type="unsigned int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="price" type="int" default="0"/>
		<variable name="sellperiod" type="int" default="0"/>
		<variable name="buyer_roleid" type="int" default="0"/>
		<variable name="post_time" type="int64_t" default="0"/> 
		<variable name="state" type="int" default="0"/>
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="loginip" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBWebTradePrePostRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="buyer_userid" type="int" default="0"/>
		<variable name="buyer_name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="rolebrief" type="Octets" default="Octets()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBWebTradePrePost" type="4304" argument="DBWebTradePrePostArg" result="DBWebTradePrePostRes" maxsize="1048576" prior="1" timeout="30"/>
	<protocol name="WebTradePreCancelPost" type="4305" maxsize="32" prior="1">
		<variable name="sn" type="int64_t"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="WebTradePreCancelPost_Re" type="4306" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="sn" type="int64_t"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="DBWebTradePreCancelPostArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="state" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBWebTradePreCancelPostRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBWebTradePreCancelPost" type="4307" argument="DBWebTradePreCancelPostArg" result="DBWebTradePreCancelPostRes" maxsize="64" prior="1" timeout="30"/>
	<protocol name="WebTradeList" type="4308" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="category" type="unsigned int"/>
		<variable name="begin" type="unsigned int"/>
		<variable name="reverse" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="WebTradeList_Re" type="4309" maxsize="4096" prior="1">
		<variable name="category" type="unsigned int"/>
		<variable name="end" type="unsigned int" default="0"/>
		<variable name="items" type="std::vector&lt;GWebTradeItem>" attr="ref" default="std::vector&lt;GWebTradeItem>()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="WebTradeGetItem" type="4310" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="sns" type="std::vector&lt;int64_t>" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="WebTradeGetItem_Re" type="4311" maxsize="20480" prior="1">
		<variable name="sns" type="std::vector&lt;int64_t>" attr="ref"/>
		<variable name="items" type="GRoleInventoryVector" attr="ref"/>
		<variable name="rolebriefs" type="std::vector&lt;Octets>" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="WebTradeAttendList" type="4312" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="getsell" type="char"/>		<!--1 sell 0 buy-->
		<variable name="begin" type="unsigned int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="WebTradeAttendList_Re" type="4313" maxsize="4096" prior="1">
		<variable name="getsell" type="char"/>		<!--1 sell 0 buy-->
		<variable name="end" type="unsigned int"/>
		<variable name="items" type="std::vector&lt;GWebTradeItem&gt;"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="WebTradeGetDetail" type="4314" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="sn" type="int64_t"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="WebTradeGetDetail_Re" type="4315" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="sn" type="int64_t"/>
		<variable name="detail" type="GWebTradeDetail"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="DBWebTradePostArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="state" type="int" default="0"/>
		<variable name="post_endtime" type="int" default="0"/>
		<variable name="show_endtime" type="int" default="0"/>
		<variable name="sell_endtime" type="int" default="0"/>
		<variable name="commodity_id" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBWebTradePostRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBWebTradePost" type="4316" argument="DBWebTradePostArg" result="DBWebTradePostRes" maxsize="64" prior="1" timeout="30"/>
	<rpcdata name="DBWebTradeCancelPostArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="reason" type="char" default="0"/>	<!-- 1:寄售失败 0:玩家取消-->
	</rpcdata>
	<rpcdata name="DBWebTradeCancelPostRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="inform_seller" type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc name="DBWebTradeCancelPost" type="4317" argument="DBWebTradeCancelPostArg" result="DBWebTradeCancelPostRes" maxsize="128" prior="1" timeout="30"/>
	<rpcdata name="DBWebTradeShelfArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="state" type="int" default="0"/>
		<variable name="show_endtime" type="int" default="0"/>
		<variable name="price" type="int" default="0"/>
		<variable name="sell_endtime" type="int" default="0"/>
		<variable name="buyer_roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBWebTradeShelfRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="buyer_userid" type="int" default="0"/>
		<variable name="buyer_name" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpc name="DBWebTradeShelf" type="4318" argument="DBWebTradeShelfArg" result="DBWebTradeShelfRes" maxsize="128" prior="1" timeout="30"/>
	<rpcdata name="DBWebTradeCancelShelfArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="state" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBWebTradeCancelShelfRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBWebTradeCancelShelf" type="4319" argument="DBWebTradeCancelShelfArg" result="DBWebTradeCancelShelfRes" maxsize="32" prior="1" timeout="30"/>
	<rpcdata name="DBWebTradeSoldArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="buyer_roleid" type="int" default="0"/>
		<variable name="buyer_userid" type="int" default="0"/> <!--如果买家roleid与买家userid不匹配则以userid为准-->
	</rpcdata>
	<rpcdata name="DBWebTradeSoldRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="inform_seller" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="inform_buyer" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="buyer_roleid" type="int" default="0"/> <!--此值表示实际收到物品的角色roleid-->
	</rpcdata>
	<rpc name="DBWebTradeSold" type="4320" argument="DBWebTradeSoldArg" result="DBWebTradeSoldRes" maxsize="256" prior="1" timeout="30"/>
	<rpcdata name="DBWebTradePostExpireArg">
		<variable name="sn" type="int64_t" default="0"/>
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBWebTradePostExpireRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="inform_seller" type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc name="DBWebTradePostExpire" type="4321" argument="DBWebTradePostExpireArg" result="DBWebTradePostExpireRes" maxsize="128" prior="1" timeout="30"/>
	<rpcdata name="RoleSimpleInfo">
		<variable name="roleid" type="int64_t" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="race" type="int" default="0"/>
		<variable name="gender" type="int" default="0"/>
		<variable name="name" type="Octets" default="Octets()" attr="ref"/>
		<variable name="reincarnation_times" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBWebTradeGetRoleSimpleInfoArg">
		<variable name="userid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBWebTradeGetRoleSimpleInfoRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="roles" type="std::vector&lt;RoleSimpleInfo&gt;" default="std::vector&lt;RoleSimpleInfo&gt;()" attr="ref"/>
	</rpcdata>
	<rpc name="DBWebTradeGetRoleSimpleInfo" type="4322" argument="DBWebTradeGetRoleSimpleInfoArg" result="DBWebTradeGetRoleSimpleInfoRes" maxsize="1280" prior="1" timeout="30"/>
	<rpcdata name="DBWebTradeLoadSoldArg">
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="DBWebTradeLoadSoldRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="snlist" type="std::vector&lt;int64_t>" attr="ref" default="std::vector&lt;int64_t>()"/>
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpc name="DBWebTradeLoadSold" type="4323" argument="DBWebTradeLoadSoldArg" result="DBWebTradeLoadSoldRes" maxsize="4096" prior="1" timeout="30"/>
	<protocol name="WebTradeUpdate" type="4324" maxsize="32" prior="1">
		<variable name="sn" type="int64_t"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="WebTradeUpdate_Re" type="4325" maxsize="256" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="sn" type="int64_t"/>
		<variable name="item" type="GWebTradeItem" attr="ref" default="GWebTradeItem()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<!--角色寄售时使用的协议-->
	<protocol name="WebTradeRolePrePost" type="4326" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="price" type="int" default="0"/>				<!--价格，大于0表示寄售同时上架-->
		<variable name="sellperiod" type="int" default="0"/>		<!--上架时间，设置了上架才生效-->
		<variable name="buyer_roleid" type="int" default="0"/>		<!--买家id，如设定则只允许该买家购买-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="WebTradeRolePreCancelPost" type="4328" maxsize="32" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="WebTradeRoleGetDetail" type="4329" maxsize="32" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
		

	<!-- 以下协议由网上交易平台定义 -->
	<rpcdata name="TraderInfo"> 
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t"/>
		<variable name="rolename" type="Octets"/>
	</rpcdata>
	<rpcdata name="PostInfo"> 
		<variable name="detail" type="Octets"/>
	</rpcdata>
	<rpcdata name="TimeInfo"> 
		<variable name="actiontime" type="int64_t"/>  <!-- 动作发起时间点,ms为单位 -->
		<variable name="showperiod" type="int"/> <!-- 公示期时长min为单位-->
		<variable name="sellperiod" type="int"/> <!-- 出售时长min为单位 -->
		<variable name="postperiod" type="int"/> <!-- 寄售时长min为单位 -->
	</rpcdata>
	<protocol name="Post" type="8020" maxsize="1048576" prior="1">
		<variable name="aid" type="int"/>
		<variable name="zoneid" type="int"/>
		<variable name="seller" type="TraderInfo"/> <!-- 卖家信息  -->
		<variable name="buyer" type="TraderInfo"/>  <!-- 买家信息（指定买家时赋值） -->
		<variable name="sn" type="int64_t"/>       <!-- 流水号 -->
		<variable name="price" type="int"/>     <!-- 售价（游戏内寄售并上架时赋值）  -->
		<variable name="shelf" type="unsigned char"/>    <!-- 只寄售则为0，寄售并上架则为1 -->
		<variable name="posttype" type="int"/>  <!-- 寄售类型，1-游戏币，2-普通物品，3-宠物，4-角色 -->
		<variable name="num" type="int"/>       <!-- 除了可堆叠物品，其他均为1 -->
		<variable name="loginip" type="int"/>   <!-- 玩家ip，用于统计及监测工作室等 -->
		<variable name="time" type="TimeInfo"/> <!-- 寄售相关时间 -->
		<variable name="info" type="PostInfo"/> <!-- 寄售物品的信息 -->
		<variable name="backup" type="Octets"/> <!-- 物品完整信息，用于补物品 -->
		<variable name="timestamp" type="int64_t"/><!-- 标识协议的时间戳，不一定是时间 -->
		<variable name="reserved1" type="int" default="0"/> <!-- 保留字段 -->
		<variable name="reserved2" type="int" default="0"/> <!-- 保留字段 -->
	</protocol>
	<protocol name="Post_Re" type="8021" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t"/>
		<variable name="sn" type="int64_t" />
		<variable name="time" type="TimeInfo"/><!-- 只关注showperiod和postperiod即可-->
		<variable name="retcode" type="int" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="buylevel" type="int" />
		<variable name="commodity_id" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="GamePostCancel" type="8022" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="GamePostCancel_Re" type="8023" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" /> 
		<variable name="retcode" type="int" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="WebPostCancel" type="8024" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="ctype" type="int" />
		<variable name="messageid" type="int64_t" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="WebPostCancel_Re" type="8025" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" /> 
		<variable name="retcode" type="int" />
		<variable name="messageid" type="int64_t" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="Shelf" type="8026" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="price" type="int"/>
		<variable name="time" type="TimeInfo"/> <!-- 仅关注posttime(上架时间),showperiod和sellperiod -->
		<variable name="buyerroleid" type="int64_t" />
		<variable name="messageid" type="int64_t" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="Shelf_Re" type="8027" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="retcode" type="int" />
		<variable name="messageid" type="int64_t" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="ShelfCancel" type="8028" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="messageid" type="int64_t" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="ShelfCancel_Re" type="8029" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="retcode" type="int" />
		<variable name="messageid" type="int64_t" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="Sold" type="8030" maxsize="128" prior="1">
		<variable name="zoneid" type="int" />
		<variable name="selleruserid" type="int"/>
		<variable name="sellerroleid" type="int64_t" />
		<variable name="buyeruserid" type="int"/>
		<variable name="buyerroleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="orderid" type="int64_t" />
		<variable name="stype" type="int" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int"  default="0"/>
		<variable name="reserved2" type="int"  default="0"/>
	</protocol>
	<protocol name="Sold_Re" type="8031" maxsize="128" prior="1">
		<variable name="zoneid" type="int" />
		<variable name="selleruserid" type="int"/>
		<variable name="sellerroleid" type="int64_t" />
		<variable name="buyeruserid" type="int"/>
		<variable name="buyerroleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="retcode" type="int" />
		<variable name="orderid" type="int64_t" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="PostExpire" type="8032" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="messageid" type="int64_t" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="PostExpire_Re" type="8033" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="roleid" type="int64_t" />
		<variable name="sn" type="int64_t" />
		<variable name="retcode" type="int" />
		<variable name="messageid" type="int64_t" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="WebGetRoleList" type="8034" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
		<variable name="messageid" type="int64_t" />
		<variable name="timestamp" type="int64_t"/> 
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<rpcdata name="WebRole">
		<variable name="info" type="Octets" default="Octets()" attr="ref"/>		
	</rpcdata>
	<protocol name="WebGetRoleList_Re" type="8035" maxsize="65536" prior="1">
		<variable name="aid" type="int" />
		<variable name="userid" type="int"/>
		<variable name="retcode" type="int" /> 
		<variable name="rolelist" type="std::vector&lt;WebRole&gt;" attr="ref"/>
		<variable name="messageid" type="int64_t" />
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</protocol>
	<protocol name="NewKeepAlive" type="8036" maxsize="32" prior="1">
		<variable name="reserved" type="int" />
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--    Protocols and Rpcs used in SysAuction System is 4351 - 4400 			   				            -->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="GSysAuctionItem">
		<variable name="sa_id" type="unsigned int" default="0"/>
		<variable name="item_id" type="unsigned int" default="0"/>
		<variable name="item_count" type="int" default="0"/>
		<variable name="base_price" type="unsigned int" default="0"/>
		<variable name="state" type="int" default="0"/>
		<variable name="auction_starttime" type="int" default="0"/>
		<variable name="auction_endtime" type="int" default="0"/>
		<variable name="bid_price" type="unsigned int" default="0"/>
		<variable name="bid_time" type="int" default="0"/>
		<variable name="bid_freezetime" type="int" default="0"/>
		<variable name="bidder_roleid" type="int" default="0"/>
		<variable name="bidder_userid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GSysAuctionDetail">
		<variable name="info" type="GSysAuctionItem" default="GSysAuctionItem()" attr="ref"/>
		<variable name="item" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
	</rpcdata>
	<rpcdata name="GSysAuctionCash">		<!--user表中cash_sysauction结构-->
		<variable name="cash_2" type="unsigned int" default="0"/>
		<variable name="cash_used_2" type="unsigned int" default="0"/>
	</rpcdata>
	<protocol name="SysAuctionList" type="4351" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="SysAuctionList_Re" type="4352" maxsize="5120" prior="1">
		<variable name="items" type="std::vector&lt;GSysAuctionItem>" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SysAuctionGetItem" type="4353" maxsize="512" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="ids" type="std::vector&lt;unsigned int>" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="SysAuctionGetItem_Re" type="4354" maxsize="102400" prior="1">
		<variable name="ids" type="std::vector&lt;unsigned int>" attr="ref"/>
		<variable name="items" type="GRoleInventoryVector" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SysAuctionAccount" type="4355" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="SysAuctionAccount_Re" type="4356" maxsize="512" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="cash" type="unsigned int"/>
		<variable name="bid_ids" type="std::vector&lt;unsigned int>"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="SysAuctionBid" type="4357" maxsize="32" prior="1">	<!--竞价-->
		<variable name="roleid" type="int"/>
		<variable name="sa_id" type="unsigned int"/>
		<variable name="bid_price" type="unsigned int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SysAuctionBid_Re" type="4358" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="cash" type="unsigned int" default="0"/>
		<variable name="info" type="GSysAuctionItem" default="GSysAuctionItem()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SysAuctionCashTransfer" type="4359" maxsize="131072" prior="1">	<!--帐户存取钱-->
		<variable name="roleid" type="int"/>
		<variable name="withdraw" type="char"/>
		<variable name="cash" type="unsigned int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="syncdata" type="Octets" attr="ref"/>
	</protocol>
	<protocol name="SysAuctionCashTransfer_Re" type="4360" maxsize="16" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="cash" type="unsigned int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="DBSysAuctionCashTransferArg">
		<variable name="userid" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="withdraw" type="char" default="0"/>
		<variable name="cash_transfer" type="unsigned int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBSysAuctionCashTransferRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="cash" type="unsigned int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBSysAuctionCashTransfer" type="4361" argument="DBSysAuctionCashTransferArg" result="DBSysAuctionCashTransferRes" maxsize="131072" prior="1" timeout="30"/>
	<rpcdata name="DBSysAuctionCashSpendArg">
		<variable name="userid" type="int" default="0"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="cash_spend" type="unsigned int" default="0"/>
		<variable name="sa_id" type="unsigned int" default="0"/>
		<variable name="item" type="GRoleInventory" default="GRoleInventory()"/>
	</rpcdata>
	<rpcdata name="DBSysAuctionCashSpendRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="cash" type="unsigned int" default="0"/>
		<variable name="cash_used" type="unsigned int" default="0"/>
		<variable name="inform_bidder" type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc name="DBSysAuctionCashSpend" type="4362" argument="DBSysAuctionCashSpendArg" result="DBSysAuctionCashSpendRes" maxsize="1024" prior="1" timeout="30"/>
	<rpcdata name="SysAuctionPrepareItemArg">
		<variable name="indexes" type="std::vector&lt;int>" default="std::vector&lt;int>()" attr="ref"/>
		<variable name="item_ids" type="std::vector&lt;int>" default="std::vector&lt;int>()" attr="ref"/>
	</rpcdata>
	<rpcdata name="SysAuctionPrepareItemRes">
		<variable name="indexes" type="std::vector&lt;int>" default="std::vector&lt;int>()" attr="ref"/>
		<variable name="items" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
	</rpcdata>
	<rpc name="SysAuctionPrepareItem" type="4363" argument="SysAuctionPrepareItemArg" result="SysAuctionPrepareItemRes" maxsize="102400" prior="1" timeout="30"/>

	<!--  ****************************************************************************************************  -->
	<!--    Protocols and Rpcs used in Faction Base is 4401 - 4450 					   				            -->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="GFactionFortressInfo">		<!--gs使用的数据,当前最大1448-->
		<variable name="level" type="int" default="0"/>
		<variable name="exp" type="int" default="0"/>
		<variable name="exp_today" type="int" default="0"/>
		<variable name="exp_today_time" type="int" default="0"/>
		<variable name="tech_point" type="int" default="0"/>
		<variable name="technology" type="Octets" default="Octets()" attr="ref"/><!--固定5个int-->
		<variable name="material" type="Octets" default="Octets()" attr="ref"/><!--固定8个int-->
		<variable name="building" type="Octets" default="Octets()" attr="ref"/><!--上限20个int*2-->
		<variable name="common_value" type="Octets" default="Octets()" attr="ref"/><!--上限100个int*2-->
		<variable name="actived_spawner" type="Octets" default="Octets()" attr="ref"/><!--上限100个int-->
		<variable name="reserved11" type="char" default="0"/>
		<variable name="reserved12" type="short" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionFortressInfo2">		<!--deliveryd使用的数据,当前最大160-->
		<variable name="health" type="int" default="0"/>
		<variable name="offense_faction" type="int" default="0"/>
		<variable name="offense_starttime" type="int" default="0"/>
		<variable name="offense_endtime" type="int" default="0"/>
		<variable name="challenge_list" type="std::vector&lt;int&gt;" default="std::vector&lt;int&gt;()" attr="ref"/><!--上限32个-->
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionFortressDetail">		<!--如果大小超过2048(当前最大1608)要修改相应协议-->
		<variable name="factionid" type="int" default="0"/>
		<variable name="info" type="GFactionFortressInfo" default="GFactionFortressInfo()" attr="ref"/>
		<variable name="info2" type="GFactionFortressInfo2" default="GFactionFortressInfo2()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionFortressBriefInfo">	<!--如果大小超过256要修改相应协议-->
		<variable name="factionid" type="int" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="building" type="Octets" default="Octets()" attr="ref"/><!--上限20个int*2-->
		<variable name="health" type="int" default="0"/>
		<variable name="offense_faction" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionFortressBattleInfo">	<!--如果大小超过64要修改相应协议-->
		<variable name="factionid" type="int" default="0"/>
		<variable name="offense_faction" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionFortressLoadArg">
        <variable name="handle" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBFactionFortressLoadRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="list" type="std::vector&lt;GFactionFortressDetail&gt;" default="std::vector&lt;GFactionFortressDetail&gt;()" attr="ref"/>
        <variable name="handle" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpc name="DBFactionFortressLoad" type="4401" argument="DBFactionFortressLoadArg" result="DBFactionFortressLoadRes" maxsize="131072" prior="1" timeout="30"/>
	<rpcdata name="DBPutFactionFortressArg">
		<variable name="detail" type="GFactionFortressDetail" default="GFactionFortressDetail()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPutFactionFortressRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBPutFactionFortress" type="4402" argument="DBPutFactionFortressArg" result="DBPutFactionFortressRes" maxsize="2048" prior="1" timeout="30"/>
	<rpcdata name="DBDelFactionFortressArg">
		<variable name="factionid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBDelFactionFortressRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBDelFactionFortress" type="4403" argument="DBDelFactionFortressArg" result="DBDelFactionFortressRes" maxsize="32" prior="1" timeout="30"/>
	<rpcdata name="GetFactionFortressArg">
		<variable name="factionid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GetFactionFortressRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="detail" type="GFactionFortressDetail" default="GFactionFortressDetail()" attr="ref"/>
	</rpcdata>
	<rpc name="GetFactionFortress" type="4404" argument="GetFactionFortressArg" result="GetFactionFortressRes" maxsize="2048" prior="1" timeout="30"/>
	<rpcdata name="PutFactionFortressArg">
		<variable name="factionid" type="int" default="0"/>
		<variable name="info" type="GFactionFortressInfo" default="GFactionFortressInfo()" attr="ref"/>
	</rpcdata>
	<rpcdata name="PutFactionFortressRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc name="PutFactionFortress" type="4405" argument="PutFactionFortressArg" result="PutFactionFortressRes" maxsize="2048" prior="1" timeout="30"/>
	<protocol name="CreateFactionFortress" type="4406" maxsize="131071" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="int"/>
		<!-- below parameter is provide by gameserver-->
		<variable name="item_cost" type="Octets" attr="ref"/>
		<variable name="fortress_info" type="Octets" attr="ref"/>
		<variable name="syncdata" type="Octets" attr="ref"/>
	</protocol>
	<protocol name="CreateFactionFortress_Re" type="4407" maxsize="512" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="brief" type="GFactionFortressBriefInfo" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="DBCreateFactionFortressArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="item_cost" type="Octets" default="Octets()" attr="ref"/>
		<variable name="detail" type="GFactionFortressDetail" default="GFactionFortressDetail()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBCreateFactionFortressRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBCreateFactionFortress" type="4408" argument="DBCreateFactionFortressArg" result="DBCreateFactionFortressRes" maxsize="131072" prior="1" timeout="30"/>
	<protocol name="FactionServerRegister" type="4409" maxsize="64" prior="1">
		<variable name="server_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>
	<protocol name="NotifyFactionFortressState" type="4410" maxsize="64" prior="1">
		<variable name="factionid" type="int"/>
		<variable name="state" type="int"/>		<!-- 0 关闭 1 开启 -->
	</protocol>
	<protocol name="NotifyFactionFortressInfo2" type="4411" maxsize="256" prior="1">
		<variable name="factionid" type="int"/>
		<variable name="info2" type="GFactionFortressInfo2" attr="ref"/>
	</protocol>
	<protocol name="FactionFortressEnter" type="4412" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="dst_factionid" type="int"/>
	</protocol>
	<protocol name="FactionFortressEnterNotice" type="4413" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="dst_factionid" type="int"/>
		<variable name="dst_world_tag" type="int"/>
	</protocol>
	<protocol name="FactionFortressList" type="4414" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="begin" type="unsigned int"/>
	</protocol>
	<protocol name="FactionFortressList_Re" type="4415" maxsize="4096" prior="1">
		<variable name="status" type="int"/>
		<variable name="begin" type="unsigned int"/>
		<variable name="list" type="std::vector&lt;GFactionFortressBriefInfo&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="FactionFortressChallenge" type="4416" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="target_factionid" type="int"/>
		<!-- below parameter is provide by gameserver-->
		<variable name="syncdata" type="Octets" attr="ref"/>
	</protocol>
	<protocol name="FactionFortressChallenge_Re" type="4417" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="DBFactionFortressChallengeArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="factionid" type="int" default="0"/>
		<variable name="target_factionid" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBFactionFortressChallengeRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBFactionFortressChallenge" type="4418" argument="DBFactionFortressChallengeArg" result="DBFactionFortressChallengeRes" maxsize="131072" prior="1" timeout="30"/>
	<protocol name="FactionFortressBattleList" type="4419" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol name="FactionFortressBattleList_Re" type="4420" maxsize="4096" prior="1">
		<variable name="status" type="int"/>
		<variable name="list" type="std::vector&lt;GFactionFortressBattleInfo&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="FactionFortressGet" type="4421" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="int"/>
	</protocol>
	<protocol name="FactionFortressGet_Re" type="4422" maxsize="512" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="brief" type="GFactionFortressBriefInfo" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="NotifyFactionFortressID" type="4423" maxsize="4096" prior="1">
		<variable name="factionids" type="std::vector&lt;int&gt;" attr="ref"/>
	</protocol>
	
	<protocol name="NotifyFactionPlayerRename" type="4424" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="newname" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	
    <rpcdata name="GFactionResourceBattleConfig">
        <variable name="domain_count" type="unsigned short" default="0"/>
        <variable name="minebase_count" type="unsigned short" default="0"/>
        <variable name="bonus_base" type="unsigned int" default="0"/>
        <variable name="bonus_minecar" type="unsigned int" default="0"/>
        <variable name="rob_minebase_limit" type="unsigned short" default="0"/>
        <variable name="rob_minecar_limit" type="unsigned short" default="0"/>
	</rpcdata>
    <protocol name="FactionResourceBattleRequestConfig" type="4425" maxsize="128" prior="1"> 
        <variable name="timestamp" type="unsigned int"/>
	</protocol>
    <protocol name="FactionResourceBattleRequestConfig_Re" type="4426" maxsize="65536" prior="1"> 
        <variable name="config_list" type="std::vector&lt;GFactionResourceBattleConfig&gt;" attr="ref"/>
        <variable name="controller_list" type="std::vector&lt;int&gt;" attr="ref"/>
	</protocol>
    <protocol name="FactionResourceBattleServerRegister" type="4427" maxsize="64" prior="1">
		<variable name="server_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>
    <protocol name="FactionResourceBattleStatusNotice" type="4428" maxsize="1024" prior="1">
		<variable name="status" type="char"/>
        <variable name="controller_list" type="std::vector&lt;int&gt;" attr="ref"/>
	</protocol>
    <rpcdata name="GFactionResourceBattleRole">
		<variable name="roleid" type="int"/>
        <variable name="rank" type="unsigned char"/>
	</rpcdata>
    <protocol name="FactionResourceBattleEventNotice" type="4429" maxsize="2048" prior="1">
		<variable name="event_type" type="char"/>
        <variable name="src_faction" type="int"/>
        <variable name="dest_faction" type="int"/>
        <variable name="domain_id" type="int"/>
        <variable name="leader_role" type="GFactionResourceBattleRole" attr="ref"/>
        <variable name="members" type="std::vector&lt;GFactionResourceBattleRole&gt;" attr="ref"/>
	</protocol>
    <protocol name="FactionResourceBattlePlayerQuery" type="4430" maxsize="128" prior="1"> 
        <variable name="roleid" type="int"/>
        <variable name="faction_id" type="int"/>
	</protocol>
    <protocol name="FactionResourceBattlePlayerQueryResult" type="4431" maxsize="65536" prior="1"> 
        <variable name="faction_id" type="int"/>
        <variable name="score" type="unsigned int"/>
        <variable name="rob_minecar_count" type="unsigned short"/>
        <variable name="rob_minebase_count" type="unsigned short"/>
        <variable name="can_get_bonus" type="char"/>
        <variable name="localsid" type="unsigned int"/>
	</protocol>
    <rpcdata name="DBFactionResourceBattleBonusArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="item" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBFactionResourceBattleBonusRes">
		<variable name="retcode" type="short" default="0"/>
		<variable name="inform_player"  type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc name="DBFactionResourceBattleBonus" type="4432" maxsize="1024" prior="1" argument="DBFactionResourceBattleBonusArg" result="DBFactionResourceBattleBonusRes" timeout="40"/>
    <rpcdata name="GFactionResourceBattleLimit">
		<variable name="faction_id" type="int" default="0"/>
        <variable name="limit_mask" type="int" default="0"/>
	</rpcdata>
    <protocol name="FactionResourceBattleLimitNotice" type="4433" maxsize="2048" prior="1">
		<variable name="status" type="char"/>
        <variable name="limit_data" type="std::vector&lt;GFactionResourceBattleLimit&gt;" attr="ref"/>
	</protocol>
    <protocol name="FactionResourceBattleGetMap" type="4434" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="FactionResourceBattleGetMap_Re" type="4435" maxsize="4096" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="domains" type="std::vector&lt;int&gt;" attr="ref"/> 
		<variable name="localsid" type="unsigned int"/>
	</protocol>
    <rpcdata name="GFactionResourceBattleRecord">
		<variable name="roleid" type="int"/>
        <variable name="kill_count" type="unsigned short"/>
        <variable name="death_count" type="unsigned short"/>
        <variable name="use_tool_count" type="unsigned short"/>
        <variable name="score" type="int"/>
	</rpcdata>
    <protocol name="FactionResourceBattleGetRecord" type="4436" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
    <protocol name="FactionResourceBattleGetRecord_Re" type="4437" maxsize="65536" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="records" type="std::vector&lt;GFactionResourceBattleRecord&gt;" attr="ref"/> 
		<variable name="localsid" type="unsigned int"/>
	</protocol>
    <protocol name="FactionResourceBattleNotifyPlayerEvent" type="4438" maxsize="256" prior="1">
		<variable name="event_type" type="char"/>
        <variable name="roleid" type="int"/>
        <variable name="score" type="int"/>
        <variable name="localsid" type="unsigned int"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--    Protocols and Rpcs used in Auction System is 800 - 850      				            -->
	<!--  ****************************************************************************************************  -->

	<rpcdata name="AuctionId">
		<variable name="id" type="unsigned int" default="0"/>
	</rpcdata>
	<protocol name="AuctionOpen" type="800" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="category" type="unsigned short" default="0"/>
		<variable name="item_id" type="int" default="-1"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="baseprice" type="unsigned int" default="0"/>
		<variable name="binprice" type="unsigned int" default="0"/>
		<variable name="elapse_time" type="int" default="0"/>
		<!-- below parameter is provide by gameserver-->
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="AuctionOpen_Re" type="801" maxsize="128" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="info" type="GAuctionItem" default="GAuctionItem()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="AuctionBid" type="802" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="bidprice" type="unsigned int" default="0"/>
		<variable name="bin" type="char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<!-- below parameter is provieded by gameserver-->
		<variable name="money" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="SendAuctionBid" type="822" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="bidprice" type="unsigned int" default="0"/>
		<variable name="bin" type="char" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</protocol>
	<protocol name="AuctionBid_Re" type="803" maxsize="128" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="bidprice" type="unsigned int" default="0"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="info" type="GAuctionItem" default="GAuctionItem()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="AuctionList" type="804" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="category" type="unsigned short"/>
		<variable name="item_id" type="unsigned int"/>
		<variable name="begin" type="unsigned int"/>
		<variable name="reverse" type="char"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="GAuctionItem">
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="bidprice" type="unsigned int" default="0"/>
		<variable name="binprice" type="unsigned int" default="0"/>
		<variable name="end_time" type="unsigned int" default="0"/>
		<variable name="itemid" type="unsigned int" default="0"/>
		<variable name="count" type="unsigned short" default="0"/>
		<variable name="seller" type="unsigned int" default="0"/>
		<variable name="bidder" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="GAuctionDetail">
		<variable name="info" type="GAuctionItem" default="GAuctionItem()"/>
		<variable name="category" type="unsigned short" default="0"/>
		<variable name="baseprice" type="unsigned int" default="0"/>
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="elapse_time" type="int" default="0"/>
		<variable name="prolong" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="item" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
	</rpcdata>
	<protocol name="AuctionList_Re" type="805" maxsize="1024" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="category" type="unsigned short" default="0"/>
		<variable name="end" type="unsigned int" default="0"/>
		<variable name="items" type="std::vector&lt;GAuctionItem>" default="std::vector&lt;GAuctionItem>()" attr="ref"/>
	</protocol>
	<protocol name="AuctionClose" type="806" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="auctionid" type="unsigned int"/>
		<variable name="reason" type="unsigned char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="AuctionClose_Re" type="807" maxsize="32" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="AuctionGet" type="808" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="AuctionGet_Re" type="809" maxsize="2048" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="item" type="GAuctionDetail" default="GAuctionDetail()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="AuctionGetItem" type="820" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="ids" type="std::vector&lt;unsigned int&gt;" default="std::vector&lt;unsigned int&gt;()" attr="ref"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="AuctionGetItem_Re" type="821" maxsize="8192" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="ids" type="std::vector&lt;unsigned int&gt;" attr="ref" default="std::vector&lt;unsigned int&gt;()"/>
		<variable name="items" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
	</protocol>
	<rpcdata name="DBAuctionOpenArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="category" type="unsigned short" default="0"/>
		<variable name="item_id" type="int" default="-1"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="baseprice" type="unsigned int" default="0"/>
		<variable name="binprice" type="unsigned int" default="0"/>
		<variable name="elapse_time" type="int" default="0"/>
		<variable name="end_time" type="int" default="0"/>
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBAuctionOpenRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBAuctionOpen" type="810" maxsize="131072" prior="1" argument="DBAuctionOpenArg" result="DBAuctionOpenRes" timeout="30"/>
	<rpcdata name="DBAuctionBidArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="bidprice" type="unsigned int" default="0"/>
		<variable name="bin" type="char" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBAuctionBidRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="bidprice" type="unsigned int" default="0"/>
		<variable name="inform_seller" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="inform_loser"  type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="inform_winner" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="extend_time" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBAuctionBid" type="811" maxsize="131072" prior="1" argument="DBAuctionBidArg" result="DBAuctionBidRes" timeout="30"/>
	<rpcdata name="GAuctionList" attr="vector">
		<variable name="category" type="unsigned short" default="0"/>
		<variable name="list" type="std::vector&lt;GAuctionDetail>" attr="ref" default="std::vector&lt;GAuctionDetail>()"/>
	</rpcdata>
	<rpcdata name="GAuctionIndex">
        <variable name="category" type="Octets" attr="ref" default="Octets(0)"/>
        <variable name="index" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBAuctionListArg">
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="DBAuctionListRes">
		<variable name="retcode" type="short" default="0"/>
		<variable name="items" type="std::vector&lt;GAuctionDetail>" attr="ref" default="std::vector&lt;GAuctionDetail>()"/>
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpc name="DBAuctionList" type="812" maxsize="262144" prior="1" argument="DBAuctionListArg" result="DBAuctionListRes" timeout="30"/>
	<rpcdata name="DBAuctionGetArg">
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="reason" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="DBAuctionGetRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="item" type="GAuctionDetail" default="GAuctionDetail()" attr="ref"/>
	</rpcdata>
	<rpc name="DBAuctionGet" type="813" maxsize="2048" prior="1" argument="DBAuctionGetArg" result="DBAuctionGetRes" timeout="30"/>
	<rpcdata name="DBAuctionTimeoutRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
		<variable name="inform_seller" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="inform_bidder" type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc name="DBAuctionTimeout" type="814" maxsize="2048" prior="1" argument="AuctionId" result="DBAuctionTimeoutRes" timeout="30"/>
	<rpcdata name="DBAuctionCloseArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="reason" type="unsigned char" default="0"/>
		<variable name="auctionid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="DBAuctionCloseRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="inform_seller" type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="inform_bidder" type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc name="DBAuctionClose" type="815" maxsize="2048" prior="1" argument="DBAuctionCloseArg" result="DBAuctionCloseRes" timeout="30"/>

	<protocol name="AuctionAttendList" type="816" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="gettype" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="AuctionAttendList_Re" type="817" maxsize="2048" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="gettype" type="int"/>
		<variable name="items" type="std::vector&lt;GAuctionItem&gt;" default="std::vector&lt;GAuctionItem&gt;()"/>
	</protocol>
	<protocol name="AuctionExitBid" type="818" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="auctionid" type="unsigned int"/>
	</protocol>
	<protocol name="AuctionExitBid_Re" type="819" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="auctionid" type="unsigned int"/>
	</protocol>
	<protocol name="AuctionListUpdate" type="823" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="ids" type="std::vector&lt;unsigned int&gt;" default="std::vector&lt;unsigned int&gt;()" attr="ref"/>
	</protocol>
	<protocol name="AuctionListUpdate_Re" type="824" maxsize="1024" prior="1">
		<variable name="localsid" type="unsigned int"/>
		<variable name="expired_ids" type="std::vector&lt;unsigned int&gt;" default="std::vector&lt;unsigned int&gt;()" attr="ref"/>
		<variable name="items" type="std::vector&lt;GAuctionItem>" default="std::vector&lt;GAuctionItem>()" attr="ref"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--      			 Protocols and Rpcs used in Battle System is 850 - 900      				            -->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="GChallengerInfoList">
		<variable name="challengerlist" type="std::vector&lt;GChallengerInfo&gt;" default="std::vector&lt;GChallengerInfo&gt;()" attr="ref"/>
	</rpcdata>
	<rpcdata name="GChallengerInfo">
		<variable name="faction" type="unsigned int" default="0" />
		<variable name="time" type="int" default="0"/>
		<variable name="deposit" type="unsigned int" default="0" />
	</rpcdata>
	<rpcdata name="GTerritoryDetail">
		<variable name="id" type="short" default="0"/>
		<variable name="level" type="short" default="0"/>
		<variable name="owner" type="unsigned int" default="0"/>
		<variable name="occupy_time" type="int" default="0"/>
		<variable name="challenger" type="unsigned int" default="0"/>
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="cutoff_time" type="int" default="0"/>
		<variable name="battle_time" type="int" default="0"/>
		<variable name="bonus_time" type="int" default="0"/>
		<variable name="color" type="int" default="0"/>
		<variable name="status" type="int" default="0"/>
		<variable name="timeout" type="int" default="0"/>
		<variable name="maxbonus" type="int" default="0"/>
		<variable name="challenge_time" type="int" default="0"/>
		<variable name="challengerdetails" type="Octets" default="0"/>
		<variable name="reserved1" type="char" default="0"/>
		<variable name="reserved2" type="char" default="0"/>
		<variable name="reserved3" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="GTerritoryStore">
		<variable name="cities" type="std::vector&lt;GTerritoryDetail&gt;" default="std::vector&lt;GTerritoryDetail&gt;()"/>
		<variable name="status" type="int" default="0"/>
		<variable name="special_time" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GTerritory">
		<variable name="id" type="char" default="0"/>
		<variable name="level" type="char" default="0"/>
		<variable name="color" type="char" default="0"/>
		<variable name="owner" type="unsigned int" default="0"/>
		<variable name="challenger" type="unsigned int" default="0"/>
		<variable name="battle_time" type="unsigned int" default="0"/>
		<variable name="deposit" type="int" default="0"/>
		<variable name="maxbonus" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GCity">
		<variable name="id" type="char" default="0"/>
		<variable name="level" type="char" default="0"/>
		<variable name="owner" type="unsigned int" default="0"/>
	</rpcdata>
	<protocol name="BattleGetMap" type="850" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="BattleGetMap_Re" type="851" maxsize="2048" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="maxbid" type="unsigned short"/>
		<variable name="status" type="int"/>
		<variable name="cities" type="std::vector&lt;GTerritory&gt;" default="std::vector&lt;GTerritory&gt;()"/>
		<variable name="bonus_id" type="int" default="0"/>
		<variable name="bonus_count1" type="int" default="0"/>
		<variable name="bonus_count2" type="int" default="0"/>
		<variable name="bonus_count3" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="BattleChallenge" type="852" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="id" type="short"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="authentication" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="BattleChallenge_Re" type="853" maxsize="64" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="roleid" type="int"/>
		<variable name="id" type="short"/>
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="maxbonus" type="unsigned int" default="0"/>
		<variable name="challenger" type="unsigned int" default="0"/>
		<variable name="cutoff_time" type="unsigned int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="GBattleChallenge">
		<variable name="id" type="short" default="0"/>
		<variable name="challenger" type="unsigned int" default="0"/>
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="maxbonus" type="unsigned int" default="0"/>
		<variable name="cutoff_time" type="unsigned int" default="0"/>
	</rpcdata>
	<protocol name="BattleChallengeMap" type="854" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="factionid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="BattleChallengeMap_Re" type="855" maxsize="2048" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="retcode" type="unsigned short"/>
		<variable name="status" type="int" default="0"/>
		<variable name="maxbonus" type="unsigned int" default="0"/>
		<variable name="cities" type="std::vector&lt;GBattleChallenge&gt;" default="std::vector&lt;GBattleChallenge&gt;()"/>
		<variable name="rand_num" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="BattleServerRegister" type="856" maxsize="64" prior="1">
		<variable name="map_type" type="int"/>
		<variable name="server_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>
	<protocol name="BattleStart" type="857" maxsize="64" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="map_type" type="int"/>
		<variable name="battle_type" type="int"/>
		<variable name="defender" type="unsigned int"/>
		<variable name="attacker" type="unsigned int"/>
		<variable name="end_time" type="int"/>
	</protocol>
	<protocol name="BattleStart_Re" type="858" maxsize="64" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="retcode" type="short"/>
	</protocol>
	<rpcdata name="BattleEndArg">
		<variable name="battle_id" type="int" default="0"/>
		<variable name="result" type="int" default="0"/>
		<variable name="defender" type="unsigned int" default="0"/>
		<variable name="attacker" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="BattleEndRes">
		<variable name="retcode" type="short" default="0"/>
	</rpcdata>
    <rpc debug="0" name="BattleEnd" type="859" argument="BattleEndArg" result="BattleEndRes" maxsize="64" prior="1" timeout="30"/>
	<protocol name="BattleEnter" type="860" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_id" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="BattleEnter_Re" type="861" maxsize="32" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="BattleEnterNotice" type="862" maxsize="32" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="battle_id" type="int" default="0"/>
		<variable name="server_id" type="int" default="0"/>
		<variable name="world_tag" type="int" default="0"/>
	</protocol>
	<protocol name="BattleMapNotice" type="870" maxsize="2048" prior="1">
		<variable name="status" type="int"/>
		<variable name="cities" type="std::vector&lt;GCity&gt;" default="std::vector&lt;GCity&gt;()"/>
	</protocol>
	<rpcdata name="DBBattleLoadArg">
		<variable name="data" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBBattleLoadRes">
		<variable name="retcode" type="short" default="0"/>
		<variable name="cities" type="std::vector&lt;GTerritoryDetail&gt;" default="std::vector&lt;GTerritoryDetail&gt;()"/>
	</rpcdata>
    <rpc debug="0" name="DBBattleLoad" type="863" argument="DBBattleLoadArg" result="DBBattleLoadRes" maxsize="8192" prior="1" timeout="60"/>
	<rpcdata name="DBBattleSetArg">
		<variable name="reason" type="short" default="0"/>
		<variable name="cities" type="std::vector&lt;GTerritoryDetail&gt;" default="std::vector&lt;GTerritoryDetail&gt;()"/>
	</rpcdata>
	<rpcdata name="DBBattleSetRes">
		<variable name="retcode" type="short" default="0"/>
	</rpcdata>
    <rpc debug="0" name="DBBattleSet" type="864" argument="DBBattleSetArg" result="DBBattleSetRes" maxsize="8192" prior="1" timeout="60"/>
	<rpcdata name="DBBattleChallengeArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="cityid" type="short" default="0"/>
		<variable name="factionid" type="int" default="0"/>
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="maxbonus" type="unsigned int" default="0"/>
		<variable name="challenge_time" type="int" default="0" />
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBBattleChallengeRes">
		<variable name="retcode" type="short" default="0"/>
		<variable name="challenge_res" type="int" default="0"/>
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="inform_loser"  type="GMailHeader" default="GMailHeader()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
    <rpc debug="0" name="DBBattleChallenge" type="865" argument="DBBattleChallengeArg" result="DBBattleChallengeRes" maxsize="131072" prior="1" timeout="40"/>
	<protocol name="BattleStatus" type="866" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="BattleStatus_Re" type="867" maxsize="128" prior="1">
		<variable name="retcode" type="unsigned short"/>
		<variable name="cities" type="std::vector&lt;char&gt;" default="std::vector&lt;char&gt;()"/>
		<variable name="localsid" type="unsigned int" default="0"/>
	</protocol>
	<rpcdata name="DBBattleEndArg">
		<variable name="battle_id" type="int" default="0"/>
		<variable name="result" type="int" default="0"/>
		<variable name="color" type="int" default="0"/>
		<variable name="defender" type="unsigned int" default="0"/>
		<variable name="attacker" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="DBBattleEndRes">
		<variable name="retcode" type="short" default="0"/>
		<variable name="inform_winner"  type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
    <rpc debug="0" name="DBBattleEnd" type="868" argument="DBBattleEndArg" result="DBBattleEndRes" maxsize="4096" prior="1" timeout="60"/>
	<protocol name="SendBattleChallenge" type="869" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="id" type="short"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="deposit" type="unsigned int" default="0"/>
		<variable name="authentication" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="maxbonus" type="unsigned int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</protocol>
	<rpcdata name="DBBattleMailArg">
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="mail" type="GMail" default="GMail()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBBattleMailRes">
		<variable name="retcode" type="unsigned char" default="0"/>
		<variable name="roleid" type="unsigned int" default="0"/>
		<variable name="mailid" type="unsigned char" default="0"/>
	</rpcdata>
	<rpc name="DBBattleMail" type="871" maxsize="1024" prior="1" argument="DBBattleMailArg" result="DBBattleMailRes" timeout="30"/>
	<rpcdata name="DBBattleBonusArg">
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="cityid" type="short" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="item" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
		<variable name="isspecialbonus" type="short" default="0" />
	</rpcdata>
	<rpcdata name="DBBattleBonusRes">
		<variable name="retcode" type="short" default="0"/>
		<variable name="inform_master"  type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc name="DBBattleBonus" type="872" maxsize="1024" prior="1" argument="DBBattleBonusArg" result="DBBattleBonusRes" timeout="40"/>
	<protocol name="DebugCommand" type="873" maxsize="256" prior="1">
		<variable name="roleid" type="unsigned int"/>
		<variable name="tag" type="int"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	<protocol name="BattleFactionNotice" type="874" maxsize="512" prior="1">
		<variable name="factionids" type="std::vector&lt;int&gt;" attr="ref"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--    Protocols and Rpcs used in Player-Shop-System is 900 - 950      				            		-->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="PShopItem" attr="vector">
		<variable name="item" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
		<variable name="price" type="unsigned int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="PShopBase">
		<variable name="roleid" type="int" default="0"/>
		<variable name="shoptype" type="int" default="0"/><!-- 共8种:0-7-->
		<variable name="blist" type="PShopItemVector" default="PShopItemVector()" attr="ref"/>
		<variable name="slist" type="PShopItemVector" default="PShopItemVector()" attr="ref"/>
	</rpcdata>
	<rpcdata name="PShopDetail" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="shoptype" type="int" default="0"/><!-- 共8种:0-7-->
		<variable name="status" type="int" default="0"/><!-- 0:正常;1:过期 -->
		<variable name="createtime" type="int" default="0"/>
		<variable name="expiretime" type="int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="yinpiao" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
		<variable name="blist" type="PShopItemVector" default="PShopItemVector()" attr="ref"/>
		<variable name="slist" type="PShopItemVector" default="PShopItemVector()" attr="ref"/>
		<variable name="store" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
	</rpcdata>
	<!-- 创建店铺 -->
	<protocol name="PShopCreate" type="900" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="shoptype" type="int" default="0"/>
		<variable name="item_id" type="int" default="0"/>
		<variable name="item_pos" type="int" default="0"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="PShopCreate_Re" type="901" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
	</protocol>
	<!-- 店主收购 -->
	<protocol name="PShopBuy" type="902" maxsize="1024" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="item_id" type="int"/>
		<variable name="item_pos" type="int"/>
		<variable name="item_count" type="int"/>
		<variable name="item_price" type="unsigned int"/>
	</protocol>
	<protocol name="PShopBuy_Re" type="903" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="item_id" type="int"/>
		<variable name="item_pos" type="int"/>
		<variable name="item_count" type="int"/>
		<variable name="item_price" type="unsigned int"/>
		<variable name="itemsell" type="PShopItem" default="PShopItem()" attr="ref"/>
	</protocol>
	<!-- 店主出售 -->
	<protocol name="PShopSell" type="904" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="item_id" type="int"/>
		<variable name="item_pos" type="int"/><!--物品在出售栏的位置-->
		<variable name="item_count" type="int"/>
		<variable name="item_price" type="unsigned int"/>
		<variable name="inv_pos" type="int"/><!--物品在包裹中的位置-->
		<variable name="syncdata" type="Octets" attr="ref"/>
	</protocol>
	<protocol name="PShopSell_Re" type="905" maxsize="131072" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="item_id" type="int"/>
		<variable name="item_pos" type="int"/>
		<variable name="item_count" type="int"/>
		<variable name="item_price" type="unsigned int"/>
		<variable name="inv_pos" type="int"/>
		<variable name="itemsell" type="PShopItem" default="PShopItem()" attr="ref"/>
	</protocol>
	<!-- 取消出售收购 -->
	<protocol name="PShopCancelGoods" type="906" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="canceltype" type="int"/><!--0:取消出售;1:取消收购-->
		<variable name="pos" type="int" default="-1"/>
	</protocol>
	<protocol name="PShopCancelGoods_Re" type="907" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="canceltype" type="int"/>
		<variable name="pos" type="int" default="-1"/>
		<!--itemstore:取消出售有效,表示仓库物品更新-->
		<variable name="itemstore" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
	</protocol>
	<!-- 玩家从店铺买 -->
	<protocol name="PShopPlayerBuy" type="908" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/><!--玩家ROLEID-->
		<variable name="master" type="int"/><!--店主ROLEID-->
		<variable name="item_id" type="int"/>
		<variable name="item_pos" type="int"/>
		<variable name="item_count" type="int"/>
		<variable name="money_cost" type="int64_t"/><!--消耗金钱数-->
		<variable name="yp_cost" type="int"/>		<!--消耗银票数-->
		<variable name="syncdata" type="Octets" attr="ref"/>
	</protocol>
	<protocol name="PShopPlayerBuy_Re" type="909" maxsize="131072" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="master" type="int"/><!--店主ROLEID-->
		<variable name="item_id" type="int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="item_count" type="int" default="0"/>
		<variable name="itemchange" type="PShopItem" default="PShopItem()" attr="ref"/><!--出售栏物品更新-->
	</protocol>
	<!-- 玩家往店铺卖 -->
	<protocol name="PShopPlayerSell" type="910" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/><!--玩家ROLEID-->
		<variable name="master" type="int"/><!--店主ROLEID-->
		<variable name="item_id" type="int"/>
		<variable name="item_pos" type="int"/>
		<variable name="item_count" type="int"/>
		<variable name="item_price" type="unsigned int"/>
		<variable name="inv_pos" type="int"/><!--物品在包裹的位置-->
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="PShopPlayerSell_Re" type="911" maxsize="131072" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="master" type="int"/><!--店主ROLEID-->
		<variable name="item_id" type="int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="item_count" type="int" default="0"/>
		<variable name="itembuy" type="PShopItem" default="PShopItem()" attr="ref"/><!--收购栏物品更新-->
	</protocol>
	<protocol name="PShopSetType" type="912" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="newtype" type="int" default="-1"/>
	</protocol>
	<protocol name="PShopSetType_Re" type="913" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="newtype" type="int"/>
	</protocol>
	<protocol name="PShopActive" type="914" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="item_id" type="int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="PShopActive_Re" type="915" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="status" type="int" default="0"/>
		<variable name="expiretime" type="int" default="0"/>
	</protocol>
	<protocol name="PShopManageFund" type="916" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="optype" type="int"/><!--0:存钱;1:取钱-->
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="yinpiao" type="unsigned int" default="0"/>
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="PShopManageFund_Re" type="917" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="yinpiao" type="unsigned int" default="0"/>
	</protocol>
	<protocol name="PShopDrawItem" type="918" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="item_pos" type="int" default="0"/><!--物品在店铺仓库的位置-->
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="PShopDrawItem_Re" type="919" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="item_pos" type="int" default="0"/>
	</protocol>
	<protocol name="PShopClearGoods" type="920" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol name="PShopClearGoods_Re" type="921" maxsize="65535" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="slist" type="PShopItemVector" default="PShopItemVector()" attr="ref"/>
		<variable name="store" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
	</protocol>
	<protocol name="PShopSelfGet" type="922" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol name="PShopSelfGet_Re" type="923" maxsize="65535" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="detail" type="PShopDetail" default="PShopDetail()" attr="ref"/>
	</protocol>
	<protocol name="PShopPlayerGet" type="924" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="master" type="int"/><!--店主ROLEID-->
	</protocol>
	<protocol name="PShopPlayerGet_Re" type="925" maxsize="65535" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="base" type="PShopBase" default="PShopBase()" attr="ref"/>
	</protocol>
	<!--查询店铺:根据店铺类型-->
	<rpcdata name="PShopEntry" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="shoptype" type="int" default="0"/>
		<variable name="createtime" type="int" default="0"/>
		<variable name="invstate" type="int" default="0"/><!--栏位状态:0x01:出售栏非空;0x02:收购栏非空;0x03:二者均非空-->
	</rpcdata>
	<protocol name="PShopList" type="926" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="shoptype" type="int" default="0"/><!--注意这里的店铺类型为掩码格式-->
	</protocol>
	<protocol name="PShopList_Re" type="927" maxsize="65535" prior="1">
		<variable name="localsid" type="int"/>
		<variable name="shoplist" type="PShopEntryVector" default="PShopEntryVector()" attr="ref"/>
	</protocol>
	<!--查询物品:根据物品ID-->
	<rpcdata name="PShopItemEntry" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="item" type="PShopItem" default="PShopItem()" attr="ref"/>
	</rpcdata>
	<protocol name="PShopListItem" type="928" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="int"/>
		<variable name="itemid" type="int" default="0"/>
		<variable name="listtype" type="char" default="0"/><!--0:出售物品;1:收购物品-->
		<variable name="page_num" type="int" default="0"/><!--请求第几页-->
	</protocol>
	<protocol name="PShopListItem_Re" type="929" maxsize="65535" prior="1">
		<variable name="localsid" type="int"/>
		<variable name="itemlist" type="PShopItemEntryVector" default="PShopItemEntryVector()" attr="ref"/>
		<variable name="listtype" type="char" default="0"/>
		<variable name="page_num" type="int" default="0"/>
	</protocol>

	<!-- 寄卖系统在GDELIVERY和DB间通信的PRC协议 -->
	<rpcdata name="DBPShopCreateArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="shoptype" type="int" default="0"/>
		<variable name="item_id" type="int" default="0"/>
		<variable name="item_pos" type="int" default="0"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="createtime" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPShopCreateRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="shop" type="PShopDetail" default="PShopDetail()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBPShopCreate" type="930" maxsize="131072" prior="1" argument="DBPShopCreateArg" result="DBPShopCreateRes" timeout="30"/>

	<rpcdata name="DBPShopBuyArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="item_id" type="int" default="0"/>
		<variable name="item_pos" type="int" default="0"/>
		<variable name="item_count" type="int" default="0"/>
		<variable name="item_price" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="DBPShopBuyRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="itembuy" type="PShopItem" default="PShopItem()" attr="ref"/>
	</rpcdata>
	<rpc name="DBPShopBuy" type="931" maxsize="1024" prior="1" argument="DBPShopBuyArg" result="DBPShopBuyRes" timeout="30"/>

	<rpcdata name="DBPShopSellArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="item_id" type="int" default="0"/>
		<variable name="item_pos" type="int" default="0"/>
		<variable name="item_count" type="int" default="0"/>
		<variable name="item_price" type="unsigned int" default="0"/>
		<variable name="inv_pos" type="int" default="0"/><!--包裹位置-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPShopSellRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="itemsell" type="PShopItem" default="PShopItem()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBPShopSell" type="932" maxsize="131072" prior="1" argument="DBPShopSellArg" result="DBPShopSellRes" timeout="30"/>

	<rpcdata name="DBPShopCancelGoodsArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="canceltype" type="int" default="0"/>
		<variable name="item_pos" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBPShopCancelGoodsRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="itemstore" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
	</rpcdata>
	<rpc name="DBPShopCancelGoods" type="933" maxsize="1024" prior="1" argument="DBPShopCancelGoodsArg" result="DBPShopCancelGoodsRes" timeout="30"/>

	<rpcdata name="DBPShopPlayerBuyArg">
		<variable name="roleid" type="int" default="0"/><!--玩家ROLEID-->
		<variable name="master" type="int" default="0"/><!--店主ROLEID-->
		<variable name="item_id" type="int" default="0"/>
		<variable name="item_pos" type="int" default="0"/>
		<variable name="item_count" type="int" default="0"/>
		<variable name="money_cost" type="int64_t" default="0"/>
		<variable name="yp_cost" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPShopPlayerBuyRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="yinpiao" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
		<variable name="itemchange" type="PShopItem" default="PShopItem()" attr="ref"/><!--出售栏物品更新-->
	</rpcdata>
	<rpc name="DBPShopPlayerBuy" type="934" maxsize="131072" prior="1" argument="DBPShopPlayerBuyArg" result="DBPShopPlayerBuyRes" timeout="30"/>

	<rpcdata name="DBPShopPlayerSellArg">
		<variable name="roleid" type="int" default="0"/><!--玩家ROLEID-->
		<variable name="master" type="int" default="0"/><!--店主ROLEID-->
		<variable name="item_id" type="int" default="0"/>
		<variable name="item_pos" type="int" default="0"/>
		<variable name="item_count" type="int" default="0"/>
		<variable name="inv_pos" type="int" default="0"/><!--物品在包裹的位置-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPShopPlayerSellRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="yinpiao" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
		<variable name="itembuychange" type="PShopItem" default="PShopItem()" attr="ref"/>				<!--收购栏物品更新-->
		<variable name="itemstorechange" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>	<!--仓库物品更新-->
	</rpcdata>
	<rpc name="DBPShopPlayerSell" type="935" maxsize="131072" prior="1" argument="DBPShopPlayerSellArg" result="DBPShopPlayerSellRes" timeout="30"/>

	<rpcdata name="DBPShopSetTypeArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="newtype" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBPShopSetTypeRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBPShopSetType" type="936" maxsize="32" prior="1" argument="DBPShopSetTypeArg" result="DBPShopSetTypeRes" timeout="30"/>

	<rpcdata name="DBPShopActiveArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="item_id" type="int" default="0"/>
		<variable name="item_pos" type="int" default="0"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="timestamp" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPShopActiveRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="detail" type="PShopDetail" default="PShopDetail()"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBPShopActive" type="937" maxsize="131072" prior="1" argument="DBPShopActiveArg" result="DBPShopActiveRes" timeout="30"/>

	<rpcdata name="DBPShopManageFundArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="optype" type="int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="yinpiao" type="unsigned int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPShopManageFundRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="yinpiao" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBPShopManageFund" type="938" maxsize="131072" prior="1" argument="DBPShopManageFundArg" result="DBPShopManageFundRes" timeout="30"/>

	<rpcdata name="DBPShopDrawItemArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="item_pos" type="int" default="0"/><!--物品在店铺仓库的位置-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPShopDrawItemRes">
		<variable name="retcode" type="int"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBPShopDrawItem" type="939" maxsize="131072" prior="1" argument="DBPShopDrawItemArg" result="DBPShopDrawItemRes" timeout="30"/>

	<rpcdata name="DBPShopLoadArg">
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="DBPShopLoadRes">
		<variable name="retcode" type="short" default="0"/>
		<variable name="shops" type="PShopDetailVector" default="PShopDetailVector()" attr="ref"/>
        <variable name="handle" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpc name="DBPShopLoad" type="940" maxsize="262144" prior="1" argument="DBPShopLoadArg" result="DBPShopLoadRes" timeout="30"/>

	<rpcdata name="DBPShopGetArg">
        <variable name="roleid" type="int" default="0"/>
        <variable name="reason" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBPShopGetRes">
        <variable name="retcode" type="int" default="0"/>
        <variable name="shop" type="PShopDetail" default="0"/>
	</rpcdata>
	<rpc name="DBPShopGet" type="941" maxsize="65535" prior="1" argument="DBPShopGetArg" result="DBPShopGetRes" timeout="30"/>

	<rpcdata name="DBPShopClearGoodsArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBPShopClearGoodsRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="slist" type="PShopItemVector" default="PShopItemVector()" attr="ref"/>
		<variable name="store" type="GRoleInventoryVector" default="GRoleInventoryVector()" attr="ref"/>
	</rpcdata>
	<rpc name="DBPShopClearGoods" type="942" maxsize="65535" prior="1" argument="DBPShopClearGoodsArg" result="DBPShopClearGoodsRes" timeout="30"/>

	<rpcdata name="DBPShopTimeoutArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="delflag" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="DBPShopTimeoutRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="maillist" type="GMailHeaderVector" default="GMailHeaderVector()" attr="ref"/>
	</rpcdata>
	<rpc name="DBPShopTimeout" type="943" maxsize="65535" prior="1" argument="DBPShopTimeoutArg" result="DBPShopTimeoutRes" timeout="30"/>
	
	<!--  ****************************************************************************************************  -->
	<!--    Protocols and Rpcs used in PlayerProfile-System is 951 - 960      				            		-->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="PlayerProfileData">
		<variable name="game_time_mask" type="unsigned short" default="0"/>
		<variable name="game_interest_mask" type="unsigned short" default="0"/>
		<variable name="personal_interest_mask" type="unsigned short" default="0"/>
		<variable name="age" type="unsigned char" default="0"/>
		<variable name="zodiac" type="unsigned char" default="0"/>
		<variable name="match_option_mask" type="unsigned short" default="0"/>
	</rpcdata>
	<protocol name="PlayerProfileGetProfileData" type="951" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="PlayerProfileGetProfileData_Re" type="952" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="data" type="PlayerProfileData" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="PlayerProfileSetProfileData" type="953" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="data" type="PlayerProfileData" attr="ref"/>
	</protocol>
	<protocol name="PlayerProfileGetMatchResult" type="954" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="match_mode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="ProfileMatchResult">
		<variable name="roleid" type="int" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="occupation" type="int" default="0"/>
		<variable name="gender" type="unsigned char" default="0"/>
		<variable name="similarity" type="float" default="0.0"/>
	</rpcdata>
	<protocol name="PlayerProfileGetMatchResult_Re" type="955" maxsize="1024" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="result" type="std::vector&lt;ProfileMatchResult&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="DBGetPlayerProfileDataArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBGetPlayerProfileDataRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="gender" type="unsigned char"/>
		<variable name="data" type="PlayerProfileData" attr="ref"/>
	</rpcdata>
	<rpc name="DBGetPlayerProfileData" type="956" maxsize="256" prior="1" argument="DBGetPlayerProfileDataArg" result="DBGetPlayerProfileDataRes" timeout="30"/>
	<rpcdata name="DBPutPlayerProfileDataArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="data" type="PlayerProfileData" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPutPlayerProfileDataRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc name="DBPutPlayerProfileData" type="957" maxsize="256" prior="1" argument="DBPutPlayerProfileDataArg" result="DBPutPlayerProfileDataRes" timeout="30"/>

	<!--  ****************************************************************************************************  -->
	<!--      Protocols and Rpcs used in Auto Team System is 961 - 980					    					-->
	<!--  ****************************************************************************************************  -->
	<rpcdata name="AutoTeamConfigData">
		<variable name="goal_id" type="int" default="0"/>
		<variable name="need_player_cnt" type="unsigned char" default="0"/>
		<variable name="occupation_info" type="std::vector&lt; std::pair&lt;char,char&gt; &gt;" attr="ref"/>
	</rpcdata>
	<protocol name="AutoTeamConfigRegister" type="961" maxsize="1048576" prior="1">
		<variable name="config_data" type="std::vector&lt; AutoTeamConfigData &gt;" attr="ref"/>
	</protocol>
	<protocol name="AutoTeamSetGoal" type="962" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="goal_type" type="char" />
		<variable name="op" type="char" />
		<variable name="goal_id" type="int" />
	</protocol>
	<protocol name="AutoTeamSetGoal_Re" type="963" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="goal_type" type="char" />
		<variable name="op" type="char" />
		<variable name="goal_id" type="int" />
		<variable name="retcode" type="int" />
		<variable name="localsid" type="int" />
	</protocol>
	<protocol name="AutoTeamPlayerReady" type="964" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="leader_id" type="int" />
	</protocol>
	<protocol name="AutoTeamPlayerReady_Re" type="965" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="leader_id" type="int" />
		<variable name="retcode" type="char" />
	</protocol>
	<protocol name="AutoTeamComposeStart" type="966" maxsize="1024" prior="1">
		<variable name="goal_id" type="int" />
		<variable name="roleid" type="int" />
		<variable name="member_list" type="std::vector&lt; int &gt;" attr="ref"/>
	</protocol>
	<protocol name="AutoTeamComposeFailed" type="967" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="leader_id" type="int" />
	</protocol>
	<protocol name="AutoTeamPlayerLeave" type="968" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="reason" type="char" />
		<variable name="localsid" type="int" />
	</protocol>
	
	<!--  ****************************************************************************************************  -->
	<!--      Protocols and Rpcs used in Cross Server System is 1101 - 1150					    				-->
	<!--  ****************************************************************************************************  -->
	<!--GS 相关-->
	<protocol name="TryChangeDS" type="1101" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
		<variable name="cross_type" type="short" default="-1"/>
        <variable name="unifid" type="int64_t" default="0"/>
	</protocol>
	<protocol name="PlayerChangeDS" type="1102" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
	</protocol>
	<protocol name="PlayerChangeDS_Re" type="1103" maxsize="8192" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0"/>
		<variable name="remote_roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
		<variable name="random" type="Octets" attr="ref" default="Octets()"/>
		<variable name="dst_zoneid" type="int" default="0"/>
		<variable name="localsid" type="unsigned int" default="0"/>
		<variable name="roleinfo_pack" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<!--客户端 相关-->
	<protocol name="ChangeDS_Re" type="1104" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol name="KeyReestablish" type="1105" maxsize="128" prior="1">
		<variable name="roleid" type="int" />
		<variable name="userid" type="int" default="0"/>
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
		<variable name="src_zoneid" type="int" default="0"/>
		<variable name="random" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<!--DB 相关-->
	<rpcdata name="CrossPlayerData">
		<variable name="base" type="GRoleBase" attr="ref"/>
		<variable name="status" type="GRoleStatus" attr="ref"/>
		<variable name="inventory" type="GRolePocket" attr="ref"/>
		<variable name="equipment" type="GRoleEquipment" attr="ref"/>
		<variable name="storehouse" type="GRoleStorehouse" attr="ref"/>
		<variable name="task" type="GRoleTask" attr="ref"/>
	</rpcdata>
	<rpcdata name="FetchPlayerDataArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
	</rpcdata>
	<rpcdata name="FetchPlayerDataRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="data"  type="CrossPlayerData" attr="ref" default="CrossPlayerData()"/>
	</rpcdata>
	<rpc debug="0" name="FetchPlayerData" type="1106" maxsize="1048576" prior="1" timeout="30"/>
	<rpcdata name="ActivatePlayerDataArg">
		<variable name="roleid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="ActivatePlayerDataRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="ActivatePlayerData" type="1107" maxsize="32" prior="1" timeout="20"/>
	<rpcdata name="TouchPlayerDataArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="TouchPlayerDataRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="TouchPlayerData" type="1108" maxsize="32" prior="1" timeout="20"/>
	<rpcdata name="DelPlayerDataArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DelPlayerDataRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DelPlayerData" type="1124" maxsize="32" prior="1" timeout="20"/>
	<protocol name="LoadExchange" type="1109" maxsize="16384" prior="1">
		<variable name="zoneid" type="int" />
		<variable name="version" type="unsigned int" />
		<variable name="edition" type="Octets" />
		<variable name="server_limit" type="int" default="0"/>
		<variable name="server_count" type="int" default="0"/>
	</protocol>
	<protocol name="SendDataAndIdentity" type="1110" maxsize="1048576" prior="1">
		<variable name="roleid" type="int" />
		<variable name="remote_roleid" type="int" default="0" />
		<variable name="userid" type="int" default="0" />
		<variable name="src_zoneid" type="int" default="0" />
		<variable name="ip" type="int" default="0" />
		<variable name="iseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="oseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="account" type="Octets" attr="ref" default="Octets()"/>
		<variable name="random" type="Octets" attr="ref" default="Octets()"/>
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
		<variable name="data"  type="CrossPlayerData" attr="ref" default="CrossPlayerData()"/>
		<variable name="data_timestamp" type="int" default="0" />
		<variable name="logintime" type="int" default="0"/>
		<variable name="au_IsGM" type="char" default="0"/>
		<variable name="au_func" type="int" default="0"/>
		<variable name="au_funcparm" type="int" default="0"/>
		<variable name="auth" type="ByteVector" attr="ref" default="ByteVector()"/>
		<variable name="usbbind" type="char" default="0"/>
		<variable name="reward_mask" type="int" default="0"/>
		<variable name="forbid_talk" type="GRoleForbid" attr="ref" default="GRoleForbid()"/>
	</protocol>
	<protocol name="SendDataAndIdentity_Re" type="1115" maxsize="8192" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" default="0"/>
		<variable name="remote_roleid" type="int" default="0" />
		<variable name="userid" type="int" default="0" />
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
		<variable name="dst_zoneid" type="int" default="0" />
		<variable name="roleinfo_pack" type="Octets" attr="ref" default="Octets()"/>
		<variable name="is_remote_roleid_changed" type="char" default="0"/> <!--用来判断跨服roleid是否重新分配，仅限于flag==1:原服到跨服的逻辑使用-->
	</protocol>
	<rpcdata name="FreezePlayerDataArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="remote_roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="remote_zoneid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="FreezePlayerDataRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="cross_type" type="short" default="-1"/>
        <variable name="unifid" type="int64_t"/>
	</rpcdata>
	<rpc debug="0" name="FreezePlayerData" type="1112" maxsize="64" prior="1" timeout="30"/>
	<rpcdata name="PlayerIdentityMatchArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="ip" type="int" default="0"/>
		<variable name="src_zoneid" type="int" default="0"/>
		<variable name="random" type="Octets" attr="ref" default="Octets()"/>
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
		<variable name="localsid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="PlayerIdentityMatchRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="iseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="oseckey" type="Octets" attr="ref" default="Octets()"/>
		<variable name="account" type="Octets" attr="ref" default="Octets()"/>
		<variable name="user" type="User" attr="ref"/>
		<variable name="roleinfo" type="GRoleInfo" attr="ref"/>
		<variable name="zoneid" type="int" default="0"/>
		<variable name="district_id" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="PlayerIdentityMatch" type="1113" maxsize="16384" prior="1" timeout="30"/>
	<rpcdata name="SavePlayerDataArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="remote_roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="src_zoneid" type="int" default="0" />
		<variable name="data"  type="CrossPlayerData" attr="ref" default="CrossPlayerData()"/>
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
		<variable name="data_timestamp" type="int" default="0" />
	</rpcdata>
	<rpcdata name="SavePlayerDataRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="new_roleid" type="int" default="0"/>
		<variable name="roleinfo" type="GRoleInfo" attr="ref"/>
		<variable name="cross_type" type="short"/>
        <variable name="unifid" type="int64_t"/>
	</rpcdata>
	<rpc debug="0" name="SavePlayerData" type="1114" maxsize="1048576" prior="1" timeout="30"/>
	<protocol debug="0" name="DSAnnounceIdentity" maxsize="128" prior="1" type="1116">
		<variable name="zoneid" type="int"/>
		<variable name="version" type="unsigned int" />
		<variable name="edition" type="Octets"/>
	</protocol>
	<protocol name="RemoteLoginQuery" type="1117" maxsize="256" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" />
		<variable name="remote_roleid" type="int" />
		<variable name="userid" type="int"/>
		<variable name="flag" type="char"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
		<variable name="remote_zoneid" type="int"/>
	</protocol>
	<protocol name="RemoteLoginQuery_Re" type="1118" maxsize="64" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" />
		<variable name="remote_roleid" type="int" />
		<variable name="userid" type="int" default="0" />
		<variable name="flag" type="char" default="0"/> <!--0:正常登陆逻辑 1:原服到跨服 2:跨服到原服 3:直接登录跨服服务器-->
	</protocol>
	<rpcdata name="CrossInfoData">
		<variable name="remote_roleid" type="int" default="0"/>
		<variable name="data_timestamp" type="int" default="0"/>
		<variable name="cross_timestamp" type="int" default="0"/>
		<variable name="src_zoneid" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
	</rpcdata>
	<protocol name="RemoteLogout" type="1119" maxsize="32" prior="1">
		<variable name="userid" type="int"/>
	</protocol>
	<protocol name="KickoutRemoteUser" type="1120" maxsize="32" prior="1">
		<variable name="userid" type="int"/>
		<variable name="zoneid" type="int" default="0"/>
	</protocol>
	<protocol name="KickoutRemoteUser_Re" type="1121" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="userid" type="int" default="0"/>
	</protocol>
	<protocol name="GetRemoteRoleInfo" type="1122" maxsize="64" prior="1">
		<variable name="roleid" type="int" />
		<variable name="remote_roleid" type="int" />
		<variable name="userid" type="int" default="0"/>
		<variable name="zoneid" type="int" default="0"/>
	</protocol>
	<protocol name="GetRemoteRoleInfo_Re" type="1123" maxsize="16384" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" />
		<variable name="remote_roleid" type="int" />
		<variable name="userid" type="int" />
		<variable name="value" type="GRoleInfo"/>
	</protocol>
	<rpcdata name="DBUpdatePlayerCrossInfoArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="remote_roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="remote_zoneid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBUpdatePlayerCrossInfoRes">
		<variable name="retcode" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBUpdatePlayerCrossInfo" type="1125" maxsize="32" prior="1" timeout="30"/>
	<protocol debug="0" name="KickoutUser2" maxsize="32" prior="101" type="1126">
		<variable name="userid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="cause" type="int" default="ERR_KICKOUT"/>
	</protocol>
	<protocol debug="0" name="AnnounceLinkVersion" maxsize="512" prior="101" type="1130">
		<variable name="version" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="AnnounceCentralDelivery" maxsize="512" prior="101" type="1131">
		<variable name="is_central" type="char"/>
	</protocol>
	<protocol debug="0" name="AnnounceZoneGroup" maxsize="4096" prior="1" type="1132">
		<variable name="accepted_zone_list" type="std::map&lt;int,int&gt;" attr="ref"/>
		<variable name="is_central" type="char" default="0"/>
		<variable name="group" type="int" default="0"/>
	</protocol>

	<rpcdata name="StockOrder">
                <variable name="tid" type="unsigned int" default="0"/>
                <variable name="time" type="int" default="0"/>
                <variable name="userid" type="int" default="0"/>
                <variable name="price" type="int" default="0"/>
                <variable name="volume" type="int" default="0"/>
                <variable name="status" type="char" default="0"/>
        </rpcdata>
        <rpcdata name="StockPrice">
                <variable name="price" type="int" default="0"/>
                <variable name="volume" type="int" default="0"/>
        </rpcdata>
        <protocol name="StockCommission" type="401" maxsize="64" prior="1">
                <variable name="roleid" type="int"/>
                <variable name="isbuy" type="char" default="0"/>
                <variable name="price" type="int" default="0"/>
                <variable name="volume" type="int" default="0"/>
                <variable name="localsid" type="unsigned int" default="0"/>
        </protocol>
        <protocol name="StockTransaction" type="402" maxsize="131072" prior="1">
                <variable name="roleid" type="int"/>
                <variable name="withdraw" type="char" default="0"/>
                <variable name="cash" type="int" default="0"/>
                <variable name="money" type="int" default="0"/>
                <variable name="localsid" type="unsigned int" default="0"/>
                <variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
        </protocol>
        <protocol name="StockBill" type="405" maxsize="64" prior="1">
                <variable name="roleid" type="int"/>
                <variable name="localsid" type="unsigned int" default="0"/>
        </protocol>
        <protocol name="StockBill_Re" type="406" maxsize="4096" prior="1">
                <variable name="localsid" type="unsigned int"/>
                <variable name="orders" type="std::vector&lt;StockOrder&gt;" attr="ref"/>
                <variable name="logs" type="std::vector&lt;StockLog&gt;" attr="ref"/>
        </protocol>
        <protocol name="StockAccount" type="407" maxsize="64" prior="1">
                <variable name="roleid" type="int"/>
                <variable name="localsid" type="unsigned int" default="0"/>
        </protocol>

	<protocol name="StockAccount_Re" type="408" maxsize="4096" prior="1">
                <variable name="cash" type="int"/>
                <variable name="money" type="int"/>
                <variable name="prices" type="std::vector&lt;StockPrice&gt;" attr="ref"/>
                <variable name="locked" type="char" default="0"/>
                <variable name="localsid" type="unsigned int" default="0"/>
        </protocol>
        <protocol name="StockCommission_Re" type="409" maxsize="4096" prior="1">
                <variable name="retcode" type="int"/>
                <variable name="cash" type="int"/>
                <variable name="money" type="int"/>
                <variable name="prices" type="std::vector&lt;StockPrice&gt;" attr="ref"/>
                <variable name="localsid" type="unsigned int" default="0"/>
        </protocol>
        <protocol name="StockTransaction_Re" type="410" maxsize="64" prior="1">
                <variable name="retcode" type="int"/>
                <variable name="cash" type="int" default="0"/>
                <variable name="money" type="int" default="0"/>
                <variable name="localsid" type="unsigned int" default="0"/>
        </protocol>
        <protocol name="StockCancel" type="411" maxsize="64" prior="1">
                <variable name="roleid" type="int"/>
                <variable name="tid" type="unsigned int"/>
                <variable name="price" type="int" default="0"/>
                <variable name="localsid" type="unsigned int" default="0"/>
        </protocol>
        <protocol name="StockCancel_Re" type="412" maxsize="64" prior="1">
                <variable name="retcode" type="int"/>
                <variable name="tid" type="unsigned int"/>
                <variable name="localsid" type="unsigned int" default="0"/>
        </protocol>
        <rpcdata name="DBStockBalanceArg">
                <variable name="tid" type="unsigned int" default="0"/>
                <variable name="userid" type="int" default="0"/>
                <variable name="ack_volume" type="int" default="0"/>
                <variable name="ack_money" type="int" default="0"/>
        </rpcdata>
        <rpcdata name="DBStockBalanceRes">
                <variable name="retcode" type="int"/>
                <variable name="volume_left" type="int" default="0"/>
                <variable name="cash" type="int" default="0"/>
                <variable name="money" type="int" default="0"/>
        </rpcdata>
        <rpcdata name="DBStockCommissionArg">
                <variable name="order" type="StockOrder" default="StockOrder()" attr="ref"/>
        </rpcdata>
        <rpcdata name="DBStockCommissionRes">
                <variable name="retcode" type="int"/>
        </rpcdata>
	
	<rpcdata name="DBStockCancelArg">
                <variable name="userid" type="int" default="0"/>
                <variable name="tid" type="unsigned int" default="0"/>
                <variable name="volume" type="int" default="0"/>
                <variable name="result" type="short" default="0"/>
        </rpcdata>
        <rpcdata name="DBStockCancelRes">
                <variable name="retcode" type="int"/>
                <variable name="cash" type="int" default="0"/>
                <variable name="money" type="int" default="0"/>
        </rpcdata>
        <rpcdata name="DBStockTransactionArg">
                <variable name="userid" type="int" default="0"/>
                <variable name="roleid" type="int" default="0"/>
                <variable name="withdraw" type="char" default="0"/>
                <variable name="cash" type="int" default="0"/>
                <variable name="money" type="int" default="0"/>
                <variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
        </rpcdata>
        <rpcdata name="DBStockTransactionRes">
                <variable name="retcode" type="short" default="0"/>
                <variable name="cash" type="int" default="0"/>
                <variable name="money" type="int" default="0"/>
                <variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
        </rpcdata>
        <rpcdata name="DBStockLoadArg">
                <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
        </rpcdata>
        <rpcdata name="DBStockLoadRes">
                <variable name="retcode" type="short"/>
                <variable name="orders" type="std::vector&lt;StockOrder&gt;" attr="ref"/>
                <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
        </rpcdata>
        <rpc debug="0" name="DBStockBalance" type="413" argument="DBStockBalanceArg" result="DBStockBalanceRes" maxsize="512" prior="1" timeout="100"/>
        <rpc debug="0" name="DBStockTransaction" type="414" argument="DBStockTransactionArg" result="DBStockTransactionRes" maxsize="131072" prior="1" timeout="30"/>
        <rpc debug="0" name="DBStockLoad" type="415" argument="DBStockLoadArg" result="DBStockLoadRes" maxsize="131072" prior="1" timeout="60"/>
        <rpc debug="0" name="DBStockCommission" type="416" argument="DBStockCommissionArg" result="DBStockCommissionRes" maxsize="512" prior="1" timeout="60"/>
        <rpc debug="0" name="DBStockCancel" type="417" argument="DBStockCancelArg" result="DBStockCancelRes" maxsize="512" prior="1" timeout="60"/>

	<!-- ******************************************************  -->
	<!-- protocols used by gfaction server . typeid is 4500-4700 -->
	<!-- ******************************************************  -->
	<!-- protocol AnnounceProviderID -->
    <rpcdata name="GMember" attr="vector">
        <variable name="rid" type="unsigned int" default="0"/>
        <variable name="role" type="char" default="0"/>
    </rpcdata>
    <rpcdata name="GItem" attr="vector">
        <variable name="id" type="unsigned int" default="0"/>
        <variable name="count" type="unsigned int" default="0"/>
    </rpcdata>
    <rpcdata name="GFactionLog" attr="vector">
        <variable name="rid" type="unsigned int"/>
        <variable name="name" type="Octets" attr="ref"/>
        <variable name="action" type="char"/>
        <variable name="items" type="GItemVector"/>
    </rpcdata>
    <rpcdata name="GFactionStorehouse">
        <variable name="money" type="long long" default="0"/>
        <variable name="items" type="GRoleInventoryVector" />
        <variable name="log" type="GFactionLogVector"/>
    </rpcdata>
    <rpcdata name="GFactionExtendData">
		<variable name="unifid" type="int64_t" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
    </rpcdata>
    <rpcdata name="GFactionInfo">
        <variable name="fid" type="unsigned int" default="0"/>
        <variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
        <variable name="level" type = "char" default="0"/>
        <variable name="master" type="GMember"  default="0"/>
        <variable name="member" type="GMemberVector"/>
        <variable name="announce" type="Octets"/>
        <variable name="extenddata" type="Octets"/>
    </rpcdata>
	<rpcdata name="GFactionBaseInfo">
		<variable name="fid" type="unsigned int" default="0"/>
        <variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
        <variable name="level" type = "char" default="0"/>
		<variable name="mem_num" type="short" default="0"/>
	</rpcdata>
    <rpcdata name="GUniqueInfo">
        <variable name="unifid" type="int64_t" default="0"/>
        <variable name="reserved1" type="int" default="0"/>
        <variable name="reserved2" type="int" default="0"/>
        <variable name="reserved3" type="int" default="0"/>
        <variable name="reserved4" type="int" default="0"/>
    </rpcdata>
    <rpcdata name="GFactionExtend">
		<variable name="jointime"  type="int" default="0"/>
        <variable name="loyalty"   type="int" default="0"/>
		<variable name="logintime" type="int" default="0"/>
		<variable name="uniqueinfo" type="Octets" default="Octets()" attr="ref"/>
        <variable name="reserved1" type="char" default="0"/>
        <variable name="reserved2" type="short" default="0"/>
    </rpcdata>
    <rpcdata name="GUserFaction">
        <variable name="rid" type="unsigned int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
        <variable name="fid" type="unsigned int" default="0"/>
		<variable name="cls" type="char"  default="0"/>
        <variable name="role" type="char" default="0"/>
		<variable name="delayexpel" type="Octets" default="Octets(0)"/>
        <variable name="extend" type="Octets" attr="ref" default="Octets(0)"/>
        <variable name="nickname" type="Octets" attr="ref" default="Octets(0)"/>
    </rpcdata>
	<rpcdata name="GFactionAlliance" attr="vector">
		<variable name="fid" type="int" default="0"/>
		<variable name="end_time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionHostile" attr="vector">
		<variable name="fid" type="int" default="0"/>
		<variable name="end_time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionRelationApply" attr="vector">
		<variable name="type" type="int" default="0"/>	<!--type在localmacro.h定义-->
		<variable name="fid" type="int" default="0"/>
		<variable name="end_time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFactionRelation">
		<variable name="fid" type="int" default="0"/>
		<variable name="last_op_time" type="int" default="0"/>
		<variable name="alliance" type="GFactionAllianceVector" default="GFactionAllianceVector()" attr="ref"/>
		<variable name="hostile" type="GFactionHostileVector" default="GFactionHostileVector()" attr="ref"/>
		<variable name="apply" type="GFactionRelationApplyVector" default="GFactionRelationApplyVector()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
	</rpcdata>
    <rpcdata name="FactionId">
        <variable name="fid" type="unsigned int" default="0"/>
    </rpcdata>
    <rpcdata name="AddFactionArg">
        <variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
        <variable name="rid" type="unsigned int" default="0"/>
        <variable name="fid" type="unsigned int" default="0"/>
    </rpcdata>
    <rpcdata name="AddFactionRes">
        <variable name="retcode" type="int" default="-1"/>
    </rpcdata>
    <rpcdata name="AddMemberArg">
        <variable name="fid" type="unsigned int" default="0"/>
        <variable name="rid" type="unsigned int" default="0"/>
    </rpcdata>
    <rpcdata name="AddMemberRes">
        <variable name="retcode" type="int" default="-1"/>
        <variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
		<variable name="cls" type="char"  default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="reputation" type="int" default="0"/>
		<variable name="reincarn_times" type="unsigned char" default="0"/>
		<variable name="gender" type="unsigned char"  default="0"/>
    </rpcdata>
    <rpcdata name="DelMemberArg">
        <variable name="fid" type="unsigned int" default="0"/>
        <variable name="rid" type="unsigned int" default="0"/>
    </rpcdata>
    <rpcdata name="DelMemberScheduleArg">
        <variable name="fid" type="unsigned int" default="0"/>
        <variable name="rid" type="unsigned int" default="0"/>
	<variable name="operation" type="char" default="0"/>
	<variable name="time" type="int" default="-1"/>
    </rpcdata>
    <rpcdata name="UpdateUserFactionArg">
        <variable name="fid" type="unsigned int" default="0"/>
        <variable name="rid" type="unsigned int" default="0"/>
        <variable name="operation" type="char" default="0"/>
        <variable name="role" type="char" default="-1"/>
        <variable name="loyalty" type="short" default="-1"/>
        <variable name="nickname" type="Octets" attr="ref" default="Octets(0)"/>
    </rpcdata>
    <rpcdata name="UpdateFactionArg">
        <variable name="fid" type="unsigned int" default="0"/>
        <variable name="type" type="char" default="0"/>
        <variable name="level" type = "char" default="0"/>
        <variable name="announce" type="Octets" attr="ref" default="Octets(0)"/>
    </rpcdata>
    <rpcdata name="DefFactionRes">
        <variable name="retcode" type="int" default="-1"/>
    </rpcdata>
    <rpcdata name="DBFactionUpgradeArg">
        <variable name="fid" type="unsigned int" default="0"/>
        <variable name="roleid" type="int" default="0"/>
        <variable name="money" type="unsigned int" default="0"/>
        <variable name="level" type = "char" default="0"/>
    </rpcdata>
    <rpcdata name="DBFactionUpgradeRes">
		<variable name="retcode" type="int" default="-1"/>
        <variable name="master" type="int" default="0"/>
        <variable name="money" type="unsigned int" default="0"/>
        <variable name="level" type = "char" default="0"/>
    </rpcdata>
    <rpcdata name="DBFactionPromoteArg">
        <variable name="fid" type="unsigned int" default="0"/>
        <variable name="superior" type="unsigned int" default="0"/>
        <variable name="roleid" type="unsigned int" default="0"/>
        <variable name="suprole" type="char" default="0"/>
        <variable name="newrole" type="char" default="0"/>
        <variable name="max" type="int" default="0"/>
    </rpcdata>
    <rpcdata name="DBFactionPromoteRes">
		<variable name="retcode" type="int" default="-1"/>
        <variable name="suprole" type="char" default="0"/>
        <variable name="newrole" type="char" default="0"/>
    </rpcdata>
	<rpcdata name="FactionInfoRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GFactionInfo"/>
	</rpcdata>
	<rpcdata name="UserFactionArg">
		<variable name="reason" type="int" default="-1"/>
		<variable name="rid" type="unsigned int" default="0"/>
	</rpcdata>
	<rpcdata name="UserFactionRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GUserFaction"/>
		<variable name="level" type="int" default="0"/>
		<variable name="contrib" type="int" default="0"/>
		<variable name="reputation" type="int" default="0"/>
		<variable name="reincarn_times" type="unsigned char" default="0"/>
		<variable name="gender" type="unsigned char"  default="0"/>
	</rpcdata>
	<rpcdata name="GFactionDetail">
        <variable name="fid" type="unsigned int" default="0"/>
        <variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
        <variable name="level" type = "char" default="0"/>
        <variable name="master" type="unsigned int"  default="0"/>
        <variable name="announce" type="Octets"/>
        <variable name="sysinfo" type="Octets"/>
        <variable name="member" type="FMemberInfoVector"/>
		<variable name="last_op_time" type="int" default="0"/>
		<variable name="alliance" type="GFactionAllianceVector" default="GFactionAllianceVector()" attr="ref"/>
		<variable name="hostile" type="GFactionHostileVector" default="GFactionHostileVector()" attr="ref"/>
		<variable name="apply" type="GFactionRelationApplyVector" default="GFactionRelationApplyVector()" attr="ref"/>
        <variable name="unifid" type="int64_t" default="0"/>
	</rpcdata>
	<rpcdata name="FactionDetailRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="value" type="GFactionDetail"/>
	</rpcdata>
	<rpcdata name="DelFactionRes">
        <variable name="retcode" type="int" default="-1"/>
        <variable name="fname" type="Octets" default="Octets()" attr="ref"/>
    </rpcdata>
	<rpcdata name="DBVerifyMasterArg">
        <variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
        <variable name="faction" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="DBFactionAllianceApplyArg">
        <variable name="fid" type="int" default="0"/>
        <variable name="dst_fid" type="int" default="0"/>
        <variable name="end_time" type="int" default="0"/>
        <variable name="op_time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionAllianceReplyArg">
        <variable name="fid" type="int" default="0"/>
        <variable name="dst_fid" type="int" default="0"/>
        <variable name="agree" type="char" default="0"/>
        <variable name="end_time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionHostileApplyArg">
        <variable name="fid" type="int" default="0"/>
        <variable name="dst_fid" type="int" default="0"/>
        <variable name="end_time" type="int" default="0"/>
        <variable name="op_time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionHostileReplyArg">
        <variable name="fid" type="int" default="0"/>
        <variable name="dst_fid" type="int" default="0"/>
        <variable name="agree" type="char" default="0"/>
        <variable name="end_time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionRemoveRelationApplyArg">
        <variable name="fid" type="int" default="0"/>
        <variable name="dst_fid" type="int" default="0"/>
        <variable name="force" type="char" default="0"/>
        <variable name="end_time" type="int" default="0"/>
        <variable name="op_time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionRemoveRelationReplyArg">
        <variable name="fid" type="int" default="0"/>
        <variable name="dst_fid" type="int" default="0"/>
        <variable name="agree" type="char" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionRelationTimeoutArg">
        <variable name="type" type="int" default="0"/>
        <variable name="fid1" type="int" default="0"/>
        <variable name="fid2" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionRelationApplyTimeoutArg">
        <variable name="type" type="int" default="0"/>
        <variable name="fid1" type="int" default="0"/>
        <variable name="fid2" type="int" default="0"/>
        <variable name="end_time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBFactionRelationRetcode">
        <variable name="retcode" type="int" default="-1"/>
        <variable name="fname1" type="Octets" default="Octets()" attr="ref"/>
        <variable name="fname2" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>

    <rpc debug="0" name="AddFaction" type="4600" argument="AddFactionArg" result="AddFactionRes" maxsize="1024" prior="1" timeout="30"/>
    <rpc debug="0" name="DelFaction" type="4601" argument="FactionId" result="DelFactionRes" maxsize="64" prior="1" timeout="30"/>
    <rpc debug="0" name="AddMember" type="4602" argument="AddMemberArg" result="AddMemberRes" maxsize="64" prior="1" timeout="30"/>
    <rpc debug="0" name="DelMember" type="4603" argument="DelMemberArg" result="DefFactionRes" maxsize="64" prior="1" timeout="30"/>
    <rpc debug="0" name="UpdateUserFaction" type="4604" argument="UpdateUserFactionArg" result="UserFactionRes" maxsize="1024" prior="1" timeout="30"/>
    <rpc debug="0" name="UpdateFaction" type="4605" argument="UpdateFactionArg" result="DefFactionRes" maxsize="1024" prior="1" timeout="30"/>
    <rpc debug="0" name="GetFactionInfo" type="4606" argument="FactionId" result="FactionInfoRes" maxsize="4096" prior="1" timeout="30"/>
    <rpc debug="0" name="GetUserFaction" type="4607" argument="UserFactionArg" result="UserFactionRes" maxsize="128" prior="1" timeout="30"/>
    <rpc debug="0" name="GetFactionDetail" type="4608" argument="FactionId" result="FactionDetailRes" maxsize="32768" prior="1" timeout="30"/>
    <rpc debug="0" name="DBVerifyMaster" type="4609" argument="DBVerifyMasterArg" result="DefFactionRes" maxsize="128" prior="1" timeout="30"/>
    <rpc debug="0" name="DBFactionUpgrade" type="4610" argument="DBFactionUpgradeArg" result="DBFactionUpgradeRes" maxsize="128" prior="1" timeout="30"/>
    <rpc debug="0" name="DBFactionPromote" type="4611" argument="DBFactionPromoteArg" result="DBFactionPromoteRes" maxsize="128" prior="1" timeout="30"/>
    <rpc debug="0" name="DBFactionAllianceApply" type="4612" argument="DBFactionAllianceApplyArg" result="RpcRetcode" maxsize="64" prior="1" timeout="30"/>
    <rpc debug="0" name="DBFactionAllianceReply" type="4613" argument="DBFactionAllianceReplyArg" result="DBFactionRelationRetcode" maxsize="64" prior="1" timeout="30"/>
    <rpc debug="0" name="DBFactionHostileApply" type="4614" argument="DBFactionHostileApplyArg" result="RpcRetcode" maxsize="64" prior="1" timeout="30"/>
    <rpc debug="0" name="DBFactionHostileReply" type="4615" argument="DBFactionHostileReplyArg" result="DBFactionRelationRetcode" maxsize="64" prior="1" timeout="30"/>
    <rpc debug="0" name="DBFactionRemoveRelationApply" type="4616" argument="DBFactionRemoveRelationApplyArg" result="DBFactionRelationRetcode" maxsize="64" prior="1" timeout="30"/>
    <rpc debug="0" name="DBFactionRemoveRelationReply" type="4617" argument="DBFactionRemoveRelationReplyArg" result="DBFactionRelationRetcode" maxsize="64" prior="1" timeout="30"/>
    <rpc debug="0" name="DBFactionRelationTimeout" type="4618" argument="DBFactionRelationTimeoutArg" result="DBFactionRelationRetcode" maxsize="64" prior="1" timeout="30"/>
    <rpc debug="0" name="DBFactionRelationApplyTimeout" type="4619" argument="DBFactionRelationApplyTimeoutArg" result="DBFactionRelationRetcode" maxsize="64" prior="1" timeout="30"/>
    <rpc debug="0" name="DelMemberSchedule" type="4620" argument="DelMemberScheduleArg" result="DefFactionRes" maxsize="64" prior="1" timeout="30"/>

	<protocol debug="0" name="FactionCreate" type="4501" maxsize="512" prior="1">
		<variable name="faction_name" type="Octets" attr="ref"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="faction_proclaim" type="Octets" attr="default" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="FactionCreate_Re" type="4502" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="faction_name" type="Octets" attr="ref"/>
		<variable name="faction_id" type="unsigned int" />
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="FMemberInfo"	attr="vector">
		<variable name="roleid" type="unsigned int" default="0"/>
		<variable name="level"  type="unsigned char" default="0"/>
		<variable name="occupation" type="unsigned char" default="0"/> 
		<variable name="froleid" type="unsigned char" default="0"/>
		<variable name="loginday" type="unsigned short" default="0"/>
		<variable name="online_status" type="unsigned char" default="0"/>
		<variable name="name" type="Octets" default="Octets()"/>
		<variable name="nickname" type="Octets" default="Octets()"/>
		<variable name="contrib" type="int" default="0"/>
		<variable name="delayexpel" type="unsigned char" default="0"/>
		<variable name="expeltime" type="int" default="-1"/>
		<variable name="reputation" type="int" default="0"/>
		<variable name="reincarn_times" type="unsigned char" default="0"/>
		<variable name="gender" type="unsigned char"  default="0"/>
	</rpcdata>
	<protocol debug="0" name="FactionListMember_Re" type="4503" maxsize="16384" prior="1">
		<variable name="handle" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="proclaim" type="Octets" attr="ref"/>
		<variable name="member_list" type="FMemberInfoVector"/>
		<variable name="online_list" type="IntVector" default="IntVector()"/>
	</protocol>
	<protocol debug="0" name="FactionApplyJoin_Re" type="4504" maxsize="128" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" />
		<variable name="localsid" type="unsigned int"/>
		<variable name="factionid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionAcceptJoin_Re" type="4505" maxsize="128" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" />
		<variable name="localsid" type="unsigned int"/>
		<variable name="newmember" type="int"/>
		<variable name="operater" type="int"/> <!-- the role who do this operation -->
		<variable name="factionid" type="unsigned int"/>
		<variable name="level" type="int"/>
		<variable name="cls" type="char" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="reputation" type="int" default="0"/>
		<variable name="reincarn_times" type="unsigned char" default="0"/>
		<variable name="gender" type="unsigned char"  default="0"/>
	</protocol>
	<protocol debug="0" name="FactionExpel_Re" type="4506" maxsize="128" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" />
		<variable name="localsid" type="unsigned int"/>
		<variable name="expelroleid" type="unsigned int"/>
		<variable name="operater" type="int"/> <!-- the role who do this operation -->
	</protocol>
	<protocol debug="0" name="FactionBroadcastNotice_Re" type="4507" maxsize="128" prior="1">
		<variable name="srcroleid" type="int"/>
		<variable name="dstroleid" type="int"/>
		<variable name="dstlocalsid" type="unsigned int"/>
		<variable name="msg" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="FactionChangProclaim_Re" type="4508" maxsize="256" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="operater" type="int"/> <!-- the role who do this operation -->
		<variable name="proclaim" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="FactionMasterResign_Re" type="4509" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="newmaster" type="int"/>
	</protocol>
	<protocol debug="0" name="FactionAppoint_Re" type="4510" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/> <!-- receiver's roleid -->
		<variable name="localsid" type="unsigned int"/> <!-- reciever's localsid -->
		<variable name="dstroleid" type="int"/> <!-- roleid of the member who is promoted or demoted -->
		<variable name="newoccup" type="char"/> <!-- new occupation of the member -->
		<variable name="operater" type="int"/> <!-- the role who do this operation -->
	</protocol>
	<protocol debug="0" name="FactionResign_Re" type="4511" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/> 
		<variable name="localsid" type="unsigned int" />
		<variable name="resigned_role" type="int"/>
		<variable name="old_occup" type="char"/>
	</protocol>
	<protocol debug="0" name="FactionLeave_Re" type="4512" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="leaved_role" type="int"/>
		<variable name="old_occup" type="char"/>
	</protocol>	
	<protocol debug="0" name="FactionUpgrade_Re" type="4513" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>	
	<protocol debug="0" name="FactionDegrade_Re" type="4514" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="reason" type="int"/>
	</protocol>	
	<protocol debug="0" name="FactionDismiss_Re" type="4515" maxsize="128" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionRename_Re" type="4516" maxsize="512" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="renamed_roleid" type="int"/>
		<variable name="new_name" type="Octets" attr="ref"/>
		<variable name="operater" type="int"/> <!-- the role who do this operation -->
	</protocol>	
	<protocol debug="0" name="FactionAllianceApply_Re" type="4517" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="dst_fid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionAllianceReply_Re" type="4518" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="dst_fid" type="int"/>
		<variable name="agree" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionHostileApply_Re" type="4519" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="dst_fid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionHostileReply_Re" type="4520" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="dst_fid" type="int"/>
		<variable name="agree" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionRemoveRelationApply_Re" type="4521" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="dst_fid" type="int"/>
		<variable name="force" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionRemoveRelationReply_Re" type="4522" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="dst_fid" type="int"/>
		<variable name="agree" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionListRelation_Re" type="4523" maxsize="1024" prior="1">
		<variable name="last_op_time" type="int"/>
		<variable name="alliance" type="GFactionAllianceVector" attr="ref"/>
		<variable name="hostile" type="GFactionHostileVector" attr="ref"/>
		<variable name="apply" type="GFactionRelationApplyVector" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionRelationRecvApply" type="4524" maxsize="64" prior="1">
		<variable name="apply_type" type="int"/>
		<variable name="src_fid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionRelationRecvReply" type="4525" maxsize="64" prior="1">
		<variable name="pre_apply_type" type="int"/>
		<variable name="agree" type="char"/>
		<variable name="src_fid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionDelayExpelAnnounce" type="4526" maxsize="64" prior="1">
	    	<variable name="retcode" type="int"/>
		<variable name="opt_type" type="char"/>
		<variable name="operater" type="int"/> <!-- the role who do this operation -->
		<variable name="expelroleid" type="int"/>
		<variable name="time" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionRenameGsVerify" type="4527" maxsize="256" prior="1"> 
		<variable name="step" type="int" default="-1"/>
		<variable name="rid" type="int" default="-1"/>
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="retcode" type="int" default="-1"/>
		<variable name="newname" type="Octets"  default="Octets()" attr="ref"/>
		<variable name="oldname" type="Octets"  default="Octets()" attr="ref"/>
	</protocol> 
	<protocol debug="0" name="FactionRenameGsVerify_Re" type="4528" maxsize="131072" prior="1"> 
		<variable name="rid" type="int" default="-1"/>
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="retcode" type="int" default="-1"/>
		<variable name="newname" type="Octets"  default="Octets()" attr="ref"/>
		<variable name="item_id" type="int" default="-1"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<!-- below parameter is provide by gameserver-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</protocol> 	
	<rpcdata name="PreFactionRenameArg">
		<variable name="zid" type="int" default="-1"/>
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="newname" type="Octets"  default="Octets()" attr="ref"/>
	</rpcdata>
	<rpcdata name="PreFactionRenameRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="PreFactionRename" type="4529" argument="PreFactionRenameArg" result="PreFactionRenameRes" maxsize="128" prior="1" timeout="20"/>

	<rpcdata name="DBFactionRenameArg">
		<variable name="rid" type="int" default="-1"/>
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="item_id" type="int" default="-1"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="newname" type="Octets"  default="Octets()" attr="ref"/>
		<!-- below parameter is provide by gameserver-->
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBFactionRenameRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="oldname" type="Octets" default="Octets()" attr="ref"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBFactionRename" type="4530" argument="DBFactionRenameArg" result="DBFactionRenameRes" maxsize="131072" prior="1" timeout="20"/>

	<protocol name="PostFactionRename" type="4531" maxsize="128" prior="1">
		<variable name="zid" type="int" default="-1"/>
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="retcode" type="int" default="-1"/>
		<variable name="newname" type="Octets" default="Octets()" attr="ref"/>
		<variable name="oldname" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol debug="0" name="FactionRenameAnnounce" type="4532" maxsize="128" prior="1">
	   	<variable name="retcode" type="int"/>
		<variable name="operater" type="int"/> <!-- the role who do this operation -->
		<variable name="newname" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<!-- ***************************************************************************** -->
	<!--    Protocols and Rpcs used in Player Force System is 4701 - 4750 			   				            -->
	<!-- ***************************************************************************** -->
	<rpcdata name="GForceGlobalDataList">
		<variable name="list" type="std::vector&lt;GForceGlobalData&gt;" default="std::vector&lt;GForceGlobalData&gt;()" attr="ref"/>
		<variable name="update_time" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0" />
		<variable name="reserved2" type="int" default="0" />
		<variable name="reserved3" type="int" default="0" />
		<variable name="reserved4" type="int" default="0" />
		<variable name="reserved5" type="int" default="0" />
		<variable name="reserved6" type="int" default="0" />
		<variable name="reserved7" type="int" default="0" />
		<variable name="reserved8" type="int" default="0" />
	</rpcdata>
	<rpcdata name="GForceGlobalData">
		<variable name="force_id" type="int" default="0"/>
		<variable name="player_count" type="int" default="0"/>
		<variable name="development" type="int" default="0"/>
		<variable name="construction" type="int" default="0"/>
		<variable name="activity" type="int" default="0"/>
		<variable name="activity_level" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0" />
		<variable name="reserved2" type="int" default="0" />
		<variable name="reserved3" type="int" default="0" />
		<variable name="reserved4" type="int" default="0" />
		<variable name="reserved5" type="int" default="0" />
		<variable name="reserved6" type="int" default="0" />
		<variable name="reserved7" type="int" default="0" />
		<variable name="reserved8" type="int" default="0" />
	</rpcdata>
	<rpcdata name="GForceGlobalDataBrief">
		<variable name="force_id" type="int" default="0"/>
		<variable name="player_count" type="int" default="0"/>
		<variable name="development" type="int" default="0"/>
		<variable name="construction" type="int" default="0"/>
		<variable name="activity" type="int" default="0"/>
		<variable name="activity_level" type="int" default="0"/>
	</rpcdata>

	<rpcdata name="DBForceLoadArg">
		<variable name="nouse" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBForceLoadRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="list" type="GForceGlobalDataList" default="GForceGlobalDataList()" attr="ref"/>
	</rpcdata>
    <rpc debug="0" name="DBForceLoad" type="4701" argument="DBForceLoadArg" result="DBForceLoadRes" maxsize="8192" prior="1" timeout="30"/>

	<rpcdata name="DBPutForceArg">
		<variable name="list" type="GForceGlobalDataList" default="GForceGlobalDataList()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBPutForceRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
    <rpc debug="0" name="DBPutForce" type="4702" argument="DBPutForceArg" result="DBPutForceRes" maxsize="8192" prior="1" timeout="30"/>

	<protocol debug="0" name="SyncForceGlobalData" type="4703" maxsize="8192" prior="1">
		<variable name="list" type="std::vector&lt;GForceGlobalDataBrief&gt;" attr="ref"/>
	</protocol>

	<protocol debug="0" name="NotifyPlayerJoinOrLeaveForce" type="4704" maxsize="16" prior="1">
		<variable name="force_id" type="int"/>
		<variable name="is_join" type="char"/>
	</protocol>
	
	<protocol debug="0" name="IncreaseForceActivity" type="4705" maxsize="16" prior="1">
		<variable name="force_id" type="int"/>
		<variable name="activity" type="int"/>
	</protocol>
	
	<!-- ***************************************************************************** -->
	<!--    Protocols and Rpcs used in Country Battle System is 4751 - 4800 		   -->
	<!-- ***************************************************************************** -->

	<rpcdata name="CountryBattleApplyEntry">
		<variable name="roleid" type="int" default="0"/>
		<variable name="major_strength" type="int" default="0"/>
		<variable name="minor_strength" type="int" default="0"/>
	</rpcdata>
	<protocol name="CountryBattleApply" type="4751" maxsize="512" prior="1">
		<variable name="list" type="std::vector&lt;CountryBattleApplyEntry&gt;" attr="ref"/>
	</protocol>
	<protocol name="CountryBattleApply_Re" type="4752" maxsize="512" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="country_id" type="int"/>
		<variable name="country_invalid_timestamp" type="int"/>
		<variable name="capital_worldtag" type="int"/>
		<variable name="capital_posx" type="float"/>
		<variable name="capital_posy" type="float"/>
		<variable name="capital_posz" type="float"/>
		<variable name="list" type="std::vector&lt;CountryBattleApplyEntry&gt;" attr="ref"/>
	</protocol>
	<protocol name="CountryBattleJoinNotice" type="4753" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="country_id" type="int"/>
		<variable name="worldtag" type="int"/>
		<variable name="major_strength" type="int"/>
		<variable name="minor_strength" type="int"/>
		<variable name="is_king" type="char"/>
	</protocol>
	<protocol name="CountryBattleLeaveNotice" type="4754" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="country_id" type="int"/>
		<variable name="major_strength" type="int"/>
		<variable name="minor_strength" type="int"/>
	</protocol>
	<protocol name="CountryBattleOnlineNotice" type="4755" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="country_id" type="int"/>
		<variable name="worldtag" type="int"/>
		<variable name="minor_strength" type="int"/>
		<variable name="is_king" type="char"/>
	</protocol>
	<protocol name="CountryBattleOfflineNotice" type="4756" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="country_id" type="int"/>
	</protocol>
	<protocol name="CountryBattleEnterMapNotice" type="4757" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="worldtag" type="int"/>
	</protocol>
	<protocol name="CountryBattleServerRegister" type="4758" maxsize="64" prior="1">
		<variable name="server_type" type="int"/>	<!--0 首都场景 1 国战战场-->
		<variable name="war_type" type="int"/>
		<variable name="server_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>
	<rpcdata name="GCountryCapital" attr="vector">
		<variable name="country_id" type="int" default="0"/>
		<variable name="worldtag" type="int" default="0"/>
		<variable name="posx" type="float" default="0.0"/>
		<variable name="posy" type="float" default="0.0"/>
		<variable name="posz" type="float" default="0.0"/>
	</rpcdata>
	<protocol name="CountryBattleConfigNotify" type="4759" maxsize="1024" prior="1">
		<variable name="country_capitals" type="GCountryCapitalVector" attr="ref"/>
	</protocol>
	<protocol name="CountryBattleMove" type="4760" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="dest" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleMove_Re" type="4761" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="dest" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleSyncPlayerLocation" type="4762" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="domain_id" type="int"/>
		<variable name="reason" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleStart" type="4763" maxsize="64" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="defender" type="unsigned int"/>
		<variable name="attacker" type="unsigned int"/>
		<variable name="player_limit" type="unsigned int"/>
		<variable name="end_time" type="int"/>
		<variable name="defender_player_cnt" type="unsigned int"/>
		<variable name="attacker_player_cnt" type="unsigned int"/>
		<variable name="country_max_player_cnt" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleStart_Re" type="4764" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="battle_id" type="int"/>
		<variable name="world_tag" type="int"/>
		<variable name="defender" type="unsigned int"/>
		<variable name="attacker" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleEnter" type="4765" maxsize="512" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="world_tag" type="int"/>
		<variable name="roleid" type="int"/>
	</protocol>
	<rpcdata name="GCountryBattlePersonalScore">
		<variable name="roleid" type="int" default="0"/>
		<variable name="cls" type="int" default="0"/>
		<variable name="minor_str" type="int" default="0"/>
		<variable name="combat_time" type="int" default="0"/>
		<variable name="attend_time" type="int" default="0"/>
		<variable name="kill_count" type="int" default="0"/>
		<variable name="death_count" type="int" default="0"/>
		<variable name="contribute_val" type="int" default="0"/>
		<variable name="damage" type="int" default="0"/>
		<variable name="hurt" type="int" default="0"/>
		<variable name="damage_minor_str" type="int" default="0"/>
		<variable name="kill_minor_str" type="int" default="0"/>
	</rpcdata>
	<protocol name="CountryBattleEnd" type="4766" maxsize="16384" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="battle_result" type="int"/>
		<variable name="attacker" type="int"/>
		<variable name="defender" type="int"/>
		<variable name="attacker_score" type="std::vector&lt;GCountryBattlePersonalScore&gt;" attr="ref"/>
		<variable name="defender_score" type="std::vector&lt;GCountryBattlePersonalScore&gt;" attr="ref"/>
	</protocol>
	<protocol name="CountryBattleGetMap" type="4767" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="GCountryBattleDomain">
		<variable name="id" type="int" default="0"/>
		<variable name="owner" type="char" default="0"/>
		<variable name="challenger" type="char" default="0"/>
		<variable name="status" type="char" default="0"/>
		<variable name="battle_config_mask" type="char" default="0"/>
		<variable name="time" type="int" default="0"/>
		<variable name="country_playercnt" type="std::vector&lt;int&gt;" default="std::vector&lt;int&gt;()" attr="ref"/>
	</rpcdata>
	<protocol name="CountryBattleGetMap_Re" type="4768" maxsize="32768" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="domains" type="std::vector&lt;GCountryBattleDomain&gt;" attr="ref"/> <!--一个GCountryBattleDomain的大小为29，设置maxsize为32768可以支持1000块地图-->
		<variable name="kings" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleSyncPlayerPos" type="4769" maxsize="128" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="worldtag" type="int"/>
		<variable name="posx" type="float" />
		<variable name="posy" type="float" />
		<variable name="posz" type="float" />
		<variable name="is_capital" type="char" />
	</protocol>
	<protocol name="CountryBattleGetPlayerLocation" type="4770" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="DBCountryBattleBonusArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="item" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBCountryBattleBonusRes">
		<variable name="retcode" type="short" default="0"/>
		<variable name="inform_player"  type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc name="DBCountryBattleBonus" type="4771" maxsize="1024" prior="1" argument="DBCountryBattleBonusArg" result="DBCountryBattleBonusRes" timeout="40"/>
	<protocol name="CountryBattleGetConfig" type="4772" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleGetConfig_Re" type="4773" maxsize="64" prior="1">
		<variable name="start_timestamp" type="int"/>
		<variable name="end_timetamp" type="int"/>
		<variable name="bonus" type="int"/>
		<variable name="is_battle_open" type="char"/>
		<variable name="domain2_datatype" type="char"/>
		<variable name="domain2_datat_timestamp" type="unsigned int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleGetScore" type="4774" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleGetScore_Re" type="4775" maxsize="64" prior="1">
		<variable name="player_score" type="int"/>
		<variable name="country_score" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattlePreEnterNotify" type="4776" maxsize="512" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="timeout" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattlePreEnter" type="4777" maxsize="512" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol name="CountryBattleResult" type="4778" maxsize="512" prior="1">
		<variable name="player_bonus" type="int"/>
		<variable name="country_bonus" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="country_domains_cnt" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleReturnCapital" type="4779" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol name="CountryBattleSingleBattleResult" type="4780" maxsize="512" prior="1">
		<variable name="domain_id" type="int"/>
		<variable name="single_battle_total_score" type="int"/>
		<variable name="player_single_battle_score" type="int"/>
		<variable name="player_rank" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="GCountryBattleLimit">
		<variable name="occupation_cnt_ceil" type="unsigned char" default="0"/>
		<variable name="minor_str_floor" type="int" default="0"/>
	</rpcdata>
	<protocol name="CountryBattleKingAssignAssault" type="4781" maxsize="64" prior="1">
		<variable name="king_roleid" type="int"/>
		<variable name="domain_id" type="int"/>
		<variable name="assault_type" type="char"/>
	</protocol>
	<protocol name="CountryBattleKingAssignAssault_Re" type="4782" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="domain_id" type="int"/>
		<variable name="assault_type" type="char"/>
		<variable name="command_point" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleKingResetBattleLimit" type="4783" maxsize="512" prior="1">
		<variable name="king_roleid" type="int"/>
		<variable name="domain_id" type="int"/>
		<variable name="op" type="char"/>
		<variable name="limit" type="std::vector&lt;GCountryBattleLimit&gt;" attr="ref"/>
	</protocol>
	<protocol name="CountryBattleGetBattleLimit" type="4784" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="domain_id" type="int"/>
	</protocol>
	<protocol name="CountryBattleGetBattleLimit_Re" type="4785" maxsize="512" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="domain_id" type="int"/>
		<variable name="limit" type="std::vector&lt;GCountryBattleLimit&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleGetKingCommandPoint" type="4786" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol name="CountryBattleGetKingCommandPoint_Re" type="4787" maxsize="64" prior="1">
		<variable name="command_point" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="GetCNetServerConfig" type="4788" maxsize="512" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="keys" type="IntVector" attr="ref"/>
	</protocol>
	<protocol name="GetCNetServerConfig_Re" type="4789" maxsize="4096" prior="1">
		<variable name="result" type="IntOctetsVector" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="GetRemoteCNetServerConfig" type="4790" maxsize="512" prior="1">
		<variable name="keys" type="IntVector" attr="ref"/>
		<variable name="linksid" type="unsigned int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="zoneid" type="int"/>
	</protocol>
	<protocol name="GetRemoteCNetServerConfig_Re" type="4791" maxsize="8192" prior="1">
		<variable name="result" type="IntOctetsVector" attr="ref"/>
		<variable name="linksid" type="unsigned int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="CountryBattleDestroyInstance" type="4792" maxsize="64" prior="1">
		<variable name="domain_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>
	<protocol name="CrossGuardNotify" type="4793" maxsize="512" prior="1">
		<variable name="carnival" type="IntVector"/>
	</protocol>

	<!-- ***************************************************************************** -->
	<!--  Inter-Server Protocols between factionServer and other Server , id 4800-4850 -->
	<!-- ***************************************************************************** -->
	<rpcdata name="PFactionInfo" attr="vector">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="faction_id" type="unsigned int" default="0"/>
		<variable name="faction_role" type="char" default="-1"/>
		<variable name="faction_pvp_mask" type="unsigned char" default="0"/>
        <variable name="unifid" type="int64_t" default="0"/>
	</rpcdata>
	<protocol debug="0" name="PlayerFactionInfo" type="4801" maxsize="10240" prior="1">
		<variable name="rolelist" type="IntVector"/>
	</protocol>
	<protocol debug="0" name="PlayerFactionInfo_Re" type="4802" maxsize="102400" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="faction_info" type="PFactionInfoVector"/>
	</protocol>
	<protocol debug="0" name="FactionChat" type="4803" maxsize="1024" prior="1">
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char" default="0"/>
		<variable name="src_roleid" type="int" default="0"/>
		<variable name="msg" type="Octets" attr="ref" default="Octets()"/>
		<variable name="data" type="Octets" attr="ref" default="Octets()"/>
		<variable name="dst_localsid" type="unsigned int" default="0"/>
	</protocol>
	
	<!-- Faction operation request. from gameserver to faction server -->
	<protocol debug="0" name="FactionOPRequest" type="4804" maxsize="256" prior="1">
		<variable name="optype" type="int"/> <!-- operation type -->
		<variable name="roleid" type="int"/>
		<variable name="params" type="Octets" attr="ref" default="Octets()"/>
	</protocol>	
	<!-- this protocol is used when networkerror,invalid optype ocurrs -->
	<protocol debug="0" name="FactionOPRequest_Re" type="4805" maxsize="128"  prior="1">
		<variable name="retcode" type="int"/>
		<variable name="optype" type="int"/> <!-- operation type -->
		<variable name="roleid" type="int"/>
		<variable name="linkid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>	

	<!-- Synchronize player data between gameserver and faction server -->
	<rpcdata name="FactionOPSyncInfo"> <!-- define Synchronize informations for faction operations-->
		<variable name="player_money" type="unsigned int" default="0"/>
		<variable name="player_sp" type="int" default="0"/>
	</rpcdata>	
	<!-- Get Additional infor from UniqueName Server -->
	<rpcdata name="FactionOPAddInfo"> <!-- define Additional information for faction operations-->
		<variable name="retcode" type="int" default="-1"/>
		<variable name="factionid" type="unsigned int" default="0"/>
	</rpcdata>	

	<protocol debug="0" name="FactionBeginSync" type="4808" maxsize="128"  prior="1">
		<variable name="tid" type="unsigned int"/> <!-- transaction id-->
		<variable name="roleid" type="int"/> <!-- role that is in the transcation-->
	</protocol>
	<protocol debug="0" name="FactionBeginSync_Re" type="4809" maxsize="256"  prior="1">
		<variable name="retcode" type="int"/>
		<variable name="tid" type="unsigned int"/> <!-- transaction id-->
		<variable name="roleid" type="int"/> <!-- role that is in the transcation-->
		<variable name="syncdata" type="FactionOPSyncInfo"/> <!-- data that is nessessary and need sync-->
	</protocol>
	<protocol debug="0" name="FactionEndSync" type="4810" maxsize="256"  prior="1">
		<variable name="tid" type="unsigned int"/> <!-- transaction id-->
		<variable name="roleid" type="int"/> <!-- role that is in the transcation-->
		<variable name="syncdata" type="FactionOPSyncInfo"/> <!-- data that is nessessary and need sync-->
	</protocol>

		<!-- Announce from DeliveryServer to Faction server that a role is deleted -->
	<rpcdata name="AnnounceFactionRoleDelArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="zoneid" type="char" default="-1"/>
		<variable name="faction" type="unsigned int" default="0"/>
	</rpcdata>	
	<rpcdata name="AnnounceFactionRoleDelRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="AnnounceFactionRoleDel" type="4811" maxsize="64" argument="AnnounceFactionRoleDelArg" result="AnnounceFactionRoleDelRes" prior="1" timeout="10"/>
		<!-- Invite a non-member to a faction -->
	<protocol debug="0" name="FactionAcceptJoin" type="4812" maxsize="256"  prior="1">
		<variable name="roleid" type="int" />
		<variable name="localsid" type="unsigned int"/>
		<variable name="factionid" type="unsigned int"/>
		<variable name="invited_roleid" type="int"/>
	</protocol>	
	<rpcdata name="FactionInviteArg">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="invited_roleid" type="int" default="-1"/>
		<variable name="factionid" type="unsigned int" default="0"/>
		<variable name="faction_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="role_name" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="FactionInviteRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="FactionInviteJoin" type="4813" maxsize="256" argument="FactionInviteArg" result="FactionInviteRes" prior="1" timeout="30"/>
	
	<protocol debug="0" name="GetFactionBaseInfo" type="4814" maxsize="4096"  prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="factionlist" type="IntVector" attr="ref"/>
	</protocol>
	<protocol debug="0" name="GetFactionBaseInfo_Re" type="4815" maxsize="16384"  prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="faction_info" type="GFactionBaseInfo"/>
	</protocol>

	<protocol debug="0" name="GetPlayerFactionInfo" type="4816" maxsize="4096"  prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetPlayerFactionInfo_Re" type="4817" maxsize="16384"  prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="faction_info" type="GUserFaction"/>
	</protocol>

	<protocol debug="0" name="DelFactionAnnounce" type="4818" maxsize="512" prior="1">
		<variable name="factionid" type="unsigned int" default="0"/>
	</protocol>
	
	<protocol debug="0" name="FactionListOnline" type="4819" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FactionListOnline_Re" type="4820" maxsize="8192" prior="1">
		<variable name="fid_list" type="std::vector&lt;unsigned int&gt;" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	
	<protocol debug="0" name="GetPlayerFactionRelation" type="4821" maxsize="32" prior="1">
		<variable name="factionid" type="int"/>
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol debug="0" name="GetPlayerFactionRelation_Re" type="4822" maxsize="4096" prior="1">
		<variable name="factionid" type="int"/>
		<variable name="roleid_list" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="alliance" type="std::vector&lt;int&gt;" attr="ref"/>
		<variable name="hostile" type="std::vector&lt;int&gt;" attr="ref"/>
	</protocol>
	<protocol debug="0" name="FactionCongregateRequest" type="4823" maxsize="1024" prior="1">
		<variable name="factionid" type="int"/>
		<variable name="sponsor" type="int"/>
		<variable name="data" type="Octets" attr="ref"/>
		<variable name="member" type="std::vector&lt;int&gt;" attr="ref"/>
	</protocol>
	<protocol debug="0" name="FactionUniqueIdAnnounce" type="4824" maxsize="1024" prior="1">
		<variable name="factionid" type="int"/>
		<variable name="unifid" type="int64_t"/>
	</protocol>
	<!-- ***************************************************************************** -->
	<!--    Protocols and Rpcs used in King Election System is 4851 - 4870 	           -->
	<!-- ***************************************************************************** -->
	<rpcdata name="KEKing">		<!--超过32需要调整协议maxsize-->
		<variable name="roleid" type="int" default="0"/>
		<variable name="end_time" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="KECandidate" attr="vector">	<!--超过32需要调整协议maxsize-->
		<variable name="roleid" type="int" default="0"/>
		<variable name="serial_num" type="int" default="0"/>
		<variable name="deposit" type="int" default="0"/>
		<variable name="votes" type="int" default="0"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="KingElectionDetail">		<!--candidate list最多1000-->
		<variable name="king" type="KEKing" default="KEKing()" attr="ref"/>
		<variable name="candidate_list" type="KECandidateVector" default="KECandidateVector()" attr="ref"/>
		<variable name="reserved1" type="int" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
	</rpcdata>

	<rpcdata name="DBKELoadArg">
		<variable name="nouse" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBKELoadRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="detail" type="KingElectionDetail" default="KingElectionDetail()" attr="ref"/>
	</rpcdata>
	<rpc name="DBKELoad" type="4851" maxsize="32768" prior="1" timeout="30"/>
	<protocol name="KEGetStatus" type="4852" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol name="KEGetStatus_Re" type="4853" maxsize="256" prior="1">
		<variable name="status" type="int"/>
		<variable name="king" type="KEKing" attr="ref"/>
		<variable name="candidate_list" type="KECandidateVector" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol name="KECandidateApply" type="4854" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="item_id" type="unsigned int"/>
		<variable name="item_num" type="int"/>
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="KECandidateApply_Re" type="4855" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="DBKECandidateApplyArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="serial_num" type="int" default="0"/>
		<variable name="item_id" type="unsigned int" default="0"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBKECandidateApplyRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBKECandidateApply" type="4856" maxsize="131072" prior="1" timeout="30"/>
	
	<rpcdata name="DBKECandidateConfirmArg">
		<variable name="candidate_list" type="IntVector" default="IntVector()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBKECandidateConfirmRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc name="DBKECandidateConfirm" type="4857" maxsize="32" prior="1" timeout="30"/>
	
	<protocol name="KEVoting" type="4858" maxsize="131072" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="item_id" type="unsigned int"/>
		<variable name="item_pos" type="int"/>
		<variable name="item_num" type="int"/>
		<variable name="candidate_roleid" type="int"/>
		<variable name="syncdata" type="Octets" default="Octets()" attr="ref"/>
	</protocol>
	<protocol name="KEVoting_Re" type="4859" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="DBKEVotingArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="item_id" type="unsigned int" default="0"/>
		<variable name="item_pos" type="int" default="-1"/>
		<variable name="item_num" type="int" default="0"/>
		<variable name="candidate_roleid" type="int" default="0"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBKEVotingRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>
	<rpc name="DBKEVoting" type="4860" maxsize="131072" prior="1" timeout="30"/>

	<rpcdata name="DBKEKingConfirmArg">
		<variable name="king" type="KEKing" default="KEKing()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBKEKingConfirmRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc name="DBKEKingConfirm" type="4861" maxsize="64" prior="1" timeout="30"/>

	<rpcdata name="DBKEDeleteKingArg">
		<variable name="king_roleid" type="int" default="0"/>
		<variable name="reason" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBKEDeleteKingRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc name="DBKEDeleteKing" type="4862" maxsize="32" prior="1" timeout="30"/>
	<rpcdata name="DBKEDeleteCandidateArg">
		<variable name="candidate_list" type="IntVector" default="IntVector()" attr="ref"/>
		<variable name="reason" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="DBKEDeleteCandidateRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc name="DBKEDeleteCandidate" type="4863" maxsize="4096" prior="1" timeout="30"/>

	<protocol name="KEKingNotify" type="4864" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="end_time" type="int"/>
	</protocol>

	<!--  ****************************************************************************************************  -->
	<!--    Protocols and Rpcs used in Tank Battle System is 4871 - 4900  	    				            	-->
	<!--  ****************************************************************************************************  -->

	<protocol name="TankBattleServerRegister" type="4871" maxsize="64" prior="1">
		<variable name="server_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>
	
	<protocol name="TankBattlePlayerApply" type="4872" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="model" type="int"/>
	</protocol>
	
	<protocol name="TankBattlePlayerApply_Re" type="4873" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="retcode" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	
	<protocol name="TankBattleEnter" type="4874" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_id" type="int"/>
		<variable name="world_tag" type="int"/>
		<variable name="model" type="int"/>
	</protocol>
	
	<protocol name="TankBattlePlayerEnter" type="4875" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>
	
	<protocol name="TankBattlePlayerLeave" type="4876" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="battle_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>

	<protocol name="TankBattleStart" type="4877" maxsize="64" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="end_time" type="int"/>
		<variable name="max_player_cnt" type="unsigned int"/>
	</protocol>
	
	<protocol name="TankBattleStart_Re" type="4878" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="battle_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>
	
	<protocol name="TankBattleEnd" type="4879" maxsize="64" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>
	
	<rpcdata name="TankBattlePlayerScoreInfo" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="kill_cnt" type="int" default="0"/>
		<variable name="dead_cnt" type="int" default="0"/>
		<variable name="score" type="int" default="0"/>
		<variable name="rank" type="int" default="0"/>
	</rpcdata>
	<protocol name="TankBattlePlayerScoreUpdate" type="4880" maxsize="1048576" prior="1">
		<variable name="battle_id" type="int"/>
		<variable name="world_tag" type="int"/>
		<variable name="player_scores" type="TankBattlePlayerScoreInfoVector" attr="ref"/>
	</protocol>

	<protocol name="TankBattlePlayerGetRank" type="4881" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	
	<protocol name="TankBattlePlayerGetRank_Re" type="4882" maxsize="1024" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="retcode" type="int"/>
		<variable name="your_score" type="TankBattlePlayerScoreInfo"/>
		<variable name="player_scores" type="TankBattlePlayerScoreInfoVector" attr="ref"/>
	</protocol>
	
	<rpcdata name="DBTankBattleBonusArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="rank" type="int" default="0"/>
		<variable name="money" type="unsigned int" default="0"/>
		<variable name="item" type="GRoleInventory" default="GRoleInventory()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBTankBattleBonusRes">
		<variable name="retcode" type="short" default="0"/>
		<variable name="inform_player"  type="GMailHeader" default="GMailHeader()" attr="ref"/>
	</rpcdata>
	<rpc name="DBTankBattleBonus" type="4883" maxsize="1024" prior="1" argument="DBTankBattleBonusArg" result="DBTankBattleBonusRes" timeout="40"/>

	<!--  ****************************************************************************  -->
	<!--             Protocols and Rpcs used in friend system typeid is 200 - 300       -->
	<!--  ****************************************************************************  -->
	<rpcdata name="GGroupInfo" attr="vector">
		<variable name="gid" type="char" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="GFriendInfo" attr="vector">
		<variable name="rid" type="int" default="0"/>
		<variable name="cls" type="char" default="0"/>
		<variable name="gid" type="char" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets(0)"/>
	</rpcdata>
	<rpcdata name="GFriendList">
		<variable name="groups" type="GGroupInfoVector"/>
		<variable name="friends" type="GFriendInfoVector"/>
	</rpcdata>
	<rpcdata name="FriendListPair">
		<variable name="key" type="RoleId"/>
		<variable name="value" type="GFriendList"/>
		<variable name="extra_info" type="GFriendExtInfoVector"/>
		<variable name="sendmail_info" type="GSendAUMailRecordVector"/>
        <variable name="enemylist_info" type="GEnemyListVector" default="GEnemyListVector()" attr="ref"/>
	</rpcdata>
	<rpcdata name="FriendListRes">
		<variable name="retcode" type="char" default="-1"/>
		<variable name="value" type="GFriendList"/>
		<variable name="extra_info" type="GFriendExtInfoVector"/>
		<variable name="sendmail_info" type="GSendAUMailRecordVector"/>
        <variable name="enemylist_info" type="GEnemyListVector" default="GEnemyListVector()" attr="ref"/>
	</rpcdata>
    <rpcdata name="GEnemyList" attr="vector">
        <variable name="rid" type="int" default="0"/>
        <variable name="cls" type="char" default="0"/>
        <variable name="type" type="char" default="0"/>
        <variable name="add_time" type="int" default="0"/>
        <variable name="name" type="Octets" default="Octets()" attr="ref"/>
        <variable name="reserved1" type="int" default="0"/>
        <variable name="reserved2" type="int" default="0"/>
        <variable name="reserved3" type="int" default="0"/>
        <variable name="reserved4" type="int" default="0"/>
    </rpcdata>
	<rpcdata name="GSendAUMailRecord" attr="vector">
		<variable name="rid" type="int" default="0"/>
		<variable name="sendmail_time" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFriendExtInfo" attr="vector">
		<variable name="uid" type="int" default="0"/>
		<variable name="rid" type="int" default="0"/>
		<variable name="level" type="int" default="0"/>
		<variable name="last_logintime" type="int" default="-1"/>
		<variable name="update_time" type="int" default="-1"/>
		<variable name="reincarnation_times" type="unsigned char" default="0"/>
        <variable name="remarks" type="Octets" attr="ref"/>
		<variable name="reserved1" type="short" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="GFriendExtra">
		<variable name="friendExtInfo" type="GFriendExtInfoVector"/>
		<variable name="sendaumailinfo" type="GSendAUMailRecordVector"/>
        <variable name="enemylistinfo" type="Octets" default="Octets()"/>
		<variable name="reserved11" type="char" default="0"/>
        <variable name="reserved12" type="short" default="0"/>
		<variable name="reserved2" type="int" default="0"/>
		<variable name="reserved3" type="int" default="0"/>
		<variable name="reserved4" type="int" default="0"/>
		<variable name="reserved5" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="PutFriendList" type="200" argument="FriendListPair" result="RpcRetcode" table="friends" attr="put" key="key" value="value" maxsize="65536" prior="1" timeout="20"/>
	<rpc debug="0" name="GetFriendList" type="201" argument="RoleId" result="FriendListRes" table="friends" attr="get" retcode="retcode" value="value" maxsize="65536" prior="1" timeout="20"/>

	<protocol debug="0" name="AddFriend" maxsize="128" prior="1" type="202">
        <variable name="srcroleid" type="int"/>
        <variable name="dstroleid" type="int"/>
		<variable name="dstname" type="Octets" attr="ref" />
		<variable name="srclsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="AddFriend_Re" maxsize="128" prior="1" type="203">
		<variable name="retcode" type="char"/>
        <variable name="info" type="GFriendInfo" attr="ref"/>
		<variable name="srclsid" type="unsigned int"/>
	</protocol>
    <protocol debug="0" name="AddFriendRemarks" maxsize="64" prior="1" type="236">
        <variable name="roleid" type="int"/>
        <variable name="friendroleid" type="int"/>
        <variable name="friendremarks" type="Octets" attr="ref"/>
        <variable name="srclsid" type="unsigned int"/>
    </protocol>
    <protocol debug="0" name="AddFriendRemarks_Re" maxsize="64" prior="1" type="237">
        <variable name="retcode" type="char"/>
        <variable name="roleid" type="int"/>
        <variable name="friendroleid" type="int"/>
        <variable name="friendremarks" type="Octets" attr="ref"/>
        <variable name="srclsid" type="unsigned int"/>
    </protocol>
	<rpcdata name="AddFriendRqstArg">
		<variable name="srcroleid" type="int" default="-1"/>  
		<variable name="srcname" type="Octets" attr="ref" />
		<variable name="dstlsid" type="unsigned int"/>
	</rpcdata>
	<rpcdata name="AddFriendRqstRes">
		<variable name="retcode" type="char" default="0"/>
	</rpcdata>
	<rpc debug="0" name="AddFriendRqst" type="204" maxsize="64" prior="1" argument="AddFriendRqstArg" result="AddFriendRqstRes" timeout="60"/>
	<protocol debug="0" name="GetFriends" maxsize="4096" prior="1" type="206">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetFriends_Re" maxsize="8192" prior="1" type="207">
		<variable name="roleid" type="int"/>
		<variable name="groups" type="GGroupInfoVector"/>
		<variable name="friends" type="GFriendInfoVector"/>
		<variable name="status" type="CharVector"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>

    <protocol debug="0" name="UpdateEnemyList" maxsize="64" prior="1" type="238">
        <variable name="optype" type="char"/>
        <variable name="srcroleid" type="int"/>
        <variable name="dstroleid" type="int"/>
    </protocol>
    <protocol debug="0" name="UpdateEnemyList_Re" maxsize="256" prior="1" type="239">
        <variable name="retcode" type="int"/>
        <variable name="optype" type="char"/>
        <variable name="srcroleid" type="int"/>
        <variable name="enemy" type="GEnemyList"/>
        <variable name="localsid" type="unsigned int"/>
    </protocol>

    <protocol debug="0" name="GetEnemyList" maxsize="64" prior="1" type="240">
        <variable name="roleid" type="int"/>
        <variable name="localsid" type="unsigned int"/>
    </protocol>
    <protocol debug="0" name="GetEnemyList_Re" maxsize="16384" prior="1" type="241">
        <variable name="retcode" type="int"/>
        <variable name="roleid" type="int"/>
        <variable name="enemylist" type="GEnemyListVector"/>
        <variable name="status" type="CharVector"/>
        <variable name="localsid" type="unsigned int"/>
    </protocol>

	<protocol debug="0" name="SetGroupName" maxsize="64" prior="1" type="208">
		<variable name="roleid" type="int"/>
		<variable name="gid" type="char"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="SetGroupName_Re" maxsize="128" prior="1" type="209">
		<variable name="retcode" type="char"/>
		<variable name="roleid" type="int"/>
		<variable name="gid" type="char"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="SetFriendGroup" maxsize="32" prior="1" type="210">
		<variable name="gid" type="char"/>
		<variable name="roleid" type="int"/>
		<variable name="friendid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="SetFriendGroup_Re" maxsize="64" prior="1" type="211">
		<variable name="retcode" type="char"/>
		<variable name="gid" type="char"/>
		<variable name="roleid" type="int"/>
		<variable name="friendid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="DelFriend" maxsize="32" prior="1" type="212">
		<variable name="roleid" type="int"/>
		<variable name="friendid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="DelFriend_Re" maxsize="32" prior="1" type="213">
		<variable name="retcode" type="char"/>
		<variable name="roleid" type="int"/>
		<variable name="friendid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FriendStatus" maxsize="32" prior="1" type="214">
		<variable name="roleid" type="int"/>
		<variable name="status" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="Message" attr="vector">
		<variable name="channel" type="unsigned char"/>
		<variable name="src_name" type="Octets" attr="ref"/>
		<variable name="srcroleid" type="int"/>
		<variable name="dst_name" type="Octets" attr="ref"/>
		<variable name="dstroleid" type="int"/>
		<variable name="msg" type="Octets" attr="ref"/>
	</rpcdata>
	<rpcdata name="GetMessageRes">
		<variable name="retcode" type="char" default="0"/>
		<variable name="messages" type="MessageVector" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="PutMessage" type="215" maxsize="384" prior="1" argument="Message" result="RpcRetcode" timeout="10"/>
	<rpc debug="0" name="GetMessage" type="216" maxsize="8192" prior="1" argument="RoleId" result="GetMessageRes" timeout="10"/>
	<protocol debug="0" name="GetSavedMsg" maxsize="32" prior="1" type="217">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="GetSavedMsg_Re" maxsize="8192" prior="1" type="218">
		<variable name="retcode" type="char"/>
		<variable name="messages" type="MessageVector"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomCreate" maxsize="48" prior="1" type="219">
		<variable name="roleid" type="int"/>
		<variable name="subject" type="Octets" attr="ref"/>
		<variable name="capacity" type="unsigned short"/>
		<variable name="password" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomCreate_Re" maxsize="48" prior="1" type="220">
		<variable name="retcode" type="short"/>
		<variable name="roomid" type="unsigned short"/>
		<variable name="subject" type="Octets" attr="ref"/>
		<variable name="capacity" type="unsigned short"/>
		<variable name="status" type="unsigned char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomInvite" maxsize="128" prior="1" type="221">
		<variable name="roomid" type="unsigned short"/>
		<variable name="invitee" type="int"/>
		<variable name="inviter" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="subject" type="Octets" attr="ref"/>
		<variable name="capacity" type="unsigned short"/>
		<variable name="number" type="unsigned short"/>
		<variable name="password" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomInvite_Re" maxsize="32" prior="1" type="222">
		<variable name="roomid" type="unsigned short"/>
		<variable name="invitee" type="int"/>
		<variable name="inviter" type="int"/>
		<variable name="retcode" type="short"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomJoin" maxsize="48" prior="1" type="223">
		<variable name="roomid" type="unsigned short"/>
		<variable name="ownerid" type="int"/>
		<variable name="ownername" type="Octets" attr="ref"/>
		<variable name="roleid" type="unsigned int"/>
		<variable name="password" type="Octets" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="GChatMember" attr="vector">
		<variable name="roleid" type="int" default="0"/>
		<variable name="name" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpcdata name="GRoomDetail">
		<variable name="roomid" type="unsigned short" default="0"/>
		<variable name="subject" type="Octets" attr="ref" default="Octets()"/>
		<variable name="owner" type="Octets" attr="ref" default="Octets()"/>
		<variable name="capacity" type="unsigned short" default="0"/>
		<variable name="status" type="unsigned char" default="0"/>
		<variable name="members" type="GChatMemberVector" attr="ref"/>
	</rpcdata>
	<protocol debug="0" name="ChatRoomJoin_Re" maxsize="1024" prior="1" type="224">
		<variable name="retcode" type="short"/>
		<variable name="roomid" type="unsigned short"/>
		<variable name="roleid" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="detail" type="GRoomDetail" attr="ref"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomLeave" maxsize="16" prior="1" type="225">
		<variable name="roomid" type="unsigned short"/>
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomExpel" maxsize="32" prior="1" type="226">
		<variable name="roomid" type="unsigned short"/>
		<variable name="roleid" type="int"/>
		<variable name="owner" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomSpeak" maxsize="256" prior="1" type="227">
		<variable name="roomid" type="unsigned short"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="message" type="Octets" attr="ref"/>
		<variable name="src" type="int"/>
		<variable name="dst" type="int"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<rpcdata name="GChatRoom" attr="vector">
		<variable name="roomid" type="unsigned short" default="0"/>
		<variable name="subject" type="Octets" attr="ref" default="Octets()"/>
		<variable name="owner" type="Octets" attr="ref" default="Octets()"/>
		<variable name="capacity" type="unsigned short" default="0"/>
		<variable name="number" type="unsigned short" default="0"/>
		<variable name="status" type="unsigned char" default="0"/>
	</rpcdata>
	<protocol debug="0" name="ChatRoomList" maxsize="16" prior="1" type="228">
		<variable name="begin" type="unsigned short"/>
		<variable name="reverse" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="ChatRoomList_Re" maxsize="1024" prior="1" type="229">
		<variable name="sum" type="unsigned short"/>
		<variable name="rooms" type="GChatRoomVector"/>
		<variable name="end" type="char"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="FriendExtList" maxsize="32768" prior="1" type="230">
		<variable name="roleid" type="int"/>
		<variable name="extra_info" type="GFriendExtInfoVector"/>
		<variable name="send_info" type="GSendAUMailRecordVector"/>
		<variable name="localsid" type="unsigned int"/>
	</protocol>
	<protocol debug="0" name="DBFriendExtList" maxsize="8192" prior="1" type="231">
		<variable name="rid" type="int"/>
		<variable name="roleidlist" type="std::vector&lt;int&gt;"/>
	</protocol>
	<protocol debug="0" name="DBFriendExtList_Re" maxsize="16384" prior="1" type="232">
		<variable name="retcode" type="int"/>
		<variable name="rid" type="int"/>
		<variable name="friendext" type="GFriendExtInfoVector"/>
	</protocol>
	<protocol debug="0" name="SendAUMail" maxsize="1024" prior="1" type="233">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int"/>
		<variable name="friend_id" type="int"/>
		<variable name="mail_template_id" type="int"/>
	</protocol>
	<protocol debug="0" name="SendAUMail_Re" maxsize="1024" prior="1" type="234">
		<variable name="roleid" type="int"/>
		<variable name="result" type="int"/>
		<variable name="localsid" type="int"/>
	</protocol>
	<protocol debug="0" name="AUMailSended" maxsize="1024" prior="1" type="235">
		<variable name="roleid" type="int"/>
		<variable name="level" type="int"/>
		<variable name="ext_reward" type="char"/>
	</protocol>
	<!--******************************************************************************-->
	<!--Protocols and rpc userd by Reference, id 4901-4950				  -->
	<!--******************************************************************************-->
	<rpcdata name="GRefStore">
		<variable name="bonus_add" type="int" default="0" />		<!--做为上线从所有下线所提取的红利累计值-->
		<variable name="bonus_used" type="int" default="0" />		<!--做为上线在红利商城的消费累计值-->
		<variable name="referrer" type="int" default="0"/>					<!--做为下线他所对应的上线的userid-->
		<variable name="referrer_roleid" type="int" default="0"/>					<!--上线的roleid-->
		<variable name="bonus_total1" type="int" default="0" />	<!--做为下线因为自己消费元宝而可供上线提取的红利累计值-->
		<variable name="bonus_total2" type="int" default="0" />	<!--做为下线因为自己从下线提取红利而可供自己的上线提取的红利累计值-->
		<variable name="bonus_withdraw" type="int" default="0" />	<!--作为下线已被上线提取的红利 累计值-->
		<variable name="bonus_withdraw_today" type="int" default="0" /><!--做为下线今日被上线提取的红利累计值-->
		<variable name="max_role_level" type="int" default="0" />		<!--做为下线本账号下消费过元宝的角色中等级最高的角色的等级数-用以限制每日可供上线所提取的红利数-->
		<variable name="rolenames" type="std::vector&lt;Octets&gt;" default="std::vector&lt;Octets&gt;()" attr="ref" />
		<variable name="reserved1" type="int" default="0" />
		<variable name="reserved2" type="int" default="0" />
		<variable name="reserved3" type="int" default="0" />
		<variable name="reserved4" type="int" default="0" />
		<variable name="reserved5" type="int" default="0" />
		<variable name="reserved6" type="int" default="0" />
	</rpcdata>
	<rpcdata name="GReferrer"><!--上线数据-->
		<variable name="userid" type="int" default="0"/>
		<variable name="bonus_add" type="int" default="0" />		<!--做为上线从所有下线所提取的红利累计值-->
	</rpcdata>
	<rpcdata name="GReferral"><!--下线数据-->
		<variable name="userid" type="int" default="0"/>
		<variable name="bonus_total1" type="int" default="0" />
		<variable name="bonus_total2" type="int" default="0" />
		<variable name="bonus_withdraw" type="int" default="0" />
		<variable name="bonus_withdraw_today" type="int" default="0" />
		<variable name="max_role_level" type="int" default="0" />	
		<variable name="rolenames" type="std::vector&lt;Octets&gt;" default="std::vector&lt;Octets&gt;()" attr="ref" />
	</rpcdata>
	<rpcdata name="ReferralBrief"><!--发给客户端的下线信息-->
		<variable name="rolenames" type="std::vector&lt;Octets&gt;" default="std::vector&lt;Octets&gt;()" attr="ref" />
		<variable name="max_level" type="int" default="0" />
		<variable name="bonus_total1" type="int" default="0" /> <!--由于本人消耗元宝对上线的历史总贡献鸿利值-->
		<variable name="bonus_total2" type="int" default="0" /> <!--由于本人下线消耗元宝对本人上线的历史总贡献鸿利值-->
		<variable name="bonus_left" type="int" default="0" /> <!--剩余量-->
		<variable name="bonus_avail" type="int" default="0" /> <!--可提取量-->
	</rpcdata>
	<protocol debug="0" name="SendRefAddBonus" type="4901" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="bonus" type="int" default="0" />
	</protocol>
	<protocol debug="0" name="SendRefCashUsed" type="4902" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="cash_used" type="int" default="0" />
		<variable name="level" type="int" default="0"/>
	</protocol>
	<rpcdata debug="0" name="DBRefWithdrawTransArg">
		<variable name="roleid" type="int" />
		<variable name="referrer" type="GReferrer" default="GReferrer()" attr="ref" />
		<variable name="referrals" type="std::vector&lt;GReferral&gt;" default="std::vector&lt;GReferral&gt;()" attr="ref" />
	</rpcdata>
	<rpc debug="0" name="DBRefWithdrawTrans" result="RpcRetcode" type="4903" maxsize="102400" prior="1" timeout="30"/>
	<protocol debug="0" name="RefListReferrals" type="4904" maxsize="64" prior="1" >
		<variable name="roleid" type="int" />
		<variable name="start_index" type="int" default="0" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="RefListReferrals_Re" type="4905" maxsize="2048" prior="1" >
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" default="0" />
		<variable name="start_index" type="int" default="0" />
		<variable name="total" type="int" default="0" />
		<variable name="bonus_avail_today" type="int" default="0" /><!--本日该玩家从所有下线身上能提取的总鸿利值-->
		<variable name="referrals" type="std::vector&lt;ReferralBrief&gt;" default="std::vector&lt;ReferralBrief&gt;()" attr="ref" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="RefWithdrawBonus" type="4906" maxsize="32" prior="1" >
		<variable name="roleid" type="int" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="RefWithdrawBonus_Re" type="4907" maxsize="32" prior="1" >
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" default="0" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="RefGetReferenceCode" type="4908" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<protocol debug="0" name="RefGetReferenceCode_Re" type="4909" maxsize="256" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int" default="0" />
		<variable name="level" type="int" default="0" />
		<variable name="reputation" type="int" default="0" />
		<variable name="refcode" type="Octets" default="Octets(0)" attr="ref"/>
		<variable name="localsid" type="int" default="0"/>
	</protocol>
	<rpcdata debug="0" name="DBRefGetReferralRes">
		<variable name="retcode" type="int"/>
		<variable name="referral" type="GReferral" default="GReferral()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBRefGetReferral" argument="Integer" type="4910" maxsize="1024" prior="1" timeout="30"/> 
	<rpcdata debug="0" name="DBRefGetReferrerRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="referrer" type="GReferrer" default="GReferrer()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBRefGetReferrer" argument="Integer" type="4911" maxsize="256" prior="1" timeout="30"/> 
	<rpcdata debug="0" name="DBRefUpdateReferralArg">
		<variable name="referral" type="GReferral" default="GReferral()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBRefUpdateReferral" result="RpcRetcode" type="4912" maxsize="1024" prior="1" timeout="30"/>
	<rpcdata debug="0" name="DBRefUpdateReferrerArg">
		<variable name="referrer" type="GReferrer" default="GReferrer()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBRefUpdateReferrer" result="RpcRetcode" type="4913" maxsize="256" prior="1" timeout="30"/>

	<!--******************************************************************************-->
	<!--Protocols and rpc userd by Consume Reward, id 4951-5000			  -->
	<!--******************************************************************************-->
	<rpcdata name="GRewardItem" attr="vector">
		<variable name="reward_time" type="int" default="0" />
		<variable name="reward_bonus" type="int" default="0" />
		<variable name="reserved1" type="int" default="0" />
		<variable name="reserved2" type="int" default="0" />
		<variable name="reserved3" type="int" default="0" />
		<variable name="reserved4" type="int" default="0" />
	</rpcdata>
	<rpcdata name="GCashVipInfo">
		<variable name="cash_vip_level" type="int" default="0" />
		<variable name="score_add" type="unsigned int" default="0" />
		<variable name="score_cost" type="unsigned int" default="0" />
		<variable name="score_consume" type="unsigned int" default="0" />
		<variable name="score_cost_stamp" type="int" default="0" />
		<variable name="purchase_limit_items_info" type="Octets" default="Octets(0)" attr="ref" />	
		<variable name="day_clear_stamp" type="int" default="0" />
		<variable name="week_clear_stamp" type="int" default="0" />
		<variable name="month_clear_stamp" type="int" default="0" />
		<variable name="year_clear_stamp" type="int" default="0" />
		<variable name="reserved0" type="int" default="0" />
		<variable name="reserved1" type="int" default="0" />
		<variable name="reserved2" type="int" default="0" />
		<variable name="reserved3" type="int" default="0" />
	</rpcdata>
	<rpcdata name="GRewardStore">
		<variable name="consume_points" type="int" default="0" />
		<variable name="bonus_reward" type="int" default="0" />
		<variable name="rewardlist" type="GRewardItemVector" attr="ref"/>
		<variable name="cash_vip_info" type="Octets" default="Octets(0)" attr="ref" />
		<variable name="reserved2" type="int" default="0" />
		<variable name="reserved3" type="int" default="0" />
		<variable name="reserved4" type="int" default="0" />
	</rpcdata>
	<protocol debug="0" name="SendRewardAddBonus" type="4951" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="bonus" type="int" default="0" />
	</protocol>
	<protocol debug="0" name="GetRewardList" type="4952" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="start_index" type="int" default="0" />
		<variable name="localsid" type="int" default="0" />
	</protocol>
	<rpcdata name="RewardItem" attr="vector">
		<variable name="reward_time" type="int" default="0" />
		<variable name="reward_bonus" type="int" default="0" />
	</rpcdata>
	<protocol debug="0" name="GetRewardList_Re" type="4953" maxsize="4096" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" />
		<variable name="consume_points" type="int" default="0" />
		<variable name="start_index" type="int" default="0" />
		<variable name="total" type="int" default="0" />
		<variable name="rewardlist" type="RewardItemVector" attr="ref" default="RewardItemVector()"/>
		<variable name="localsid" type="int" default="0" />
	</protocol>
	<protocol debug="0" name="ExchangeConsumePoints" type="4954" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="rewardtype" type="int" default="0" />
		<variable name="localsid" type="int" default="0" />
	</protocol>
	<protocol debug="0" name="ExchangeConsumePoints_Re" type="4955" maxsize="32" prior="1">
		<variable name="retcode" type="int" />
		<variable name="roleid" type="int" />
		<variable name="bonus_add" type="int" default="0" />
		<variable name="localsid" type="int" default="0" />
	</protocol>
	<protocol debug="0" name="RewardMatureNotice" type="4956" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="bonus_reward" type="int" default="0" />
		<variable name="localsid" type="int" default="0" />
	</protocol>
	<rpcdata debug="0" name="DBGetRewardArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
	</rpcdata>
	<rpcdata debug="0" name="DBGetRewardRes">
		<variable name="retcode" type="int" default="0"/>
		<variable name="reward" type="GRewardStore" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBGetReward" type="4957" maxsize="8192" prior="1" timeout="30"/> 

	<rpcdata debug="0" name="DBPutConsumePointsArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="consume_points" type="int " default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBPutConsumePoints" result="RpcRetcode" type="4958" maxsize="32" prior="1"/> 
	<rpcdata debug="0" name="DBPutRewardBonusArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="bonus_reward" type="int " default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBPutRewardBonus" result="RpcRetcode" type="4961" maxsize="32" prior="1"/> 

	<rpcdata debug="0" name="DBRewardMatureArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="bonus_reward" type="int" default="0"/>
		<variable name="rewardlist" type="GRewardItemVector" attr="ref" default="GRewardItemVector()"/>
	</rpcdata>
	<rpcdata debug="0" name="DBRewardMatureRes">
		<variable name="retcode" type="int" default="0"/>
		<!--variable name="bonus_add" type="int" default="0"/-->
	</rpcdata>
	<rpc debug="0" name="DBRewardMature" type="4959" maxsize="8192" prior="1"/> 

	<rpcdata debug="0" name="DBExchangeConsumePointsArg">
		<variable name="roleid" type="int" default="0"/>
		<variable name="userid" type="int" default="0"/>
		<variable name="consume_points" type="int" default="0"/>
		<variable name="rewardlist" type="GRewardItemVector" attr="ref" default="GRewardItemVector()"/>
		<!--variable name="points_dec" type="int" default="0"/-->
		<!--variable name="bonus_add" type="int" default="0"/-->
		<!--variable name="interval" type="int" default="0"/--> <!--单位为秒-->
		<!--variable name="times" type="int" default="0"/-->
		<!--variable name="end_time" type="int" default="0"/--><!--开始返还的时间-->
	</rpcdata>
	<rpcdata debug="0" name="DBExchangeConsumePointsRes">
		<variable name="retcode" type="int" default="0"/>
		<!--variable name="reward" type="GRewardStore" attr="ref"/-->
	</rpcdata>
	<rpc debug="0" name="DBExchangeConsumePoints" type="4960" maxsize="8192" prior="1"/> 
	<protocol debug="0" name="SendTaskReward" type="4962" maxsize="32" prior="1">
		<variable name="roleid" type="int" />
		<variable name="bonus_add" type="int" default="0" />
	</protocol>

	<!-- ***************************************************************************** -->
	<!--  Protocols and rpc used by AntiCheater Server , id 5001-5100 -->
	<!-- ***************************************************************************** -->
	<protocol debug="0" name="ACReport" type="5001" maxsize="8192" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="report" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="ACWhoAmI" type="5002" maxsize="16" prior="1">
		<variable name="clienttype" type="int"/>
		<variable name="subid" type="int"/>
	</protocol>
	<protocol debug="0" name="ACRemoteCode" type="5003" maxsize="8192" prior="1">
		<variable name="dstroleid" type="int"/>
		<variable name="content" type="OctetsVector"/>
	</protocol>

	<protocol debug="0" name="ACConnectRe" type="5004" maxsize="64" prior="1">
		<variable name="aid" type="int"/>
	</protocol>
	<protocol debug="0" name="ACReloadConfig" type="5005" maxsize="1048576" prior="1">
		<variable name="reload_type" type="int"/>
		<variable name="config" type="Octets" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="ACReloadConfigRe" type="5006" maxsize="64" prior="1">
		<variable name="rescode" type="int" />
	</protocol>
	<rpcdata name="ACQ">
		<variable name="query_type" type="int" />
		<variable name="zoneid" type="int" />
		<variable name="roleid" type="int" />
		<variable name="xid" type="int"/>
		<variable name="timeout" type="int" />
	</rpcdata>
	<rpcdata name="IntData" attr="vector">
		<variable name="int_value" type="int" default="0" />
	</rpcdata>
	<rpcdata name="OctetsData" attr="vector">
		<variable name="octets_value" type="Octets" default="Octets()" />
	</rpcdata>
	<protocol debug="0" name="ACQuery" type="5007" maxsize="1024" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="params" type="IntOctetsVector" />
	</protocol>
	<rpcdata name="ACLogInfo" attr="vector">
		<variable name="type" type="int" default="0" />
		<variable name="subid" type="int" default="0" />
		<variable name="log_time" type="int" default="0" />
	</rpcdata>
	<protocol debug="0" name="ACQLogInfo" type="5008" maxsize="2048" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="logs" type="ACLogInfoVector" />
	</protocol>
	<protocol debug="0" name="ACQUserOnline" type="5009" maxsize="1048576" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="users" type="IntDataVector" />
	</protocol>
	<protocol debug="0" name="ACQUserStrs" type="5010" maxsize="2197152" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="windows" type="IntOctetsVector" />
		<variable name="modules" type="IntOctetsVector" />
		<variable name="processes" type="IntOctetsVector" />
	</protocol>
	<protocol debug="0" name="ACSendCode" type="5011" maxsize="256" prior="1">
		<variable name="roleid" type="int" />
		<variable name="code_name" type="std::string" />
		<variable name="param" type="std::string" />
	</protocol>
	<rpcdata name="ACCodeRes" attr="vector">
		<variable name="codeid" type="short" default="0" />
		<variable name="res" type="int" default="0" />
	</rpcdata>
	<rpcdata name="ACUserCodeRes" attr="vector">
		<variable name="count" type="short" default="0" />
		<variable name="type" type="short" default="0" />
		<variable name="res" type="ACCodeResVector" default="ACCodeResVector()" />
	</rpcdata>
	<protocol debug="0" name="ACQCodeRes" type="5012" maxsize="65536" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="res" type="ACUserCodeResVector" />
	</protocol>
	<protocol debug="0" name="ACCheaters" type="5013" maxsize="1048576" prior="1">
		<variable name="cheaters" type="std::map&lt;int, std::vector&lt;std::pair&lt;int, std::pair&lt;int, unsigned int&gt; &gt; &gt; &gt;" />
	</protocol>
	<rpcdata name="ACStackPattern" attr="vector">
		<variable name="caller" type="int" default="0" />
		<variable name="size" type="int" default="0" />
		<variable name="pattern" type="int" default="0" />
		<variable name="count" type="int" default="0" />
		<variable name="count_hd" type="int" default="0"/>
	</rpcdata>
	<protocol debug="0" name="ACQPatterns" type="5014" maxsize="1048576" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="patterns" type="ACStackPatternVector" />
	</protocol>
	<protocol debug="0" name="ACForbidProcess" type="5015" maxsize="8192" prior="1">
		<variable name="forbid_process" type="std::map&lt;int, std::string&gt;" />
	</protocol>
	<rpcdata name="ACPlatformInfo" attr="vector">
		<variable name="id" type="int" default="0" />
		<variable name="major_version" type="int" default="0" />
		<variable name="minor_version" type="int" default="0" />
		<variable name="build_number" type="int" default="0" />
		<variable name="count" type="int" default="0" />
	</rpcdata>
	<rpcdata name="ACCPUInfo" attr="vector">
		<variable name="arch" type="short" default="0" />
		<variable name="level" type="short" default="0" />
		<variable name="ct" type="int" default="0" />
		<variable name="count" type="int" default="0" />
	</rpcdata>
	<rpcdata name="ACMemInfo" attr="vector">
		<variable name="ct" type="int" default="0" />
		<variable name="count" type="int" default="0" />
	</rpcdata>
	<rpcdata name="ACAdapterInfo" attr="vector">
		<variable name="des" type="Octets" default="Octets()" />
		<variable name="count" type="int" default="0" />
	</rpcdata>
	<protocol debug="0" name="ACQPlatformInfo" type="5016" maxsize="1048576" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="platform_info" type="ACPlatformInfoVector" />
		<variable name="cpu_info" type="ACCPUInfoVector" />
		<variable name="mem_info" type="ACMemInfoVector" />
		<variable name="adapter_info" type="ACAdapterInfoVector" />
	</protocol>
	<!--
	<protocol debug="0" name="ACCPUInfo" type="5017" maxsize="8192" prior="1">
		<variable name="roleid" type="int" />
		<variable name="cpu_info" type="std::map&lt;std::vector&lt;int&gt;, int&gt;" />
	</protocol>
	-->
	<protocol debug="0" name="ACBriefInfo" type="5018" maxsize="131072" prior="1">
		<variable name="brief_map" type="std::map&lt;int,std::pair&lt;int, std::pair&lt;unsigned int,int&gt; &gt; &gt;" />
	</protocol>
	<protocol debug="0" name="ACPeriodInfo" type="5019" maxsize="1048576" prior="1">
		<variable name="roleid" type="int" />
		<variable name="is_valid" type="int" />
		<variable name="process_times" type="std::vector&lt;std::vector&lt;unsigned int&gt; &gt;" />
		<variable name="threads_times" type="std::vector&lt;std::vector&lt;unsigned int&gt; &gt;" />
		<variable name="mouse" type="std::vector&lt;std::pair&lt;float,std::vector&lt;unsigned int&gt; &gt; &gt;" />
	</protocol>
	<protocol debug="0" name="ACVersion" type="5020" maxsize="256" prior="1">
		<variable name="version" type="std::string" />
	</protocol>
	<protocol debug="0" name="ACQStrOwner" type="5021" maxsize="65536" prior="1">	
		<variable name="acq" type="ACQ" />
		<variable name="owners" type="IntDataVector" />
	</protocol>
	<rpcdata name="ACMouseInfo" attr="vector">
		<variable name="lbuttonfreq" type="int" default="0" />
		<variable name="rbuttonfreq" type="int" default="0" />
		<variable name="mousemovefreq" type="int" default="0" />
		<variable name="mousemovevelo" type="float" default="0" />
		<variable name="g_counts" type="IntDataVector" defautl="IntDataVector()" />
		<variable name="g_times" type="IntDataVector" defautl="IntDataVector()" />
	</rpcdata>
	<protocol debug="0" name="ACQMouseInfo" type="5022" maxsize="1048576" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="mouse_info" type="ACMouseInfoVector" />
	</protocol>
	<rpcdata name="ACThreadTime" attr="vector">
		<variable name="thread_id" type="int" default="0" />
		<variable name="all_secs" type="int" default="0" />
		<variable name="kernel_secs" type="int" default="0" />
		<variable name="user_secs" type="int" default="0" />
	</rpcdata>
	<protocol debug="0" name="ACQThreadTimes" type="5023" maxsize="1048576" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="process_time" type="ACThreadTime" />
		<variable name="thread_times" type="ACThreadTimeVector" />
	</protocol>
	<protocol debug="0" name="ACProtoStat" type="5024" maxsize="1048576" prior="1"> <!--protocol statistic info-->
		<variable name="roleid" type="int" />
		<variable name="keepalive" type="int"/>
		<variable name="gamedatasend" type="int"/>
		<variable name="publicchat" type="int"/>
	</protocol>
	<rpcdata name="ACProtocolStat" attr="vector">
		<variable name="keepalive" type="int" default="0" />
		<variable name="gamedatasend" type="int" default="0" />
		<variable name="acreport" type="int" default="0" />
	</rpcdata>
	<protocol debug="0" name="ACQProtocolStats" type="5025" maxsize="1048576" prior="1">
		<variable name="acq" type="ACQ" />
		<variable name="proto_stats" type="ACProtocolStatVector" />
	</protocol>
	<rpcdata name="ACOnlineStatus">
		<variable name="roleid" type="int" default="-1"/>
		<variable name="ip" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="ACOnlineStatus2">
        <variable name="roleid" type="int" default="-1"/>
        <variable name="userid" type="int" default="-1"/>
        <variable name="ip" type="int" default="0"/>
    </rpcdata>
	<protocol name="ACStatusAnnounce" type="5026" maxsize="1048576" prior="1">
		<variable name="status" type="int"/>
		<variable name="info_list" type="std::vector&lt;ACOnlineStatus&gt;"/>
	</protocol>
	<protocol debug="0" name="ACRemoteExe" type="5027" maxsize="1048576" prior="1">
		<variable name="file_size" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="ptype" type="int"/>
		<variable name="exe" type="Octets" default="Octets()"/>
		<variable name="name" type="Octets" default="Octets()"/>
	</protocol>
	<protocol debug="0" name="ACRemoteExeRe" type="5028" maxsize="64" prior="1">
		<variable name="rescode" type="int" />
	</protocol>
	<protocol debug="0" name="ACReportCheater" type="5029" maxsize="8192" prior="1">
		<variable name="roleid" type="int" />
		<variable name="cheattype" type="int" />
		<variable name="cheatinfo" type="Octets" />
	</protocol>
	<protocol debug="0" name="ACTriggerQuestion" type="5030" maxsize="8192" prior="1">
		<variable name="roleid" type="int" />
		<variable name="reserved" type="int" />
	</protocol>
	<protocol debug="0" name="ACQuestion" type="5031" maxsize="8192" prior="1">
		<variable name="roleid" type="int" />
		<variable name="qtype" type="int" />
		<variable name="seq" type="int" />
		<variable name="reserved" type="int" />
		<variable name="question" type="std::vector&lt;Octets&gt;" />
	</protocol>
	<protocol debug="0" name="ACAnswer" type="5032" maxsize="8192" prior="1">
		<variable name="roleid" type="int" />
		<variable name="qtype" type="int" />
		<variable name="seq" type="int" />
		<variable name="reserved" type="int" />
		<variable name="answer" type="int" />
	</protocol>
	<protocol name="ACStatusAnnounce2" type="5034" maxsize="2097152" prior="1">
		<variable name="status" type="int"/>
		<variable name="info_list" type="std::vector&lt;ACOnlineStatus2&gt;"/>
	</protocol>

	<protocol debug="0" name="ACAccuse" type="5055" maxsize="2048" prior="1">
		<variable name="zoneid" type="int" />
		<variable name="roleid" type="int64_t"/>
		<variable name="accid" type="int64_t"/>
		<variable name="accusation_roleid" type="int64_t"/>
		<variable name="accusation_accid" type="int64_t"/>
		<variable name="reason" type="Octets" attr="ref"/>
	</protocol>
	<protocol debug="0" name="ACAccuseRe" type="5056" maxsize="2048" prior="1">
		<variable name="zoneid" type="int" />
		<variable name="roleid" type="int64_t"/>
		<variable name="accid" type="int64_t"/>
		<variable name="accusation_roleid" type="int64_t"/>
		<variable name="accusation_accid" type="int64_t"/>
		<variable name="result" type="int" />
	</protocol>

	<protocol debug="0" name="ACKickoutUser" maxsize="256" prior="1" type="5035">
		<variable name="gmuserid" type="int"/>
		<variable name="idtype" type="int"/> <!-- 0=userid, 1=roleid-->
		<variable name="userid" type="int"/>
		<variable name="forbid_time" type="int"/>
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</protocol>
    
    <!-- ***************************************************************************** -->
	<!--  Protocols and rpc used by Copy Role , id 5101-5102 -->
	<!-- ***************************************************************************** -->
    <rpcdata name="DBCopyRoleArg">
		<variable name="srcroleid" type="int" default="0"/>
		<variable name="dstroleid" type="int" default="0"/>
	</rpcdata>
	<rpc debug="0" name="DBCopyRole" type="5101" argument="DBCopyRoleArg" result="RpcRetcode" maxsize="128" prior="1" timeout="30"/>

	<protocol debug="0" name="BillingBalance" type="9000" maxsize="8192" prior="1">
		<variable name="userid" type="int" />
		<variable name="request" type="int" />
		<variable name="result" type="int" />
		<variable name="balance" type="int" />
	</protocol>
	<protocol debug="0" name="BillingRequest" type="9001" maxsize="8192" prior="1">
		<variable name="userid" type="int" />
		<variable name="request" type="int" />
		<variable name="result" type="int" />
		<variable name="itemid" type="int" />
		<variable name="itemnum" type="int" />
		<variable name="timeout" type="int" />
		<variable name="amount" type="int" />
		<variable name="menuid" type="Octets" />
		<variable name="bxtxno" type="Octets" />
		<variable name="agtxno" type="Octets" />
		</protocol>
	<protocol name="BillingBalanceSA" type="8048" maxsize="128" prior="1">
		<variable name="userid" type="int"/>
	</protocol>
	<protocol name="BillingBalanceSA_Re" type="8049" maxsize="128" prior="1">
		<variable name="retcode" type="int"/><!--0成功，非0失败-->
		<variable name="userid" type="int"/>
		<variable name="cashremain" type="int"/><!--余额-->
	</protocol>
		<!--购买Item-->
	<protocol name="BillingConfirm" type="8052" maxsize="256" prior="1">
		<variable name="userid" type="int"/>
		<variable name="itemid" type="int" />
		<variable name="itemcnt" type="int" /><!--item 数量-->
		<variable name="itemname" type="Octets" />
		<variable name="itemexpire" type="int" />
		<variable name="itemprice" type="int" /><!--item 单价-->
		<variable name="loginip" type="int"/>
	</protocol>
	<protocol name="BillingConfirm_Re" type="8053" maxsize="256" prior="1">
		<variable name="retcode" type="int"/><!--0成功，非0失败-->
		<variable name="userid" type="int"/>
		<variable name="itemid" type="int" />
		<variable name="itemcnt" type="int" />
		<variable name="itemname" type="Octets" />
		<variable name="itemexpire" type="int" />
		<variable name="itemprice" type="int" />
		<variable name="cashremain" type="int"/>
		<variable name="chargeno" type="Octets"/><!--billing system 生成订单号-->
	</protocol>
		<!--取消购买-->
	<protocol name="BillingCancel" type="8054" maxsize="256" prior="1">
		<variable name="userid" type="int"/>
		<variable name="chargeno" type="Octets"/><!--billing system 生成订单号-->
	</protocol>
	<rpcdata name="ForbidUserArg">
		<variable name="operation" type="char" default="0" /><!--0 query, 1 forbid, 2 unforbid -->
		<variable name="gmuserid" type="int" default="-1" />
		<variable name="source" type="int" default="0" />
		<variable name="userid" type="int" default="-1" />
		<variable name="time" type="int" default="0" />
		<variable name="reason" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>      
	<rpcdata name="ForbidUserRes">
		<variable name="retcode" type="int" default="0" />
		<variable name="forbid" type="GRoleForbid" attr="ref"/>
	</rpcdata>      
	<rpc debug="0" name="ForbidUser" type="8004" argument="ForbidUserArg" result="ForbidUserRes" maxsize="256" prior="1" timeout="40"/>
	<rpc debug="0" name="DBForbidUser" type="5037" argument="ForbidUserArg" result="RpcRetcode" maxsize="256" prior="1" timeout="40"/>

	<protocol debug="0" name="DomainLogin" type="700" maxsize="128" prior="1">
		<variable name="nonce" type="Octets" />
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol debug="0" name="DomainValidate" type="770" maxsize="1024" prior="1">
		<variable name="version" type="Octets" />
		<variable name="nonce" type="Octets" />
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol debug="0" name="DomainCmd" type="771" maxsize="1024" prior="1">
		<variable name="cmd" type="Octets" />
		<variable name="stamp" type="Octets" />
		<variable name="length" type="int" />
		<variable name="dest" type="char" />
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol debug="0" name="DomainCmd_Re" type="772" maxsize="65535" prior="1">
		<variable name="res" type="Octets" />
		<variable name="serial" type="int" />
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol debug="0" name="AutolockSet" type="782" maxsize="128" prior="1">
		<variable name="roleid" type="int" />
		<variable name="userid" type="int" />
		<variable name="timeout" type="int" />
		<variable name="localsid" type="int" />
	</protocol>
	<protocol debug="0" name="AutolockSet_Re" type="783" maxsize="128" prior="1">
		<variable name="result" type="int" />
		<variable name="timeout" type="int" />
		<variable name="localsid" type="int" />
	</protocol>
	<rpcdata name="DBAutolockSetArg">
		<variable name="userid" type="int"/>
		<variable name="autolock" type="std::vector&lt;GPair&gt;" default="std::vector&lt;GPair&gt;()"/>
	</rpcdata>
	<rpc debug="0" name="DBAutolockSet" type="784" result="Integer" maxsize="256" prior="1" timeout="30"/>
	<protocol name="AutolockChanged" type="785" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="locktime" type="int"/>
		<variable name="timeout" type="int"/>
		<variable name="settime" type="int"/>
	</protocol>

	<!--******************************************************************************-->
	<!--Protocols and rpc used by MNFaction, id 5201-5300 guoshi				  -->
	<!--******************************************************************************-->
	<!--初始化--><!--5201~5210-->
    <rpcdata name="MNDomainInfo" attr="vector">
		<variable name="domain_id" type="int" default="0"/>
		<variable name="domain_type" type="unsigned char" default="0"/>
		<variable name="owner_unifid" type="int64_t" default="0"/>
		<variable name="attacker_unifid" type="int64_t" default="0"/>
		<variable name="defender_unifid" type="int64_t" default="0"/>
	</rpcdata>
    <rpcdata name="MNFactionInfo" attr="vector">
		<variable name="unifid" type="int64_t" default="0"/>
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="faction_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="master_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="zoneid" type="int" default="0"/>
		<variable name="domain_num" type="std::vector&lt;char&gt;" attr="ref" default="std::vector&lt;char&gt;()"/>
		<variable name="credit" type="int" default="0"/>
		<variable name="credit_this_week" type="int" default="0"/>
		<variable name="credit_get_time" type="int" default="0"/>
		<variable name="invite_count" type="unsigned int" default="0"/>
		<variable name="accept_sn" type="unsigned int" default="0"/>
		<variable name="bonus_sn" type="unsigned int" default="0"/>
		<variable name="version" type="unsigned int" default="0"/>
	</rpcdata>
    <rpcdata name="DBMNFactionInfoGetRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="sn" type="unsigned int" default="0"/>
		<variable name="state" type="unsigned char" default="0"/>
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
		<variable name="domaininfo_list" type="MNDomainInfoVector" attr="ref" default="MNDomainInfoVector()"/>
		<variable name="factioninfo_list" type="MNFactionInfoVector" attr="ref" default="MNFactionInfoVector()"/>
	</rpcdata>
    <rpcdata name="DBMNFactionInfoGetArg">
        <variable name="handle" type="Octets" attr="ref" default="Octets()"/>
	</rpcdata>
	<rpc debug="0" name="DBMNFactionInfoGet" type="5201" argument="DBMNFactionInfoGetArg" result="DBMNFactionInfoGetRes" maxsize="1048576" prior="1" timeout="30"/>
	<protocol name="MNFactionCacheGet" type="5202" maxsize="32" prior="1">
		<variable name="zoneid" type="int"/>
	</protocol>
	<protocol name="MNFactionCacheGet_Re" type="5203" maxsize="1048576" prior="1">
		<variable name="sn" type="unsigned int"/>
		<variable name="apply_begin_time" type="int"/>
		<variable name="apply_end_time" type="int"/>
		<variable name="cross_begin_time" type="int"/>
		<variable name="battle_begin_time" type="int"/>
		<variable name="battle_end_time" type="int"/>
		<variable name="domaininfo_list" type="MNDomainInfoVector" attr="ref"/>
		<variable name="factioninfo_list" type="MNFactionInfoVector" attr="ref"/>
	</protocol>
	<protocol name="DBMNFactionCacheUpdate" type="5204" maxsize="1048576" prior="1">
		<variable name="factioninfo_list" type="MNFactionInfoVector" attr="ref" />
	</protocol>
	<protocol name="MNFactionInfoUpdate" type="5205" maxsize="1048576" prior="1">
		<variable name="zoneid" type="int"/>
		<variable name="factioninfo_list" type="MNFactionInfoVector" attr="ref"/>
	</protocol>
	<rpcdata name="DBMNFactionInfoUpdateArg">
		<variable name="factioninfo_list" type="MNFactionInfoVector" attr="ref" default="MNFactionInfoVector()"/>
	</rpcdata>
	<rpcdata name="DBMNFactionInfoUpdateRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="DBMNFactionInfoUpdate" type="5206" argument="DBMNFactionInfoUpdateArg" result="DBMNFactionInfoUpdateRes" maxsize="1048576" prior="1" timeout="30"/>

	<rpcdata name="DBMNDomainInfoUpdateArg">
		<variable name="domaininfo_list" type="MNDomainInfoVector" attr="ref" default="MNDomainInfoVector()"/>
	</rpcdata>
	<rpcdata name="DBMNDomainInfoUpdateRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="DBMNDomainInfoUpdate" type="5207" argument="DBMNDomainInfoUpdateArg" result="DBMNDomainInfoUpdateRes" maxsize="1048576" prior="1" timeout="30"/>

	<rpcdata name="DBMNFactionApplyInfoGetArg">
        <variable name="handle" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>   
	<rpcdata name="DBMNFactionApplyInfoGetRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="applyinfo_list" type="MNFactionApplyInfoVector" attr="ref" default="MNFactionApplyInfoVector()"/>
	</rpcdata>   
	<rpc debug="0" name="DBMNFactionApplyInfoGet" type="5208" argument="DBMNFactionApplyInfoGetArg" result="DBMNFactionApplyInfoGetRes" maxsize="1048576" prior="1" timeout="30"/>

	<protocol name="MNDomainInfoGSNotice" type="5209" maxsize="4096" prior="1">
		<variable name="domaininfo_list" type="MNDomainInfoVector" attr="ref"/>
	</protocol>
	
	<rpcdata name="DBMNFactionStateUpdateArg">
		<variable name="state" type="unsigned char" default="0"/>
	</rpcdata>   
	<rpcdata name="DBMNFactionStateUpdateRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>   
	<rpc debug="0" name="DBMNFactionStateUpdate" type="5210" argument="DBMNFactionStateUpdateArg" result="DBMNFactionStateUpdateRes" maxsize="32" prior="1" timeout="30"/>

	<!--报名和宣战--><!--5211~5219-->
    <rpcdata name="MNFactionApplyInfo" attr="vector">
        <variable name="unifid" type="int64_t" default="0"/>
        <variable name="applicant_id" type="int" default="0"/>
        <variable name="dest" type="unsigned char" default="0"/>
        <variable name="cost" type="unsigned int" default="0"/>
    </rpcdata>
	<protocol name="MNFactionBattleApply" type="5211" maxsize="131072" prior="1">
        <variable name="fid" type="unsigned int"/>
		<variable name="unifid" type="int64_t"/> 
        <variable name="roleid" type="int"/>
        <variable name="target" type="unsigned char"/>
		<variable name="cost" type="unsigned int"/> 
        <variable name="syncdata" type="GMailSyncData" attr="ref"/>
	</protocol>
	<protocol name="MNFactionBattleApply_Re" type="5212" maxsize="1024" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="target" type="unsigned char"/>
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<rpcdata name="DBMNFactionBattleApplyArg">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="unifid" type="int64_t" default="0"/> 
        <variable name="roleid" type="int" default="0"/>
        <variable name="target" type="unsigned char" default="0"/>
		<variable name="cost" type="unsigned int" default="0"/> 
		<variable name="zoneid" type="int" default="0"/>
        <variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>   
	<rpcdata name="DBMNFactionBattleApplyRes">
		<variable name="retcode" type="int" default="-1"/>
        <variable name="roleid" type="int" default="0"/>
		<variable name="factioninfo" type="MNFactionInfo" default="MNFactionInfo()" attr="ref"/>
		<variable name="applyinfo" type="MNFactionApplyInfo" default="MNFactionApplyInfo()" attr="ref"/>
        <variable name="syncdata" type="GMailSyncData" default="GMailSyncData()" attr="ref"/>
	</rpcdata>   
	<rpc debug="0" name="DBMNFactionBattleApply" type="5213" argument="DBMNFactionBattleApplyArg" result="DBMNFactionBattleApplyRes" maxsize="1048576" prior="1" timeout="30"/>
	
	<protocol name="MNFactionProclaim" type="5214" maxsize="1048576" prior="1">
		<variable name="zoneid" type="int"/>
		<variable name="applyinfo_list" type="MNFactionApplyInfoVector" attr="ref"/>
		<variable name="factioninfo_list" type="MNFactionInfoVector" attr="ref"/>
		<variable name="lvl3_list" type="std::vector&lt;int64_t&gt;" default="std::vector&lt;int64_t&gt;()" attr="ref"/>
	</protocol>
	<protocol name="MNFactionProclaim_Re" type="5215" maxsize="256" prior="1">
		<variable name="retcode" type="int"/>
	</protocol>
	<rpcdata name="DBMNFactionApplyResNotifyArg">
		<variable name="status" type="unsigned char"/>
		<variable name="rejected_list" type="std::vector&lt;int64_t&gt;" default="std::vector&lt;int64_t&gt;()" attr="ref"/>
		<variable name="chosen_list" type="std::vector&lt;int64_t&gt;" default="std::vector&lt;int64_t&gt;()" attr="ref"/>
	</rpcdata>   
	<rpcdata name="DBMNFactionApplyResNotifyRes">
		<variable name="retcode" type="int"/>
	</rpcdata>   
	<rpc debug="0" name="DBMNFactionApplyResNotify" type="5216" argument="DBMNFactionApplyResNotifyArg" result="DBMNFactionApplyResNotifyRes" maxsize="4096" prior="1" timeout="30"/>
	<rpcdata name="DBMNFactionApplyInfoPutArg">
		<variable name="applyinfo_list" type="MNFactionApplyInfoVector" attr="ref"/>
	</rpcdata>   
	<rpcdata name="DBMNFactionApplyInfoPutRes">
		<variable name="retcode" type="int"/>
	</rpcdata>   
	<rpc debug="0" name="DBMNFactionApplyInfoPut" type="5217" argument="DBMNFactionApplyInfoPutArg" result="DBMNFactionApplyInfoPutRes" maxsize="1048576" prior="1" timeout="30"/>
	<protocol name="MNFetchFiltrateResult" type="5218" maxsize="32" prior="1">
		<variable name="zoneid" type="int"/>
	</protocol>
	<protocol name="MNFetchFiltrateResult_Re" type="5219" maxsize="4096" prior="1">
		<variable name="chosen_list" type="std::vector&lt;int64_t&gt;" attr="ref"/>
	</protocol>

	<!--战场匹配-->
	<rpcdata name="DBMNDomainBattleMatchArg">
		<variable name="domaininfo_list" type="MNDomainInfoVector" attr="ref" default="MNDomainInfoVector()"/>
	</rpcdata>   
	<rpcdata name="DBMNDomainBattleMatchRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>   
	<rpc debug="0" name="DBMNDomainBattleMatch" type="5220" argument="DBMNDomainBattleMatchArg" result="DBMNDomainBattleMatchRes" maxsize="4096" prior="1" timeout="30"/>

	<!--战场结算--><!--5221~5229-->
	<protocol name="MNBattleServerRegister" type="5221" maxsize="32" prior="1">
		<variable name="server_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>
	<protocol name="MNDomainBattleStart" type="5222" maxsize="256" prior="1">
		<variable name="domain_id" type="int"/>
		<variable name="sn" type="unsigned int"/>
		<variable name="domain_type" type="unsigned char"/>
		<variable name="owner" type="int64_t"/>
		<variable name="attacker" type="int64_t"/>
		<variable name="defender" type="int64_t"/>
		<variable name="expiretime" type="int"/>
	</protocol>
	<protocol name="MNDomainBattleStart_Re" type="5223" maxsize="32" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="domain_id" type="int"/>
		<variable name="world_tag" type="int"/>
	</protocol>
	<protocol name="MNDomainBattleEnter" type="5224" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="unifid" type="int64_t"/>
		<variable name="domain_id" type="int"/>
	</protocol>
	<protocol name="MNDomainBattleEnter_Re" type="5225" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="roleid" type="int"/>
		<variable name="unifid" type="int64_t"/>
		<variable name="world_tag" type="int"/>
		<variable name="domain_id" type="int"/>
	</protocol>
	<protocol name="MNDomainBattleEnterSuccessNotice" type="5226" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="unifid" type="int64_t"/>
		<variable name="domain_id" type="int"/>
	</protocol>
	<protocol name="MNDomainBattleLeaveNotice" type="5227" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="unifid" type="int64_t"/>
		<variable name="domain_id" type="int"/>
	</protocol>
	<protocol name="MNDomainBattleEnd" type="5228" maxsize="16" prior="1">
		<variable name="domain_id" type="int"/>
		<variable name="winner_fid" type="int64_t"/>
	</protocol>
	
	<!--战场奖励--><!--5230~5239-->
	<rpcdata name="MNDomainBonusRewardItem" attr="vector">
		<variable name="item_id" type="int" default="0"/> 
		<variable name="item_num" type="unsigned int" default="0"/>
		<variable name="proc_type" type="int" default="0"/> 
		<variable name="max_count" type="int" default="0"/> 
	</rpcdata>
	<rpcdata name="MNDomainBonus" attr="vector">
		<variable name="unifid" type="int64_t" default="0"/>
		<variable name="bonus_sn" type="unsigned int" default="0"/>
		<variable name="reward_list" type="MNDomainBonusRewardItemVector" attr="ref" default="MNDomainBonusRewardItemVector()"/>
		<variable name="master_reward" type="MNDomainBonusRewardItem" attr="ref" default="MNDomainBonusRewardItem()"/>
		<variable name="rolelist" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
	</rpcdata>
	<rpcdata name="DBMNPutBattleBonusArg">
		<variable name="sn" type="unsigned int" default="0"/>
		<variable name="bonus_list" type="MNDomainBonusVector" default="MNDomainBonusVector()"/>
	</rpcdata>
	<rpcdata name="DBMNPutBattleBonusRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="DBMNPutBattleBonus" type="5230" argument="DBMNPutBattleBonusArg" result="DBMNPutBattleBonusRes" maxsize="1048576" prior="1" timeout="30"/>
	<protocol name="MNDomainSendBonusData" type="5231" maxsize="1048576" prior="1">
		<variable name="bonus" type="MNDomainBonus"/>
	</protocol>
	<protocol name="MNDomainSendBonusData_Re" type="5232" maxsize="16" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="unifid" type="int64_t"/>
	</protocol>

	<rpcdata name="DBMNSendBattleBonusArg">
		<variable name="bonus" type="MNDomainBonus" default="MNDomainBonus()" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBMNSendBattleBonusRes">
		<variable name="retcode" type="int" default="-1"/>
		<variable name="maillist" type="GMailHeaderVector" default="GMailHeaderVector()" attr="ref"/>
	</rpcdata>
	<rpc debug="0" name="DBMNSendBattleBonus" type="5233" argument="DBMNSendBattleBonusArg" result="DBMNSendBattleBonusRes" maxsize="1048576" prior="1" timeout="30"/>

	<rpcdata name="DBMNSendBonusNotifyArg">
		<variable name="unifid" type="int64_t"/>
	</rpcdata>
	<rpcdata name="DBMNSendBonusNotifyRes">
		<variable name="retcode" type="int" default="-1"/>
	</rpcdata>
	<rpc debug="0" name="DBMNSendBonusNotify" type="5234" argument="DBMNSendBonusNotifyArg" result="DBMNSendBonusNotifyRes" maxsize="256" prior="1" timeout="30"/>

	<protocol name="MNFetchTopList" type="5235" maxsize="8" prior="1">
		<variable name="zoneid" type="int"/>
	</protocol>
	<protocol name="MNFetchTopList_Re" type="5236" maxsize="1048576" prior="1">
		<variable name="toplist" type="MNFactionBriefInfoVector"/>
	</protocol>

    <!--相应客户端的查询请求MNClient--> <!--5240 ~ 5249-->
	<rpcdata name="MNDomainData" attr="vector">
		<variable name="domain_id" type="int" default="0"/>
		<variable name="domain_type" type="unsigned char" default="0"/>
		<variable name="owner_unifid" type="int64_t" default="0"/>
		<variable name="faction_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="owner_rank" type="int" default="0"/> <!--0未上榜-->
		<variable name="master_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="zoneid" type="int" default="0"/>
		<variable name="credit" type="int" default="0"/>
		<variable name="attacker_unifid" type="int64_t" default="0"/>
		<variable name="attacker_zoneid" type="int" default="0"/>
		<variable name="attacker_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="attacker_rank" type="int" default="0"/> <!--0未上榜-->
		<variable name="defender_unifid" type="int64_t" default="0"/>
		<variable name="defender_zoneid" type="int" default="0"/>
		<variable name="defender_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="defender_rank" type="int" default="0"/> <!--0未上榜-->
	</rpcdata>
    <rpcdata name="MNFactionApplyData" attr="vector">
        <variable name="fid" type="unsigned int" default="0"/>
        <variable name="dest" type="unsigned char" default="0"/>
	</rpcdata>
	<protocol name="MNGetDomainData" type="5240" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol name="MNGetDomainData_Re" type="5241" maxsize="1048576" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="domain_data" type="MNDomainDataVector"/>
		<variable name="apply_data" type="MNFactionApplyDataVector"/>
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol name="MNGetPlayerLastEnterInfo" type="5242" maxsize="12" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol name="MNGetPlayerLastEnterInfo_Re" type="5243" maxsize="64" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="domain_id" type="int"/>
		<variable name="domain_type" type="unsigned char"/>
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol name="MNGetFactionBriefInfo" type="5244" maxsize="32" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="fid" type="unsigned int"/>
		<variable name="zoneid" type="int"/>
	</protocol>
	<rpcdata name="MNFactionBriefInfo" attr="vector">
		<variable name="fid" type="unsigned int" default="0"/>
		<variable name="faction_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="master_name" type="Octets" attr="ref" default="Octets()"/>
		<variable name="zoneid" type="int" default="0"/>
		<variable name="credit" type="int" default="0"/>
	</rpcdata>
	<protocol name="MNGetFactionBriefInfo_Re" type="5245" maxsize="4096" prior="1">
		<variable name="retcode" type="int" />
		<variable name="rank" type="int"/> <!--0未上榜-->
		<variable name="credit_this_week" type="int"/>
		<variable name="info" type="MNFactionBriefInfo"/>
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol name="MNGetTopList" type="5246" maxsize="16" prior="1">
		<variable name="roleid" type="int"/>
	</protocol>
	<protocol name="MNGetTopList_Re" type="5247" maxsize="1048576" prior="1">
		<variable name="retcode" type="int"/>
		<variable name="toplist" type="MNFactionBriefInfoVector"/>
		<variable name="localsid" type="unsigned int" />
	</protocol>
	<protocol name="MNGetFactionInfo" type="5248" maxsize="64" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="unifid" type="int64_t"/>
	</protocol>
	<protocol name="MNGetFactionInfo_Re" type="5249" maxsize="8192" prior="1">
		<variable name="retcode" type="int" />
        <variable name="mnfactioninfo" type="MNFactionInfo"/>
		<variable name="localsid" type="unsigned int" />
	</protocol>

	<!--******************************************************************************-->
	<!--Protocols used by CrossSystem, id 5301 = 5350                  -->
	<!--******************************************************************************-->
	<protocol name="CrossChat" type="5301" maxsize="8192" prior="1">
		<variable name="sn" type="int" />
		<variable name="zoneid" type="int" />
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="roleid" type="int"/>
		<variable name="timestamp" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>
	<protocol name="CrossChat_Re" type="5302" maxsize="8192" prior="1">
		<variable name="sn" type="int" />
		<variable name="zoneid" type="int" />
		<variable name="channel" type="unsigned char"/>
		<variable name="emotion" type="unsigned char"/>
		<variable name="roleid" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="msg" type="Octets" attr="ref"/>
		<variable name="data" type="Octets" attr="ref"/>
	</protocol>

	<!--******************************************************************************-->
	<!--Protocols and rpc used by GameTalk, id 8101-8166				  -->
	<!--******************************************************************************-->
	<rpcdata name="RoleImportBean">
		<variable name="uid" type="int64_t"/>
                <variable name="roleid" type="int64_t"/>
                <variable name="rolename" type="Octets" attr="ref"/>
                <variable name="gender" type="unsigned char"/>
                <variable name="race" type="int"/>
                <variable name="occupation" type="int"/>
                <variable name="level" type="int"/>
		<variable name="extinfo" type="Octets" attr="ref"/>
	</rpcdata>

        <rpcdata name="GroupBean" attr="vector">
                <variable name="gtype" type="int"/>
                <variable name="groupid" type="int64_t"/>
                <variable name="groupname" type="Octets" attr="ref"/>
                <variable name="friendlist" type="std::vector&lt;int64_t&gt;" attr="ref"/>
        </rpcdata>

	<rpcdata name="FriendImportBean">
		<variable name="zoneid" type="int"/>
                <variable name="roleid" type="int64_t"/>
		<variable name="friends" type="GroupBeanVector" attr="ref"/>
	</rpcdata>

        <rpcdata name="TitleBean" attr="vector">
                <variable name="titleid" type="int"/>
                <variable name="titlename" type="Octets" attr="ref"/>
                <variable name="members" type="std::vector&lt;int64_t&gt;" attr="ref"/>
        </rpcdata>

	<rpcdata name="FactionImportBean">
                <variable name="ftype" type="int"/>
                <variable name="factionid" type="int64_t"/>
                <variable name="factionname" type="Octets" attr="ref"/>
                <variable name="announcement" type="Octets" attr="ref"/>
                <variable name="extinfo" type="Octets" attr="ref"/>
		<variable name="members" type="TitleBeanVector" attr="ref"/>
	</rpcdata>

        <rpcdata name="RoleInfoBean" attr="vector">
                <variable name="roleid" type="int64_t" default="0"/>
                <variable name="rolename" type="Octets" attr="ref" default="Octets()"/>
                <variable name="gender" type="unsigned char" default="0"/>
                <variable name="race" type="int" default="0"/>
                <variable name="occupation" type="int" default="0"/>
                <variable name="level" type="int" default="0"/>
                <variable name="extinfo" type="Octets" attr="ref" default="Octets()"/>
        </rpcdata>

        <rpcdata name="RoleStatusBean">
                <variable name="status" type="unsigned char" default="0"/>
                <variable name="extinfo" type="Octets" attr="ref" default="Octets()"/>
        </rpcdata>

        <rpcdata name="RoleForbidBean">
                <variable name="endtime" type="std::map&lt;int,int64_t&gt;" attr="ref" />
                <variable name="extinfo" type="Octets" attr="ref" default="Octets()"/>
        </rpcdata>

        <rpcdata name="RoleBean" attr="vector">
                <variable name="info" type="RoleInfoBean" attr="ref" default="RoleInfoBean()"/>
                <variable name="status" type="RoleStatusBean" attr="ref" default="RoleStatusBean()"/>
        </rpcdata>

        <rpcdata name="RoleDetailBean" attr="vector">
                <variable name="info" type="RoleInfoBean" attr="ref" default="RoleInfoBean()"/>
                <variable name="status" type="RoleStatusBean" attr="ref" default="RoleStatusBean()"/>
                <variable name="forbid" type="RoleForbidBean" attr="ref" default="RoleForbidBean()"/>
        </rpcdata>

        <rpcdata name="RoleGroupBean" attr="vector">
                <variable name="gtype" type="int" default="0"/>
                <variable name="groupid" type="int64_t" default="0"/>
                <variable name="groupname" type="Octets" attr="ref" default="Octets()"/>
                <variable name="friends" type="RoleBeanVector" attr="ref" default="RoleBeanVector()"/>
        </rpcdata>

        <rpcdata name="RoleMsgBean" attr="vector">
                <variable name="sender" type="int64_t" default="0"/>
                <variable name="sendername" type="Octets" attr="ref" default="Octets()"/>
                <variable name="time" type="int64_t" default="0"/>
                <variable name="emotiongroup" type="int" default="0"/>
                <variable name="content" type="Octets" attr="ref" default="Octets()"/>
        </rpcdata>

        <rpcdata name="FactionIDBean" attr="vector">
                <variable name="ftype" type="int" default="0"/>
                <variable name="factionid" type="int64_t" default="0"/>
        </rpcdata>
        <rpcdata name="FactionInfoBean">
                <variable name="factionname" type="Octets" attr="ref" default="Octets()"/>
                <variable name="announcement" type="Octets" attr="ref" default="Octets()"/>
                <variable name="extinfo" type="Octets" attr="ref" default="Octets()"/>
        </rpcdata>

        <rpcdata name="FactionTitleBean" attr="vector">
                <variable name="titleid" type="int" default="0"/>
                <variable name="titlename" type="Octets" attr="ref" default="Octets()"/>
                <variable name="titlemembers" type="RoleBeanVector" attr="ref" default="RoleBeanVector()"/>
        </rpcdata>
		<rpcdata name="FactionExt">
				<variable name="level" type="int" default="0"/>
				<variable name="exp" type="int" default="0"/>
				<variable name="fortress_lvl" type="int" default="0"/>
				<variable name="health" type="int" default="0"/> 
		</rpcdata>
		<rpcdata name="CityWar">
				<variable name="citylist" type="std::vector&lt;GCity&gt;" default="std::vector&lt;GCity&gt;()"/>
		</rpcdata>
		
		<rpcdata name="TeamBean" attr="vector">
				<variable name="teamid" type="int64_t" default="0"/>
				<variable name="captain" type="int64_t" default="0"/>
				<variable name="members" type="std::vector&lt;int64_t&gt;" attr="ref" default="std::vector&lt;int64_t&gt;()"/>
		</rpcdata>

        <protocol name="AnnounceZoneidToIM" type="8101" maxsize="64" prior="1">
                <variable name="aid" type="int"/>
                <variable name="zoneid" type="int"/>
                <variable name="boottime" type="int64_t"/>
        </protocol>

        <protocol name="GameSysMsg" type="8102" maxsize="2048" prior="1">
                <variable name="mtype" type="int"/>
                <variable name="time" type="int64_t"/>
                <variable name="emotiongroup" type="int"/>
                <variable name="content" type="Octets" attr="ref"/>
        </protocol>

        <protocol name="GameDataReq" type="8103" maxsize="1024" prior="1">
                <variable name="dtype" type="int"/>
                <variable name="id" type="int64_t"/>
        </protocol>

        <protocol name="GameDataResp" type="8104" maxsize="1048576" prior="1">
                <variable name="dtype" type="int"/>
                <variable name="id" type="int64_t"/>
                <variable name="retcode" type="char"/>
                <variable name="data" type="Octets" attr="ref"/>
        </protocol>

        <protocol name="IMKeepAlive" type="8105" maxsize="16" prior="1">
                <variable name="code" type="char"/>
        </protocol>

        <protocol name="AnnounceResp" type="8106" maxsize="32" prior="1">
                <variable name="code" type="int"/>
                <variable name="boottime" type="int64_t" default="0"/>
        </protocol>

        <protocol name="RoleListReq" type="8121" maxsize="32" prior="1">
                <variable name="userid" type="int64_t"/>
        </protocol>

        <protocol name="RoleListResp" type="8122" maxsize="2048" prior="1">
                <variable name="userid" type="int64_t"/>
                <variable name="roles" type="RoleDetailBeanVector" attr="ref" default="RoleDetailBeanVector()"/>
        </protocol>

        <protocol name="RoleRelationReq" type="8123" maxsize="32" prior="1">
                <variable name="userid" type="int64_t"/>
                <variable name="roleid" type="int64_t" default="0"/>
        </protocol>

        <protocol name="RoleRelationResp" type="8124" maxsize="1048576" prior="1">
                <variable name="userid" type="int64_t"/>
                <variable name="roleinfo" type="RoleBean" attr="ref" default="RoleBean()"/>
                <variable name="factions" type="FactionIDBeanVector" attr="ref" default="FactionIDBeanVector()"/>
                <variable name="friends" type="RoleGroupBeanVector" attr="ref" default="RoleGroupBeanVector()"/>
                <variable name="blacklist" type="RoleInfoBeanVector" attr="ref" default="RoleInfoBeanVector()"/>
        </protocol>

        <protocol name="RoleStatusReq" type="8125" maxsize="65535" prior="1">
                <variable name="localrid" type="int64_t"/>
                <variable name="rolelist" type="std::vector&lt;int64_t&gt;" attr="ref" default="std::vector&lt;int64_t&gt;()"/>
        </protocol>

        <protocol name="RoleStatusResp" type="8126" maxsize="1048576" prior="1">
                <variable name="localrid" type="int64_t"/>
                <variable name="rolestatus" type="std::map&lt;int64_t,RoleStatusBean&gt;" attr="ref"/>
        </protocol>

        <protocol name="RoleStatusUpdate" type="8127" maxsize="1024" prior="1">
                <variable name="roleid" type="int64_t"/>
                <variable name="status" type="RoleStatusBean" attr="ref" default="RoleStatusBean()"/>
                <variable name="friends" type="std::vector&lt;int64_t&gt;" attr="ref" default="std::vector&lt;int64_t&gt;()"/>
                <variable name="factions" type="FactionIDBeanVector" attr="ref" default="FactionIDBeanVector()"/>
        </protocol>

        <protocol name="RoleGroupUpdate" type="8128" maxsize="1024" prior="1">
                <variable name="roleid" type="int64_t"/>
                <variable name="gtype" type="int"/>
                <variable name="groupid" type="int64_t"/>
                <variable name="groupname" type="Octets" attr="ref"/>
                <variable name="operation" type="char"/>
        </protocol>

        <protocol name="RoleFriendUpdate" type="8129" maxsize="1024" prior="1">
                <variable name="roleid" type="int64_t"/>
                <variable name="rolefriend" type="RoleBean" attr="ref"/>
                <variable name="gtype" type="int"/>
                <variable name="groupid" type="int64_t"/>
                <variable name="operation" type="char"/>
        </protocol>

        <protocol name="RoleBlacklistUpdate" type="8130" maxsize="1024" prior="1">
                <variable name="roleid" type="int64_t"/>
                <variable name="target" type="RoleInfoBean" attr="ref"/>
                <variable name="operation" type="char"/>
        </protocol>

        <protocol name="RoleMsg" type="8131" maxsize="2048" prior="1">
                <variable name="receiver" type="int64_t"/>
                <variable name="message" type="RoleMsgBean" attr="ref"/>
        </protocol>

        <protocol name="RoleOfflineMessages" type="8132" maxsize="1048576" prior="1">
                <variable name="receiver" type="int64_t"/>
                <variable name="messages" type="RoleMsgBeanVector" attr="ref"/>
        </protocol>

        <protocol name="RoleActivation" type="8133" maxsize="64" prior="1">
           <variable name="roleid" type="int64_t"/>
                <variable name="operation" type="char" default="0"/>
        </protocol>

        <protocol name="RemoveRole" type="8134" maxsize="64" prior="1">
                <variable name="userid" type="int64_t"/>
                <variable name="roleid" type="int64_t"/>
        </protocol>

        <protocol name="RoleInfoUpdate" type="8135" maxsize="65535" prior="1">
                <variable name="roleinfo" type="RoleInfoBean" attr="ref"/>
                <variable name="updateflag" type="int" default="0"/>
        </protocol>

        <protocol name="RoleForbidUpdate" type="8136" maxsize="65535" prior="1">
                <variable name="forbid" type="std::map&lt;int64_t,RoleForbidBean&gt;" attr="ref"/>
        </protocol>

        <protocol name="RoleInfoReq" type="8137" maxsize="1024" prior="1">
          <variable name="localuid" type="int64_t"/>
          <variable name="roleid" type="int64_t"/>
        </protocol>

        <protocol name="RoleInfoResp" type="8138" maxsize="65535" prior="1">
          <variable name="localuid" type="int64_t"/>
          <variable name="roleinfo" type="RoleInfoBean" attr="ref"/>
        </protocol>

		<protocol name="SyncTeams" type="8151" maxsize="1048576" prior="1">
			<variable name="teams" type="TeamBeanVector" attr="ref" default="TeamBeanVector()"/>
		</protocol>
		
		<protocol name="TeamCreate" type="8152" maxsize="1048576" prior="1">
		  		<variable name="team" type="TeamBean"/>
		</protocol>

		<protocol name="TeamDismiss" type="8153" maxsize="1048576" prior="1">
				<variable name="teamid" type="int64_t"/>
		</protocol>

		<protocol name="TeamMemberUpdate" type="8154" maxsize="1048576" prior="1">
				<variable name="teamid" type="int64_t"/>
                <variable name="members" type="std::vector&lt;int64_t&gt;" attr="ref" default="std::vector&lt;int64_t&gt;()"/>
				<variable name="operation" type="char" default="0"/>
		</protocol>

        <protocol name="FactionInfoReq" type="8161" maxsize="32" prior="1">
                <variable name="localuid" type="int64_t"/>
                <variable name="factionid" type="FactionIDBean" attr="ref"/>
        </protocol>

        <protocol name="FactionInfoResp" type="8162" maxsize="1048576" prior="1">
                <variable name="localuid" type="int64_t"/>
                <variable name="factionid" type="FactionIDBean" attr="ref" default="FactionIDBean()"/>
                <variable name="factioninfo" type="FactionInfoBean" attr="ref" default="FactionInfoBean()"/>
                <variable name="members" type="FactionTitleBeanVector" attr="ref" default="FactionTitleBeanVector()"/>
                <variable name="forbidlist" type="Octets" attr="ref" default="Octets()"/>
        </protocol>

        <protocol name="FactionMemberUpdate" type="8163" maxsize="1048576" prior="1">
                <variable name="factionid" type="FactionIDBean" attr="ref"/>
                <variable name="roles" type="RoleBeanVector" attr="ref" default="RoleBeanVector()"/>
                <variable name="titleid" type="int" default="0"/>
                <variable name="operation" type="char" default="0"/>
        </protocol>

        <protocol name="FactionInfoUpdate" type="8164" maxsize="1024" prior="1">
                <variable name="factionid" type="FactionIDBean" attr="ref"/>
                <variable name="factioninfo" type="FactionInfoBean" attr="ref" default="FactionInfoBean()"/>
                <variable name="updateflag" type="int" default="0"/>
        </protocol>

        <protocol name="FactionMsg" type="8165" maxsize="2048" prior="1">
                <variable name="factionid" type="FactionIDBean" attr="ref"/>
                <variable name="message" type="RoleMsgBean" attr="ref"/>
        </protocol>

        <protocol name="RemoveFaction" type="8166" maxsize="64" prior="1">
                <variable name="factionid" type="FactionIDBean" attr="ref"/>
        </protocol>

        <protocol name="FactionForbidUpdate" type="8167" maxsize="1048576" prior="1">
                <variable name="factionid" type="FactionIDBean" attr="ref"/>
                <variable name="updateforbid" type="Octets" attr="ref" default="Octets()"/>
        </protocol>

		<protocol name="RoleEnterVoiceChannel" type="8177" maxsize="2048" prior="101">
				<variable name="userid" type="int64_t"/>
				<variable name="roleid" type="int64_t"/>
				<variable name="zoneid" type="int"/>
				<variable name="seq" type="int64_t"/>
				<variable name="timestamp" type="int64_t"/>
		</protocol>

		<protocol name="RoleEnterVoiceChannelAck" type="8179" maxsize="2048" prior="101">
				<variable name="userid" type="int64_t"/>
				<variable name="roleid" type="int64_t"/>
				<variable name="zoneid" type="int"/>
				<variable name="seq" type="int64_t"/>
				<variable name="timestamp" type="int64_t"/>
		</protocol>

		<protocol name="RoleLeaveVoiceChannel" type="8178" maxsize="2048" prior="101">
				<variable name="userid" type="int64_t"/>
				<variable name="roleid" type="int64_t"/>
				<variable name="zoneid" type="int"/>
				<variable name="seq" type="int64_t"/>
				<variable name="timestamp" type="int64_t"/>
		</protocol>

		<protocol name="RoleLeaveVoiceChannelAck" type="8280" maxsize="2048" prior="101">
				<variable name="userid" type="int64_t"/>
				<variable name="roleid" type="int64_t"/>
				<variable name="zoneid" type="int"/>
				<variable name="seq" type="int64_t"/>
				<variable name="timestamp" type="int64_t"/>
		</protocol>

	<!--  ****************************************************************************************************  -->
	<!--    Protocols and Rpcs used in GameTalk/SNS System is 4451 - 4500 				   				        -->
	<!--  ****************************************************************************************************  -->

	<!-- GameTalk系统相关gamed协议  4460 -->
	<protocol name="PlayerInfoUpdate" type="4460" maxsize="64" prior="1">
			<variable name="roleid" type="int"/>
			<variable name="level" type="int"/>
	</protocol>

	<protocol name="PlayerTeamOp" type="4461" maxsize="1048576" prior="1">
			<variable name="operation" type="char"/>
			<variable name="team_uid" type="int64_t" default="0"/>
			<variable name="captain" type="int64_t" default ="0"/>
			<variable name="members" type="std::vector&lt;int&gt;" attr="ref" default="std::vector&lt;int&gt;()"/>
	</protocol>

	<protocol name="PlayerTeamMemberOp" type="4462" maxsize="16" prior="1">
			<variable name="team_uid" type="int64_t"/>
			<variable name="operation" type="char"/>
			<variable name="member" type="int"/>
	</protocol>
	
	<protocol name="PlayerEnterLeaveGT" type="4463" maxsize="16" prior="1">
			<variable name="roleid" type="int"/>
			<variable name="operation" type="char"/>
	</protocol>

	<!-- GameTalk系统相关db操作rpc  4451-4459 -->
	<rpcdata name="DBGameTalkRoleListArg">
		<variable name="userid" type="int"/>
	</rpcdata>
	<rpcdata name="DBRoleDetail" attr="vector">
		<variable name="info" type="RoleInfoBean" attr="ref"/>
		<variable name="forbid" type="RoleForbidBean" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBGameTalkRoleListRes">
		<variable name="retcode" type="int"/>
		<variable name="rolelist" type="DBRoleDetailVector" attr="ref"/>
	</rpcdata>
	<rpc name="DBGameTalkRoleList" type="4451" argument="DBGameTalkRoleListArg" result="DBGameTalkRoleListRes" maxsize="4096" prior="1" timeout="30"/>

	<rpcdata name="DBGameTalkRoleRelationArg">
		<variable name="roleid" type="int"/>
	</rpcdata>
	<rpcdata name="DBRoleBase" attr="vector">
		<variable name="roleid" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBRoleGroup" attr="vector">
		<variable name="gtype" type="int"/>
		<variable name="id" type="char"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="friends" type="DBRoleBaseVector" attr="ref"/>
	</rpcdata>
	<rpcdata name="DBGameTalkRoleRelationRes">
		<variable name="retcode" type="int"/>
		<variable name="info" type="RoleBean" attr="ref"/>
		<variable name="factions" type="FactionIDBeanVector" attr="ref"/>
		<variable name="groups" type="DBRoleGroupVector" attr="ref"/>
	</rpcdata>
	<rpc name="DBGameTalkRoleRelation" type="4452" argument="DBGameTalkRoleRelationArg" result="DBGameTalkRoleRelationRes" maxsize="1048576" prior="1" timeout="30"/>
	
	<rpcdata name="DBGameTalkFactionInfoArg">
		<variable name="factionid" type="unsigned int"/>
	</rpcdata>
	<rpcdata name="DBFactionMember" attr="vector">
		<variable name="info" type="DBRoleBase" attr="ref"/>
		<variable name="title" type="int"/>
	</rpcdata>
	<rpcdata name="DBGameTalkFactionInfoRes">
		<variable name="retcode" type="int"/>
		<variable name="name" type="Octets" attr="ref"/>
		<variable name="announce" type="Octets" attr="ref"/>
		<variable name="exinfo" type="Octets" attr="ref"/>
		<variable name="members" type="DBFactionMemberVector" attr="ref"/>
	</rpcdata>
	<rpc name="DBGameTalkFactionInfo" type="4453" argument="DBGameTalkFactionInfoArg" result="DBGameTalkFactionInfoRes" maxsize="1048576" prior="1" timeout="30"/>

	<rpcdata name="DBGameTalkRoleStatusArg">
		<variable name="roleid" type="int"/>
	</rpcdata>
	<rpcdata name="DBGameTalkRoleStatusRes">
		<variable name="status" type="int"/>
		<variable name="forbid_time" type="int64_t"/>
		<variable name="userid" type="unsigned int"/>
	</rpcdata>
	<rpc name="DBGameTalkRoleStatus" type="4454" argument="DBGameTalkRoleStatusArg" result="DBGameTalkRoleStatusRes" maxsize="1024" prior="1" timeout="30"/>

	<rpcdata name="DBGameTalkRoleInfoArg">
		<variable name="roleid" type="int"/>
	</rpcdata>
	<rpcdata name="DBGameTalkRoleInfoRes">
		<variable name="retcode" type="int"/>
		<variable name="info" type="RoleInfoBean" attr="ref"/>
	</rpcdata>
	<rpc name="DBGameTalkRoleInfo" type="4455" argument="DBGameTalkRoleInfoArg" result="DBGameTalkRoleInfoRes" maxsize="1024" prior="1" timeout="30"/>

	<!--SNS相关协议 4471-4480 -->
	<!--AnnounceZoneidToIM-->
	<!--GameDataReq-->
	<!--GameDataResp-->
	<rpcdata name="SNSRoleBrief">
		<variable name="level" type="int" default="0"/>
		<variable name="exp" type="int" default="0"/>
		<variable name="sp" type="int" default="0"/>
		<variable name="level2" type="int" default="0"/>
		<variable name="reputation" type="int" default="0"/>
		<variable name="pp" type="int" default="0"/>
		<variable name="vitality" type="int" default="0"/>
		<variable name="energy" type="int" default="0"/>
		<variable name="strength" type="int" default="0"/>
		<variable name="agility" type="int" default="0"/>
		<variable name="max_hp" type="int" default="0"/>
		<variable name="max_mp" type="int" default="0"/>
		<variable name="run_speed" type="float" default="0.0"/>
		<variable name="attack" type="int" default="0"/>
		<variable name="damage_low" type="int" default="0"/>
		<variable name="damage_high" type="int" default="0"/>
		<variable name="attack_speed" type="int" default="0"/>
		<variable name="attack_range" type="float" default="0.0"/>
		<variable name="damage_magic_low" type="int" default="0"/>
		<variable name="damage_magic_high" type="int" default="0"/>
		<variable name="resistance0" type="int" default="0"/>
		<variable name="resistance1" type="int" default="0"/>
		<variable name="resistance2" type="int" default="0"/>
		<variable name="resistance3" type="int" default="0"/>
		<variable name="resistance4" type="int" default="0"/>
		<variable name="defense" type="int" default="0"/>
		<variable name="armor" type="int" default="0"/>
		<variable name="crit_rate" type="int" default="0"/>
		<variable name="crit_damage" type="int" default="0"/>
		<variable name="attack_degree" type="int" default="0"/>
		<variable name="defend_degree" type="int" default="0"/>
		<variable name="invisible_degree" type="int" default="0"/>
		<variable name="anti_invisible_degree" type="int" default="0"/>
		<variable name="soul_power" type="int" default="0"/>
		<variable name="skills_crc" type="unsigned int" default="0"/>
		<variable name="equipment_crc" type="unsigned int" default="0"/>
		<variable name="petcorral_crc" type ="unsigned int" default="0"/>
		<variable name="spouse" type="int" default="0"/>
		<variable name="factionid" type="int" default="0"/>
	</rpcdata>
	<rpcdata name="SNSRoleSkills">
		<variable name="crc" type="unsigned int" default="0"/>
		<variable name="skills" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<rpcdata name="SNSRoleEquipment">
		<variable name="crc" type="unsigned int" default="0"/>
		<variable name="equipment" type="GRoleEquipment" default="GRoleEquipment()" attr="ref"/>
	</rpcdata>
	<rpcdata name="SNSRolePetCorral">
		<variable name="crc" type="unsigned int" default="0"/>
		<variable name="petcorral" type="Octets" default="Octets()" attr="ref"/>
	</rpcdata>
	<protocol name="SNSRoleBriefUpdate" type="4471" maxsize="40960" prior="1">
		<variable name="roleid" type="int"/>
		<variable name="brief" type="SNSRoleBrief" attr="ref"/>
		<variable name="skills" type="SNSRoleSkills" attr="ref"/>
		<variable name="equipment" type="SNSRoleEquipment" attr="ref"/>
		<variable name="petcorral" type="SNSRolePetCorral" attr="ref"/>
	</protocol>
	
	<!-- ************************ -->
	<!--  STATES of AC Server  -->
	<!-- ************************ -->
	<state name="ACServer" timeout="86400">
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="ACWhoAmI"/>
		<protocol ref="ACProtoStat"/>
		<protocol ref="GMKickoutUser_Re"/>
		<protocol ref="ACStatusAnnounce"/>
		<protocol ref="ACStatusAnnounce2"/>
		<protocol ref="ACReportCheater"/>
		<protocol ref="ACTriggerQuestion"/>
		<protocol ref="ACAccuse"/>
		
		<!--<protocol ref="PlayerStatusAnnounce"/>-->
	</state>
	<state name="ACClient" timeout="86400">
		<protocol ref="ACRemoteCode"/>
		<protocol ref="ACQuestion"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="ACKickoutUser"/>
		<protocol ref="ACReportCheater"/>		
		<protocol ref="ACAccuseRe"/>
	</state>
	<state name="ACControlServer" timeout="86400">
		<protocol ref="ACWhoAmI"/>
		<protocol ref="ACReloadConfig"/>
		<protocol ref="ACRemoteExe"/>
		<protocol ref="ACQuery"/>
		<protocol ref="ACSendCode"/>
	</state>
	<state name="ACControlClient" timeout="86400">
		<!--<protocol ref="ACCommand_Re"/>
		<protocol ref="ACData" />-->
		<protocol ref="ACConnectRe"/>
		<protocol ref="ACReloadConfigRe"/>
		<protocol ref="ACRemoteExeRe"/>
		<protocol ref="ACQLogInfo"/>
		<protocol ref="ACQuery" />
		<protocol ref="ACQUserStrs"/>
		<protocol ref="ACQUserOnline"/>
		<protocol ref="ACQMouseInfo" />
		<protocol ref="ACQThreadTimes" />
		<protocol ref="ACQProtocolStats" />
		<protocol ref="ACQStrOwner"/>
		<protocol ref="ACCheaters"/>
		<protocol ref="ACQPatterns"/>
		<protocol ref="ACForbidProcess"/>
		<protocol ref="ACQPlatformInfo"/>
		<protocol ref="ACBriefInfo"/>
		<protocol ref="ACPeriodInfo"/>
		<protocol ref="ACQCodeRes"/>
		<protocol ref="ACVersion"/>
	</state>


	<!-- ************************ -->
	<!--  STATES of GLink Server  -->
	<!-- ************************ -->
	<state name="GLoginServer" timeout="60">
		<protocol ref="Response"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="DomainLogin"/>
		<!--cross server-->
		<protocol ref="KeyReestablish"/>
	</state>	
	<state name="GResponseReceive" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GKeyReestablished" timeout="60"><!--跨服登录引入-->
		<protocol ref="SelectRole"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GVerifyMatrix" timeout="180">
		<protocol ref="MatrixResponse"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GKeyExchgSend" timeout="60">
		<protocol ref="KeyExchange"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>	
	<state name="GKeyExchgSucc" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GRoleList" timeout="60">
		<protocol ref="RoleList"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GRoleList_OnGame" timeout="60">
		<protocol ref="RoleList"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="GamedataSend"/>
		<protocol ref="PlayerBaseInfo"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GRoleListReceive" timeout="120">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GSelectRoleServer" timeout="86400">
		<protocol ref="CreateRole"/>
		<protocol ref="DeleteRole"/>
		<protocol ref="SelectRole"/>
		<protocol ref="UndoDeleteRole"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="SetCustomData"/>
		<protocol ref="GetCustomData"/>
		<protocol ref="SetHelpStates"/>
		<protocol ref="GetHelpStates"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="WebTradeRolePrePost"/>
		<protocol ref="WebTradeRolePreCancelPost"/>
		<protocol ref="WebTradeRoleGetDetail"/>
		<protocol ref="GetPlayerIDByName"/>
		<protocol ref="SSOGetTicket"/>
	</state>
	<state name="GSelectRoleReceive" timeout="120">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="CancelWaitQueue"/>
		
		<!-- reset player pos -->
		<rpc ref="PlayerPositionResetRqst"/>

	</state>
	<!-- reset player pos -->
	<state name="GResetPlayerPosReceive" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GCreateRoleReceive" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GDeleteRoleReceive" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GUndoDeleteRoleReceive" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GReadyGame" timeout="120">
		<protocol ref="EnterWorld"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="SetHelpStates"/>
		<protocol ref="GetHelpStates"/>
	</state>	
	<state name="__only_for_stub" timeout="120" >
		<protocol ref="BINDER" maxsize="65536"/>
		<protocol ref="COMPRESSBINDER" maxsize="65536"/>
	</state>
	<state name="GDomainServer" timeout="120">
		<protocol ref="DomainValidate"/>
		<protocol ref="DomainCmd"/>
	</state>      
	<state name="GWebTradeOpReceive" timeout="60">
		<protocol ref="KeepAlive"/>
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
	</state>
	<state name="GDataExchgServer" timeout="120">
		<protocol ref="RoleList"/>
		<protocol ref="GamedataSend"/>
		<protocol ref="PublicChat"/>
		<protocol ref="PrivateChat"/>
		<protocol ref="FactionChat"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="PlayerBaseInfo"/>
		<protocol ref="PlayerBaseInfoCRC"/>
		<protocol ref="GetPlayerIDByName"/>
		<protocol ref="SetCustomData"/>
		<protocol ref="GetCustomData"/>
		<protocol ref="SetUIConfig"/>
		<protocol ref="GetUIConfig"/>
		<protocol ref="SetHelpStates"/>
		<protocol ref="GetHelpStates"/>
		<protocol ref="GetPlayerBriefInfo"/>
		<protocol ref="GMGetPlayerConsumeInfo"/>
        <protocol ref="CollectClientMachineInfo"/>

		<!--friend relative protocols-->
		<protocol ref="AddFriend"/>
		<protocol ref="AddFriend_Re"/>
        <protocol ref="AddFriendRemarks"/>
		<protocol ref="GetFriends"/>
		<protocol ref="GetFriends_Re"/>
        <protocol ref="GetEnemyList"/>
		<protocol ref="SetGroupName"/>
		<protocol ref="SetGroupName_Re"/>
		<protocol ref="SetFriendGroup"/>
		<protocol ref="SetFriendGroup_Re"/>
		<protocol ref="DelFriend"/>
		<protocol ref="DelFriend_Re"/>
		<protocol ref="FriendStatus"/>
		<protocol ref="GetSavedMsg"/>
		<protocol ref="GetSavedMsg_Re"/>
		<rpc ref="AddFriendRqst"/>
		<protocol ref="ChatRoomCreate"/>
		<protocol ref="ChatRoomInvite"/>
		<protocol ref="ChatRoomInvite_Re"/>
		<protocol ref="ChatRoomJoin"/>
		<protocol ref="ChatRoomLeave"/>
		<protocol ref="ChatRoomExpel"/>
		<protocol ref="ChatRoomSpeak"/>
		<protocol ref="ChatRoomList"/>
		<protocol ref="SendAUMail"/>
		<protocol ref="PlayerRequiteFriend"/>
		<!--trade relative protocols-->
		<protocol ref="TradeStart"/>
		<protocol ref="TradeAddGoods"/>
		<protocol ref="TradeRemoveGoods"/>
		<protocol ref="TradeSubmit"/>
		<protocol ref="TradeMoveObj"/>
		<protocol ref="TradeConfirm"/>
		<protocol ref="TradeDiscard"/>
		<rpc ref="TradeStartRqst"/>

		<!-- faction related protocol -->
		<protocol ref="FactionOPRequest"/>
		<protocol ref="FactionAcceptJoin"/>
		<protocol ref="GetFactionBaseInfo"/>
		<protocol ref="GetPlayerFactionInfo"/>
		<protocol ref="BattleGetMap"/>
		<protocol ref="BattleStatus"/>
		<rpc ref="FactionInviteJoin"/>
		<protocol ref="FactionListOnline"/>

		<!-- GM related protocols -->
		<protocol ref="GMOnlineNum"/>
		<protocol ref="GMListOnlineUser"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="ACKickoutUser"/>
		<protocol ref="GMForbidSellPoint"/>
		<protocol ref="GMKickoutRole"/>
		<protocol ref="GMShutup"/>
		<protocol ref="GMShutupRole"/>
		<protocol ref="GMToggleChat"/>
		<protocol ref="GMForbidRole"/>
		<protocol ref="GMRestartServer"/>
		<protocol ref="Report2GM"/>
		<protocol ref="Complain2GM"/>
		<protocol ref="GMSetTimelessAutoLock"/>

		<!-- anti-cheat related protocols -->
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>

		<!-- mail system related protocols -->
		<protocol ref="CheckNewMail"/>

		<!-- sell  point -->
		<protocol ref="SellPoint"/>
		<protocol ref="BuyPoint"/>
		<protocol ref="GetSellList"/>
		<protocol ref="FindSellPointInfo"/>
		<protocol ref="SellCancel"/>

		<!-- cash password -->
		<protocol ref="CashLock"/>
		<protocol ref="CashPasswordSet"/>
		<protocol ref="AutolockSet"/>

		<protocol ref="RefWithdrawBonus"/>
		<protocol ref="RefListReferrals"/>
		<protocol ref="RefGetReferenceCode"/>

		<protocol ref="ExchangeConsumePoints"/>
		<protocol ref="GetRewardList"/>

		<protocol ref="UserCoupon"/>
		<protocol ref="UserCouponExchange"/>
		<protocol ref="UserAddCash"/>
		<protocol ref="SSOGetTicket"/>

		<!-- countrybattle related protocols -->
		<protocol ref="CountryBattleMove"/>
		<protocol ref="CountryBattleGetMap"/>
		<protocol ref="CountryBattleGetPlayerLocation"/>
		<protocol ref="CountryBattleGetConfig"/>
		<protocol ref="CountryBattleGetScore"/>
		<protocol ref="CountryBattlePreEnter"/>
		<protocol ref="CountryBattleReturnCapital"/>
		<protocol ref="CountryBattleKingAssignAssault"/>
		<protocol ref="CountryBattleKingResetBattleLimit"/>
		<protocol ref="CountryBattleGetBattleLimit"/>
		<protocol ref="CountryBattleGetKingCommandPoint"/>
		<protocol ref="GetCNetServerConfig"/>

		<protocol ref="QPGetActivatedServices"/>
		<protocol ref="QPAddCash"/>
		<protocol ref="ReportChat"/>
		<protocol ref="PlayerAccuse"/>

		<!-- player shop -->
		<protocol ref="PShopPlayerGet"/>
		<protocol ref="PShopList"/>
		<protocol ref="PShopListItem"/>

		<!-- relation player profile protocols-->
		<protocol ref="PlayerProfileGetProfileData"/>
		<protocol ref="PlayerProfileSetProfileData"/>
		<protocol ref="PlayerProfileGetMatchResult"/>

		<!-- tank battle -->
		<protocol ref="TankBattlePlayerGetRank"/>
        
        <!-- faction resource battle -->
        <protocol ref="FactionResourceBattleGetMap"/>
        <protocol ref="FactionResourceBattleGetRecord"/>

		<!-- MNfaction -->
		<protocol ref="MNGetPlayerLastEnterInfo"/>
		<protocol ref="MNGetFactionBriefInfo"/>
		<protocol ref="MNGetFactionInfo"/>
	</state>
	
	<state name="GPhoneReceive" timeout="120">
		<protocol ref="RoleList"/>
		<protocol ref="GamedataSend"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="FactionChat"/>
		<protocol ref="PublicChat"/>
		<protocol ref="PrivateChat"/>
		<protocol ref="PlayerBaseInfo"/>
		<protocol ref="PlayerBaseInfoCRC"/>
		<protocol ref="GetFactionBaseInfo"/>
		<protocol ref="GetPlayerBriefInfo"/>
		<protocol ref="GetPlayerFactionInfo"/>
		<protocol ref="FactionOPRequest"/>
		<protocol ref="FactionAcceptJoin"/>
		<protocol ref="BattleGetMap"/>
		<protocol ref="BattleStatus"/>
		<rpc ref="FactionInviteJoin"/>
		<protocol ref="FactionListOnline"/>
		<protocol ref="GetSavedMsg"/>
		<protocol ref="GetPlayerIDByName"/>
		
		<!--friend relative protocols-->
		<protocol ref="AddFriend"/>
		<protocol ref="AddFriend_Re"/>
		<protocol ref="GetFriends"/>
		<protocol ref="GetFriends_Re"/>
		<protocol ref="SetGroupName"/>
		<protocol ref="SetGroupName_Re"/>
		<protocol ref="SetFriendGroup"/>
		<protocol ref="SetFriendGroup_Re"/>
		<protocol ref="DelFriend"/>
		<protocol ref="DelFriend_Re"/>
		<protocol ref="FriendStatus"/>
		<protocol ref="GetSavedMsg"/>
		<protocol ref="GetSavedMsg_Re"/>
		<rpc ref="AddFriendRqst"/>
		<protocol ref="ChatRoomCreate"/>
		<protocol ref="ChatRoomInvite"/>
		<protocol ref="ChatRoomInvite_Re"/>
		<protocol ref="ChatRoomJoin"/>
		<protocol ref="ChatRoomLeave"/>
		<protocol ref="ChatRoomExpel"/>
		<protocol ref="ChatRoomSpeak"/>
		<protocol ref="ChatRoomList"/>

        <protocol ref="SSOGetTicket"/>
	</state>

	<!-- ************************ -->
	<!--  STATES of GLink client  -->
	<!-- ************************ -->
	<state name="GLoginClient" timeout="30">
		<protocol ref="ErrorInfo"/>
		<protocol ref="Challenge"/>
		<protocol ref="KeyExchange"/>
		<protocol ref="AnnounceForbidInfo"/>
		<protocol ref="OnlineAnnounce"/>
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="MatrixChallenge"/>
	</state>

	<state name="GSelectRoleClient" timeout="86400">
		<protocol ref="ErrorInfo"/>
		<protocol ref="RoleList_Re"/>
		<protocol ref="CreateRole_Re"/>
		<protocol ref="DeleteRole_Re"/>
		<protocol ref="UndoDeleteRole_Re"/>
		<protocol ref="SelectRole_Re"/>
		<protocol ref="AccountLoginRecord"/>
		<protocol ref="SetCustomData_Re"/>
		<protocol ref="GetCustomData_Re"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="AnnounceForbidInfo"/>
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="WebTradePrePost_Re"/>
		<protocol ref="WebTradePreCancelPost_Re"/>
		<protocol ref="WebTradeGetDetail_Re"/>
		<protocol ref="GetPlayerIDByName_Re"/>
		<protocol ref="WaitQueueStateNotify"/>
		<protocol ref="CancelWaitQueue_Re"/>
		
		<!-- cross server -->
		<protocol ref="PlayerChangeDS_Re"/>
	
		<!-- reset player pos -->
		<rpc ref="PlayerPositionResetRqst"/>
        <protocol ref="SSOGetTicket_Re"/>
	</state>

	<state name="GDataExchgClient" timeout="120">
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="BINDER" maxsize="65536"/>
		<protocol ref="COMPRESSBINDER" maxsize="65536"/>
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="ErrorInfo"/>
		<protocol ref="GamedataSend"/>
		<protocol ref="PlayerBaseInfo_Re"/>
		<protocol ref="PlayerBaseInfoCRC_Re"/>
		<protocol ref="SetCustomData_Re"/>
		<protocol ref="GetCustomData_Re"/>
		<protocol ref="GetPlayerIDByName_Re"/>
		<protocol ref="SetUIConfig_Re"/>
		<protocol ref="GetUIConfig_Re"/>
		<protocol ref="SetHelpStates_Re"/>
		<protocol ref="GetHelpStates_Re"/>
		<protocol ref="GetPlayerBriefInfo_Re"/>
		<protocol ref="GMGetPlayerConsumeInfo_Re"/>
		<protocol ref="StatusAnnounce" />
		<protocol ref="PlayerLogout"/>
		<protocol ref="ChatMessage"/>
		<protocol ref="WorldChat"/>
		<protocol ref="PrivateChat"/>
		<protocol ref="RoleStatusAnnounce"/>
		
		<!-- faction related protocols -->
		<protocol ref="FactionChat"/>
		<protocol ref="FactionOPRequest_Re"/>
		<protocol ref="FactionCreate_Re"/>
		<protocol ref="FactionApplyJoin_Re"/>
		<protocol ref="FactionListMember_Re"/>
		<protocol ref="FactionAcceptJoin_Re"/>
		<protocol ref="FactionExpel_Re"/>
		<protocol ref="FactionBroadcastNotice_Re"/>
		<!--protocol ref="FactionPayRewards_Re"/-->
		<protocol ref="FactionMasterResign_Re"/>
		<protocol ref="FactionAppoint_Re"/>
		<protocol ref="FactionResign_Re"/>
		<protocol ref="FactionChangProclaim_Re"/>
		<!--protocol ref="FactionImpeach_Re"/-->
		<protocol ref="FactionLeave_Re"/>
		<protocol ref="FactionDismiss_Re"/>
		<protocol ref="FactionRename_Re"/>
		<protocol ref="FactionUpgrade_Re"/>
		<protocol ref="FactionDegrade_Re"/>
		<protocol ref="BattleGetMap_Re"/>
		<protocol ref="BattleStatus_Re"/>
		<protocol ref="BattleChallenge_Re"/>
		<protocol ref="BattleChallengeMap_Re"/>
		<protocol ref="BattleEnter_Re"/>
		<!--protocol ref="FactionListApplicant_Re"/-->
		<rpc ref="FactionInviteJoin"/>
		<protocol ref="GetFactionBaseInfo_Re"/>
		<protocol ref="GetPlayerFactionInfo_Re"/>
		<protocol ref="FactionListOnline_Re"/>
		<protocol ref="FactionAllianceApply_Re"/>
		<protocol ref="FactionAllianceReply_Re"/>
		<protocol ref="FactionHostileApply_Re"/>
		<protocol ref="FactionHostileReply_Re"/>
		<protocol ref="FactionRemoveRelationApply_Re"/>
		<protocol ref="FactionRemoveRelationReply_Re"/>
		<protocol ref="FactionListRelation_Re"/>
		<protocol ref="FactionRelationRecvApply"/>
		<protocol ref="FactionRelationRecvReply"/>
		<protocol ref="FactionDelayExpelAnnounce"/>

		<!--friend relative protocols-->
		<protocol ref="AddFriend"/>
		<protocol ref="AddFriend_Re"/>
        <protocol ref="AddFriendRemarks_Re"/>
		<protocol ref="GetFriends_Re"/>
        <protocol ref="UpdateEnemyList_Re"/>
        <protocol ref="GetEnemyList_Re"/>
		<protocol ref="SetGroupName"/>
		<protocol ref="SetGroupName_Re"/>
		<protocol ref="SetFriendGroup"/>
		<protocol ref="SetFriendGroup_Re"/>
		<protocol ref="DelFriend"/>
		<protocol ref="DelFriend_Re"/>
		<protocol ref="FriendStatus"/>
		<rpc ref="AddFriendRqst"/>
		<protocol ref="GetSavedMsg"/>
		<protocol ref="GetSavedMsg_Re"/>
		<protocol ref="ChatRoomCreate_Re"/>
		<protocol ref="ChatRoomInvite"/>
		<protocol ref="ChatRoomInvite_Re"/>
		<protocol ref="ChatRoomJoin_Re"/>
		<protocol ref="ChatRoomLeave"/>
		<protocol ref="ChatRoomExpel"/>
		<protocol ref="ChatRoomSpeak"/>
		<protocol ref="ChatRoomList_Re"/>
		<protocol ref="FriendExtList"/>
		<protocol ref="SendAUMail_Re"/>
		
		<!--trade relative protocols-->
		<protocol ref="TradeStart"/>
		<protocol ref="TradeStart_Re"/>
		<protocol ref="TradeAddGoods_Re"/>
		<protocol ref="TradeRemoveGoods_Re"/>
		<protocol ref="TradeSubmit_Re"/>
		<protocol ref="TradeMoveObj_Re"/>
		<protocol ref="TradeConfirm_Re"/>
		<protocol ref="TradeDiscard_Re"/>
		<protocol ref="TradeEnd"/>

		<rpc ref="TradeStartRqst"/>

		<protocol ref="KeepAlive"/>
		
		<!-- GM related protocols -->
		<protocol ref="GMRestartServer"/>
		<protocol ref="GMOnlineNum_Re"/>
		<protocol ref="GMListOnlineUser_Re"/>
		<protocol ref="GMKickoutUser_Re"/>
		<protocol ref="GMForbidSellPoint_Re"/>
		<protocol ref="GMKickoutRole_Re"/>
		<protocol ref="GMShutup_Re"/>
		<protocol ref="GMShutupRole_Re"/>
		<protocol ref="GMToggleChat_Re"/>
		<protocol ref="GMRestartServer_Re"/>
		<protocol ref="GMForbidRole_Re"/>
		<protocol ref="Report2GM_Re"/>
		<protocol ref="Complain2GM_Re"/>
		<protocol ref="AnnounceForbidInfo"/>
		<protocol ref="QueryUserPrivilege_Re"/>
		<protocol ref="GMSetTimelessAutoLock_Re"/>

		<!-- Anti-Cheat related protocols -->
		<protocol ref="ACRemoteCode"/>
		<protocol ref="ACQuestion"/>
		<!-- report cheat -->
		<protocol ref="PlayerAccuse_Re"/>

		<!-- mail system related protocols -->
		<protocol ref="AnnounceNewMail"/>
		<protocol ref="GetMailList_Re"/>
		<protocol ref="GetMail_Re"/>
		<protocol ref="GetMailAttachObj_Re"/>
		<protocol ref="DeleteMail_Re"/>
		<protocol ref="PreserveMail_Re"/>
		<protocol ref="PlayerSendMail_Re"/>

		<protocol ref="AuctionOpen_Re"/>
		<protocol ref="AuctionBid_Re"/>
		<protocol ref="AuctionClose_Re"/>
		<protocol ref="AuctionList_Re"/>
		<protocol ref="AuctionGet_Re"/>
		<protocol ref="AuctionGetItem_Re"/>
		<protocol ref="AuctionAttendList_Re"/>
		<protocol ref="AuctionExitBid_Re"/>
		<protocol ref="AuctionListUpdate_Re"/>
		
		<!-- sell  point -->
		<protocol ref="SellPoint_Re"/>
		<protocol ref="GetSellList_Re"/>
		<protocol ref="FindSellPointInfo_Re"/>
		<protocol ref="AnnounceSellResult"/>
		<protocol ref="SellCancel_Re"/>
		<protocol ref="BuyPoint_Re"/>
		
		<!-- battle field -->
		<protocol ref="BattleGetMap_Re"/>
		<protocol ref="BattleStatus_Re"/>
		<protocol ref="BattleChallenge_Re"/>
		<protocol ref="BattleChallengeMap_Re"/>
		<protocol ref="BattleEnter_Re"/>
		
		<!-- countrybattle related protocols -->
		<protocol ref="CountryBattleMove_Re"/>
		<protocol ref="CountryBattleSyncPlayerLocation"/>
		<protocol ref="CountryBattleGetMap_Re"/>
		<protocol ref="CountryBattleGetConfig_Re"/>
		<protocol ref="CountryBattleGetScore_Re"/>
		<protocol ref="CountryBattlePreEnterNotify"/>
		<protocol ref="CountryBattleResult"/>
		<protocol ref="CountryBattleSingleBattleResult"/>
		<protocol ref="CountryBattleKingAssignAssault_Re"/>
		<protocol ref="CountryBattleGetBattleLimit_Re"/>
		<protocol ref="CountryBattleGetKingCommandPoint_Re"/>
		<protocol ref="GetCNetServerConfig_Re"/>

		<!-- stock -->
		<protocol ref="StockCommission_Re"/>
                <protocol ref="StockAccount_Re"/>
                <protocol ref="StockTransaction_Re"/>
                <protocol ref="StockBill_Re"/>
                <protocol ref="StockCancel_Re"/>

                <protocol ref="RefWithdrawBonus_Re"/>
                <protocol ref="RefListReferrals_Re"/>
                <protocol ref="RefGetReferenceCode_Re"/>

                <protocol ref="RewardMatureNotice"/>
                <protocol ref="ExchangeConsumePoints_Re"/>
                <protocol ref="GetRewardList_Re"/>

		<!-- webtrade related -->
		<protocol ref="WebTradePrePost_Re"/>
		<protocol ref="WebTradePreCancelPost_Re"/>
		<protocol ref="WebTradeList_Re"/>
		<protocol ref="WebTradeGetItem_Re"/>
		<protocol ref="WebTradeAttendList_Re"/>
		<protocol ref="WebTradeGetDetail_Re"/>
		<protocol ref="WebTradeUpdate_Re"/>

		<protocol ref="SysAuctionList_Re"/>
		<protocol ref="SysAuctionGetItem_Re"/>
		<protocol ref="SysAuctionAccount_Re"/>
		<protocol ref="SysAuctionBid_Re"/>
		<protocol ref="SysAuctionCashTransfer_Re"/>
		
		<protocol ref="CreateFactionFortress_Re"/>
		<protocol ref="FactionFortressList_Re"/>
		<protocol ref="FactionFortressChallenge_Re"/>
		<protocol ref="FactionFortressBattleList_Re"/>
		<protocol ref="FactionFortressGet_Re"/>

		<protocol ref="UserCoupon_Re"/>
		<protocol ref="UserCouponExchange_Re"/>
		<protocol ref="UserAddCash_Re"/>
		<protocol ref="SSOGetTicket_Re"/>

		<protocol ref="QPAnnounceDiscount"/>
		<protocol ref="QPGetActivatedServices_Re"/>
		<protocol ref="QPAddCash_Re"/>

		<!--cross server-->
		<protocol ref="PlayerChangeDS_Re"/>
		<protocol ref="ChangeDS_Re"/>

		<!-- player rename -->
		<protocol ref="PlayerRename_Re"/>
		<protocol ref="PlayerNameUpdate"/>

        <protocol ref="GetSoloChallengeRank_Re"/>

		<protocol ref="KEGetStatus_Re"/>
		<protocol ref="KECandidateApply_Re"/>
		<protocol ref="KEVoting_Re"/>

		<!-- player shop -->
		<protocol ref="PShopCreate_Re"/>
		<protocol ref="PShopBuy_Re"/>
		<protocol ref="PShopSell_Re"/>
		<protocol ref="PShopCancelGoods_Re"/>
		<protocol ref="PShopPlayerBuy_Re"/>
		<protocol ref="PShopPlayerSell_Re"/>
		<protocol ref="PShopSetType_Re"/>
		<protocol ref="PShopActive_Re"/>
		<protocol ref="PShopManageFund_Re"/>
		<protocol ref="PShopDrawItem_Re"/>
		<protocol ref="PShopClearGoods_Re"/>
		<protocol ref="PShopSelfGet_Re"/>
		<protocol ref="PShopPlayerGet_Re"/>
		<protocol ref="PShopList_Re"/>
		<protocol ref="PShopListItem_Re"/>
		
		<!-- player give present -->
		<protocol ref="PlayerGivePresent_Re"/>
		<protocol ref="PlayerAskForPresent_Re"/>
		
		<!-- relation match related protocols-->
		<protocol ref="PlayerProfileGetProfileData_Re"/>
		<protocol ref="PlayerProfileGetMatchResult_Re"/>
		
		<protocol ref="UniqueDataModifyBroadcast"/>
		
		<!-- tank battle -->
		<protocol ref="TankBattlePlayerApply_Re"/>
		
		<protocol ref="TankBattlePlayerGetRank_Re"/>
		<!-- auto team related -->
		<protocol ref="AutoTeamSetGoal_Re"/>
		<protocol ref="AutoTeamPlayerLeave"/>
        
        <!-- faction battle related -->
        <protocol ref="FactionResourceBattlePlayerQueryResult"/>
        <protocol ref="FactionResourceBattleGetMap_Re"/>
        <protocol ref="FactionResourceBattleGetRecord_Re"/>
        <protocol ref="FactionResourceBattleNotifyPlayerEvent"/>
		<!-- faction rename -->
		<protocol ref="FactionRenameAnnounce"/>

		<!-- MNfaction -->
		<protocol ref="MNFactionBattleApply_Re"/>
		<protocol ref="MNGetDomainData_Re"/>
		<protocol ref="MNGetPlayerLastEnterInfo_Re"/>
		<protocol ref="MNGetFactionBriefInfo_Re"/>
		<protocol ref="MNGetFactionInfo_Re"/>
		<protocol ref="MNGetTopList_Re"/>
	</state>
	
	<!-- ******************************** -->
	<!--  STATES of gauthd client/server  -->
	<!-- ******************************** -->
	<state name="GAuthServer" timeout="86400">
		<protocol ref="KeyExchange"/>
		<protocol ref="StatusAnnounce" />
		<protocol ref="AccountingRequest" /> 
		<protocol ref="AnnounceZoneid"/>
		<protocol ref="QueryUserPrivilege"/>
		<protocol ref="QueryUserForbid"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="GMForbidSellPoint"/>
		<protocol ref="GMShutup"/>
		<protocol ref="TransBuyPoint"/>
		<protocol ref="GetPlayerIDByName_Re"/>
		<protocol ref="SysSendMail_Re"/>
		<protocol ref="SysSendMail3_Re"/>
		<protocol ref="VerifyMaster"/>
		<protocol ref="VerifyMaster_Re"/>
		
		<rpc ref="GQueryPasswd"/>
		<rpc ref="UserLogin"/>
		<rpc ref="UserLogin2"/>
		<rpc ref="UserLogout"/>
		<rpc ref="CashSerial"/>
		<rpc ref="GetAddCashSN"/>
		<protocol ref="AddCash"/>
		<protocol ref="AddCash_Re"/>
		<rpc ref="MatrixPasswd"/>
		<rpc ref="MatrixPasswd2"/>
		<rpc ref="MatrixToken"/>
		<protocol ref="MatrixFailure"/>
		<protocol ref="BillingRequest"/>
		<protocol ref="BillingBalance"/>
		<protocol ref="BillingBalanceSA"/>
		<protocol ref="BillingConfirm"/>
		<protocol ref="BillingCancel"/>
		<protocol ref="ACForbidCheater"/>
		<rpc ref="GetUserCoupon"/>
		<rpc ref="CouponExchange"/>
		<protocol ref="Game2AU"/>
		<protocol ref="SSOGetTicketReq"/>
	</state>
	
	<state name="GAuthClient" timeout="86400">
		<protocol ref="KeyExchange"/>
		<protocol ref="StatusAnnounce" />
		<protocol ref="KickoutUser" />
		<protocol ref="AccountingResponse" />
		<protocol ref="QueryUserPrivilege_Re"/>
		<protocol ref="QueryUserForbid_Re"/>
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="TransBuyPoint_Re"/>

		<rpc ref="GQueryPasswd"/>
		<rpc ref="UserLogin"/>
		<rpc ref="UserLogin2"/>
		<rpc ref="UserLogout"/>
		<rpc ref="CashSerial"/>
		<rpc ref="GetAddCashSN"/>
		<protocol ref="AddCash"/>
		<protocol ref="AddCash_Re"/>
		<protocol ref="GetPlayerIDByName"/>
		<protocol ref="SysSendMail"/>
		<protocol ref="SysSendMail3"/>
		<protocol ref="VerifyMaster"/>
		<protocol ref="VerifyMaster_Re"/>

		<rpc ref="MatrixPasswd"/>
		<rpc ref="MatrixPasswd2"/>
		<rpc ref="MatrixToken"/>
		<protocol ref="MatrixFailure"/>
		<protocol ref="AddictionControl"/>
		<protocol ref="BillingRequest"/>
		<protocol ref="BillingBalance"/>
		<protocol ref="BillingBalanceSA_Re"/>
		<protocol ref="BillingConfirm_Re"/>
		<rpc ref="QueryUserid"/>
		<protocol ref="NetBarAnnounce"/>
		<protocol ref="AuthdVersion"/>
		<rpc ref="GetUserCoupon"/>
		<rpc ref="CouponExchange"/>
		<rpc ref="InstantAddCash"/>
		<protocol ref="SSOGetTicketRep"/>
		<protocol ref="AU2Game"/>
		<protocol ref="DiscountAnnounce"/>
	</state>
	
	<!-- *********************************** -->
	<!--  STATES of gdelivery client/server  -->
	<!-- *********************************** -->
	<state name="GDeliverServer" timeout="86400">
		<protocol ref="PlayerLogin"/>
		<protocol ref="PlayerStatusSync"/>
		<protocol ref="EnterWorld"/>
		<protocol ref="StatusAnnounce" />
		<protocol ref="RoleList"/>
		<protocol ref="CreateRole"/>
		<protocol ref="DeleteRole"/>
		<protocol ref="UndoDeleteRole"/>
		<protocol ref="PlayerBaseInfo"/>
		<protocol ref="PlayerBaseInfoCRC"/>
		<protocol ref="GetPlayerIDByName"/>
		<protocol ref="SetCustomData"/>
		<protocol ref="GetCustomData"/>
		<protocol ref="SetUIConfig"/>
		<protocol ref="GetUIConfig"/>
		<protocol ref="SetHelpStates"/>
		<protocol ref="GetHelpStates"/>
		<protocol ref="GetPlayerBriefInfo"/>
		<protocol ref="GMGetPlayerConsumeInfo"/>
        <protocol ref="CollectClientMachineInfo"/>
		<protocol ref="CancelWaitQueue"/>

		<protocol ref="PublicChat"/>
		<protocol ref="PrivateChat"/>

		<!--friend relative protocols-->
		<protocol ref="AddFriend"/>
        <protocol ref="AddFriendRemarks"/>
		<protocol ref="GetFriends"/>
        <protocol ref="GetEnemyList"/>
		<protocol ref="SetGroupName"/>
		<protocol ref="SetFriendGroup"/>
		<protocol ref="DelFriend"/>
		<protocol ref="DelFriend_Re"/>
		<protocol ref="FriendStatus"/>
		<rpc ref="AddFriendRqst"/>
		<protocol ref="GetSavedMsg"/>
		<protocol ref="ChatRoomCreate"/>
		<protocol ref="ChatRoomInvite"/>
		<protocol ref="ChatRoomInvite_Re"/>
		<protocol ref="ChatRoomJoin"/>
		<protocol ref="ChatRoomLeave"/>
		<protocol ref="ChatRoomExpel"/>
		<protocol ref="ChatRoomSpeak"/>
		<protocol ref="ChatRoomList"/>
		<protocol ref="SendAUMail"/>
		<protocol ref="PlayerRequiteFriend"/>

		<!--trade relative protocols-->
		<protocol ref="TradeStart"/>
		<protocol ref="TradeAddGoods"/>
		<protocol ref="TradeRemoveGoods"/>
		<protocol ref="TradeSubmit"/>
		<protocol ref="TradeMoveObj"/>
		<protocol ref="TradeConfirm"/>
		<protocol ref="TradeDiscard"/>
		<rpc ref="TradeStartRqst"/>

		<rpc ref="UserLogin" />
		<rpc ref="UserLogin2"/>
		<rpc ref="GQueryPasswd"/>
		
		<protocol ref="SwitchServerCancel"/>

		<!-- reset player pos -->
		<rpc ref="PlayerPositionResetRqst"/>
		
		<!-- GM related protocols -->
		<protocol ref="GMRestartServer"/>
		<protocol ref="GMOnlineNum"/>
		<protocol ref="GMListOnlineUser"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="ACKickoutUser"/>
		<protocol ref="GMForbidSellPoint"/>
		<protocol ref="GMKickoutRole"/>
		<protocol ref="GMShutup"/>
		<protocol ref="GMShutupRole"/>
		<protocol ref="GMToggleChat"/>
		<protocol ref="GMForbidRole"/>
		<protocol ref="GMPrivilegeChange"/>
		<protocol ref="Report2GM"/>
		<protocol ref="Complain2GM"/>
		<protocol ref="AnnounceLinkType"/>
		<rpc ref="GMQueryRoleInfo"/>
		<protocol ref="SetMaxOnlineNum"/>
		<rpc ref="GetMaxOnlineNum"/>
		<rpc ref="GMGetGameAttri"/>
		<rpc ref="GMSetGameAttri"/>
		<protocol ref="GMControlGame"/>
		<protocol ref="VerifyMaster"/>
		<protocol ref="VerifyMaster_Re"/>
		<protocol ref="GMSetTimelessAutoLock"/>
		<protocol ref="IWebAutolockGet"/>
		<protocol ref="IWebAutolockSet"/>

		<!-- anti-cheat related protocols -->
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="ACProtoStat"/>
		<protocol ref="ReportIP"/>

		<!-- mail system related protocols -->
		<protocol ref="CheckNewMail"/>
		<protocol ref="SysSendMail"/>
		<protocol ref="SysRecoveredObjMail"/> <!-- lijing -->

		<!-- sell card -->
		<rpc ref="DBSellPoint"/>
		<rpc ref="DBBuyPoint"/>
		<protocol ref="GetSellList"/>
		<protocol ref="FindSellPointInfo"/>
		<protocol ref="SellCancel"/>
		<!-- Battle field -->
		<protocol ref="BattleGetMap"/>
		<protocol ref="BattleStatus"/>
		
		<!-- countrybattle related protocols -->
		<protocol ref="CountryBattleMove"/>
		<protocol ref="CountryBattleGetMap"/>
		<protocol ref="CountryBattleGetPlayerLocation"/>
		<protocol ref="CountryBattleGetConfig"/>
		<protocol ref="CountryBattleGetScore"/>
		<protocol ref="CountryBattlePreEnter"/>
		<protocol ref="CountryBattleReturnCapital"/>
		<protocol ref="CountryBattleKingAssignAssault"/>
		<protocol ref="CountryBattleKingResetBattleLimit"/>
		<protocol ref="CountryBattleGetBattleLimit"/>
		<protocol ref="CountryBattleGetKingCommandPoint"/>
		<protocol ref="GetCNetServerConfig"/>

		<!-- cash password -->
		<protocol ref="CashLock"/>
		<protocol ref="CashPasswordSet"/>
		<rpc ref="MatrixPasswd"/>
		<rpc ref="MatrixPasswd2"/>
		<rpc ref="MatrixToken"/>
		<protocol ref="MatrixFailure"/>
		<protocol ref="AutolockSet"/>
		<rpc ref="QueryUserid"/>
		<rpc ref="ForbidUser"/>

		<protocol ref="DisableAutolock"/>

		<protocol ref="RefWithdrawBonus"/>
		<protocol ref="RefListReferrals"/>
		<protocol ref="RefGetReferenceCode"/>

		<protocol ref="ExchangeConsumePoints"/>
		<protocol ref="GetRewardList"/>
		
		<protocol ref="WebTradeRolePrePost"/>
		<protocol ref="WebTradeRolePreCancelPost"/>
		<protocol ref="WebTradeRoleGetDetail"/>

		<protocol ref="UserCoupon"/>
		<protocol ref="UserCouponExchange"/>
		<protocol ref="UserAddCash"/>
		<protocol ref="SSOGetTicket"/>

		<protocol ref="QPGetActivatedServices"/>
		<protocol ref="QPAddCash"/>
		
		<protocol ref="ReportChat"/>
		<protocol ref="PlayerAccuse"/>
		
		<!--cross server related-->
		<rpc ref="PlayerIdentityMatch" />
		<protocol ref="AnnounceLinkVersion"/>

		<rpc ref="CashMoneyExchangeControl"/>
		<rpc ref="ServerForbidControl"/>

		<!-- player shop -->
		<protocol ref="PShopPlayerGet"/>
		<protocol ref="PShopList"/>
		<protocol ref="PShopListItem"/>

		<!-- relation match related protocols-->
		<protocol ref="PlayerProfileGetProfileData"/>
		<protocol ref="PlayerProfileSetProfileData"/>
		<protocol ref="PlayerProfileGetMatchResult"/>

		<!-- tank battle -->
		<protocol ref="TankBattlePlayerGetRank"/>
        <!-- faction resource battle -->
        <protocol ref="FactionResourceBattleGetMap"/>
        <protocol ref="FactionResourceBattleGetRecord"/>

		<!-- MNfaction -->
		<protocol ref="MNGetPlayerLastEnterInfo"/>
		<protocol ref="MNGetFactionBriefInfo"/>
		<protocol ref="MNGetFactionInfo"/>
	</state>

	<state name="GDeliverClient" timeout="86400">
		<protocol ref="QueryUserPrivilege_Re"/>
		<protocol ref="QueryUserForbid_Re"/>
		<protocol ref="KickoutUser"/>
		<protocol ref="StatusAnnounce" />
		<protocol ref="OnlineAnnounce"/>
		<protocol ref="UpdateRemainTime"/>
		<protocol ref="PlayerLogin_Re"/>
		<protocol ref="PlayerLogout"/>
		<protocol ref="RoleList_Re"/>
		<protocol ref="CreateRole_Re"/>
		<protocol ref="DeleteRole_Re"/>
		<protocol ref="UndoDeleteRole_Re"/>
		<protocol ref="AccountLoginRecord"/>
		<protocol ref="PlayerBaseInfo_Re"/>
		<protocol ref="PlayerBaseInfoCRC_Re"/>
		<protocol ref="SetCustomData_Re"/>
		<protocol ref="GetCustomData_Re"/>
		<protocol ref="GetPlayerIDByName_Re"/>
		<protocol ref="SetUIConfig_Re"/>
		<protocol ref="GetUIConfig_Re"/>
		<protocol ref="SetHelpStates_Re"/>
		<protocol ref="GetHelpStates_Re"/>
		<protocol ref="GetPlayerBriefInfo_Re"/>
		<protocol ref="GMGetPlayerConsumeInfo_Re"/>
		<protocol ref="DisconnectPlayer"/>
		<protocol ref="WaitQueueStateNotify"/>
		<protocol ref="CancelWaitQueue_Re"/>
		
		<protocol ref="PrivateChat"/>
		<protocol ref="ChatBroadCast"/>
		<protocol ref="WorldChat"/>
		<protocol ref="ChatMultiCast"/>
		<protocol ref="ChatSingleCast"/>
		<protocol ref="RoleStatusAnnounce"/>

		<!--friend relative protocols-->
		<protocol ref="AddFriend_Re"/>
        <protocol ref="AddFriendRemarks_Re"/>
		<protocol ref="GetFriends_Re"/>
        <protocol ref="UpdateEnemyList_Re"/>
        <protocol ref="GetEnemyList_Re"/>
		<protocol ref="SetGroupName_Re"/>
		<protocol ref="SetFriendGroup_Re"/>
		<protocol ref="DelFriend_Re"/>
		<protocol ref="FriendStatus"/>
		<rpc ref="AddFriendRqst"/>
		<protocol ref="GetSavedMsg_Re"/>
		<protocol ref="ChatRoomCreate_Re"/>
		<protocol ref="ChatRoomInvite"/>
		<protocol ref="ChatRoomInvite_Re"/>
		<protocol ref="ChatRoomJoin_Re"/>
		<protocol ref="ChatRoomLeave"/>
		<protocol ref="ChatRoomExpel"/>
		<protocol ref="ChatRoomSpeak"/>
		<protocol ref="ChatRoomList_Re"/>
		<protocol ref="FriendExtList"/>
		<protocol ref="SendAUMail_Re"/>

		<!--trade relative protocols-->
		<protocol ref="TradeStart"/>
		<protocol ref="TradeStart_Re"/>
		<protocol ref="TradeAddGoods_Re"/>
		<protocol ref="TradeRemoveGoods_Re"/>
		<protocol ref="TradeSubmit_Re"/>
		<protocol ref="TradeMoveObj_Re"/>
		<protocol ref="TradeConfirm_Re"/>
		<protocol ref="TradeDiscard_Re"/>
		<protocol ref="TradeEnd"/>
		<rpc ref="TradeStartRqst"/>
	
		<rpc ref="UserLogin"/>
		<rpc ref="UserLogin2"/>
		<rpc ref="GQueryPasswd"/>

		<!-- reset player pos -->
		<rpc ref="PlayerPositionResetRqst"/>
		
		<!-- GM related protocols -->
		<protocol ref="GMRestartServer"/>
		<protocol ref="GMRestartServer_Re"/>
		<protocol ref="GMOnlineNum_Re"/>
		<protocol ref="GMListOnlineUser_Re"/>
		<protocol ref="GMKickoutUser_Re"/>
		<protocol ref="GMForbidSellPoint_Re"/>
		<protocol ref="GMKickoutRole_Re"/>
		<protocol ref="GMShutup"/>
		<protocol ref="GMShutup_Re"/>
		<protocol ref="GMShutupRole"/>
		<protocol ref="GMShutupRole_Re"/>
		<protocol ref="GMToggleChat"/>
		<protocol ref="GMToggleChat_Re"/>
		<protocol ref="GMForbidRole"/>
		<protocol ref="GMForbidRole_Re"/>
		<protocol ref="Report2GM_Re"/>
		<protocol ref="Complain2GM_Re"/>
		<protocol ref="AnnounceForbidInfo"/>
		<protocol ref="SetMaxOnlineNum_Re"/>
		
		<protocol ref="GMControlGame_Re"/>
		<protocol ref="GMSetTimelessAutoLock_Re"/>
		
		<!-- anti-cheat related protocols -->
		<protocol ref="ACRemoteCode"/>
		<protocol ref="ACQuestion"/>
		<protocol ref="PlayerAccuse_Re"/>

		<!-- mail system related protocols -->
		<protocol ref="AnnounceNewMail"/>
		<protocol ref="GetMailList_Re"/>
		<protocol ref="GetMail_Re"/>
		<protocol ref="GetMailAttachObj_Re"/>
		<protocol ref="DeleteMail_Re"/>
		<protocol ref="PreserveMail_Re"/>
		<protocol ref="PlayerSendMail_Re"/>

		<protocol ref="AuctionOpen_Re"/>
		<protocol ref="AuctionBid_Re"/>
		<protocol ref="AuctionClose_Re"/>
		<protocol ref="AuctionList_Re"/>
		<protocol ref="AuctionGet_Re"/>
		<protocol ref="AuctionGetItem_Re"/>
		<protocol ref="AuctionAttendList_Re"/>
		<protocol ref="AuctionExitBid_Re"/>
		<protocol ref="AuctionListUpdate_Re"/>

		<protocol ref="BattleGetMap_Re"/>
		<protocol ref="BattleStatus_Re"/>
		<protocol ref="BattleChallenge_Re"/>
		<protocol ref="BattleChallengeMap_Re"/>
		<protocol ref="BattleEnter_Re"/>
		
		<protocol ref="CountryBattleMove_Re"/>
		<protocol ref="CountryBattleSyncPlayerLocation"/>
		<protocol ref="CountryBattleGetMap_Re"/>
		<protocol ref="CountryBattleGetConfig_Re"/>
		<protocol ref="CountryBattleGetScore_Re"/>
		<protocol ref="CountryBattlePreEnterNotify"/>
		<protocol ref="CountryBattleResult"/>
		<protocol ref="CountryBattleSingleBattleResult"/>
		<protocol ref="CountryBattleKingAssignAssault_Re"/>
		<protocol ref="CountryBattleGetBattleLimit_Re"/>
		<protocol ref="CountryBattleGetKingCommandPoint_Re"/>
		<protocol ref="GetCNetServerConfig_Re"/>

		<!-- announce server attribute -->
		<protocol ref="AnnounceServerAttribute"/>
		<protocol ref="AnnounceChallengeAlgo"/>
		<protocol ref="AnnounceAuthdVersion"/>
		<!-- sell card -->
		<protocol ref="GetSellList_Re"/>
		<protocol ref="FindSellPointInfo_Re"/>
		<protocol ref="AnnounceSellResult"/>
		<protocol ref="SellCancel_Re"/>
		<protocol ref="BuyPoint_Re"/>
		<protocol ref="SellPoint_Re"/>
		<rpc ref="DBSellPoint"/>
		<rpc ref="DBBuyPoint"/>

		<!-- stock -->
		<protocol ref="StockCommission_Re"/>
                <protocol ref="StockAccount_Re"/>
                <protocol ref="StockTransaction_Re"/>
                <protocol ref="StockBill_Re"/>
                <protocol ref="StockCancel_Re"/>

		<!-- cash password -->
		<protocol ref="CashLock_Re"/>
		<protocol ref="CashPasswordSet_Re"/>
		<rpc ref="MatrixPasswd"/>
		<rpc ref="MatrixPasswd2"/>
		<rpc ref="MatrixToken"/>
		<protocol ref="AutolockSet_Re"/>
		<protocol ref="ForwardChat"/>
		<protocol ref="DisableAutolock"/>

                <protocol ref="RefWithdrawBonus_Re"/>
                <protocol ref="RefListReferrals_Re"/>
                <protocol ref="RefGetReferenceCode_Re"/>

                <protocol ref="RewardMatureNotice"/>
                <protocol ref="ExchangeConsumePoints_Re"/>
                <protocol ref="GetRewardList_Re"/>

		<!-- webtrade related -->
		<protocol ref="WebTradePrePost_Re"/>
		<protocol ref="WebTradePreCancelPost_Re"/>
		<protocol ref="WebTradeList_Re"/>
		<protocol ref="WebTradeGetItem_Re"/>
		<protocol ref="WebTradeAttendList_Re"/>
		<protocol ref="WebTradeGetDetail_Re"/>
		<protocol ref="WebTradeUpdate_Re"/>
		
		<protocol ref="SysAuctionList_Re"/>
		<protocol ref="SysAuctionGetItem_Re"/>
		<protocol ref="SysAuctionAccount_Re"/>
		<protocol ref="SysAuctionBid_Re"/>
		<protocol ref="SysAuctionCashTransfer_Re"/>
		
		<protocol ref="CreateFactionFortress_Re"/>
		<protocol ref="FactionFortressList_Re"/>
		<protocol ref="FactionFortressChallenge_Re"/>
		<protocol ref="FactionFortressBattleList_Re"/>
		<protocol ref="FactionFortressGet_Re"/>

		<protocol ref="SwitchServerStart"/>

		<protocol ref="UserCoupon_Re"/>
		<protocol ref="UserCouponExchange_Re"/>
		<protocol ref="UserAddCash_Re"/>
		<protocol ref="SSOGetTicket_Re"/>

		<protocol ref="QPAnnounceDiscount"/>
		<protocol ref="QPGetActivatedServices_Re"/>
		<protocol ref="QPAddCash_Re"/>
		
		<!--cross server-->
		<protocol ref="PlayerChangeDS_Re"/>
		<protocol ref="ChangeDS_Re"/>
		<rpc ref="PlayerIdentityMatch" />
		<protocol ref="KickoutUser2"/>

		<!-- player rename-->
		<protocol ref="PlayerRename_Re"/>
		<protocol ref="PlayerNameUpdate"/>

        <protocol ref="GetSoloChallengeRank_Re"/>

		<protocol ref="KEGetStatus_Re"/>
		<protocol ref="KECandidateApply_Re"/>
		<protocol ref="KEVoting_Re"/>

		<!-- player shop -->
		<protocol ref="PShopCreate_Re"/>
		<protocol ref="PShopBuy_Re"/>
		<protocol ref="PShopSell_Re"/>
		<protocol ref="PShopCancelGoods_Re"/>
		<protocol ref="PShopPlayerBuy_Re"/>
		<protocol ref="PShopPlayerSell_Re"/>
		<protocol ref="PShopSetType_Re"/>
		<protocol ref="PShopActive_Re"/>
		<protocol ref="PShopManageFund_Re"/>
		<protocol ref="PShopDrawItem_Re"/>
		<protocol ref="PShopClearGoods_Re"/>
		<protocol ref="PShopSelfGet_Re"/>
		<protocol ref="PShopPlayerGet_Re"/>
		<protocol ref="PShopList_Re"/>
		<protocol ref="PShopListItem_Re"/>
		
		<!-- player give present -->
		<protocol ref="PlayerGivePresent_Re"/>
		<protocol ref="PlayerAskForPresent_Re"/>

		<!-- relation match related protocols-->
		<protocol ref="PlayerProfileGetProfileData_Re"/>
		<protocol ref="PlayerProfileGetMatchResult_Re"/>
		
		<protocol ref="UniqueDataModifyBroadcast"/>
		
		<!-- tank battle -->
		<protocol ref="TankBattlePlayerApply_Re"/>
		<protocol ref="TankBattlePlayerGetRank_Re"/>

		<!-- auto team related-->
		<protocol ref="AutoTeamSetGoal_Re"/>
		<protocol ref="AutoTeamPlayerLeave"/>

        <!-- faction battle related -->
        <protocol ref="FactionResourceBattlePlayerQueryResult"/>
        <protocol ref="FactionResourceBattleGetMap_Re"/>
        <protocol ref="FactionResourceBattleGetRecord_Re"/>
        <protocol ref="FactionResourceBattleNotifyPlayerEvent"/>

		<!-- MNfaction -->
		<protocol ref="MNFactionBattleApply_Re"/>
		<protocol ref="MNGetDomainData_Re"/>
		<protocol ref="MNGetPlayerLastEnterInfo_Re"/>
		<protocol ref="MNGetFactionBriefInfo_Re"/>
		<protocol ref="MNGetFactionInfo_Re"/>
		<protocol ref="MNGetTopList_Re"/>
	</state>
	
	<state name="CentralDeliveryServer" timeout="120">
		<protocol ref="LoadExchange"/>
		<protocol ref="DSAnnounceIdentity"/>
		<protocol ref="SendDataAndIdentity"/>
		<protocol ref="SendDataAndIdentity_Re"/>
		<protocol ref="RemoteLoginQuery_Re"/>
		<protocol ref="KickoutRemoteUser"/>
		<protocol ref="GetRemoteRoleInfo"/>
		<protocol ref="AddictionControl"/>
		<protocol ref="GetRemoteCNetServerConfig"/>
		<protocol ref="MNFactionCacheGet"/>
        <protocol ref="MNFactionInfoUpdate"/>
		<protocol ref="MNFactionProclaim"/>
		<protocol ref="MNFetchFiltrateResult"/>
		<protocol ref="MNDomainSendBonusData_Re"/>
		<protocol ref="MNFetchTopList"/>
		<protocol ref="CrossChat"/>
		<protocol ref="CrossSoloChallengeRank"/>
		<protocol ref="CrossSoloChallengeRank_Re"/>
	</state>
	
	<state name="CentralDeliveryClient" timeout="120">
		<protocol ref="LoadExchange"/>
		<protocol ref="DSAnnounceIdentity"/>
		<protocol ref="SendDataAndIdentity"/>
		<protocol ref="SendDataAndIdentity_Re"/>
		<protocol ref="RemoteLoginQuery"/>
		<protocol ref="RemoteLogout"/>
		<protocol ref="KickoutRemoteUser_Re"/>
		<protocol ref="ACKickoutUser"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="GMShutup"/>
		<protocol ref="GetRemoteRoleInfo_Re"/>
		<protocol ref="GetRemoteCNetServerConfig_Re"/>
		<protocol ref="CrossGuardNotify"/>
		<protocol ref="MNFactionCacheGet_Re"/>
		<protocol ref="MNFetchFiltrateResult_Re"/>
		<protocol ref="MNFactionProclaim_Re"/>
		<protocol ref="MNDomainSendBonusData"/>
		<protocol ref="MNFetchTopList_Re"/>
		<protocol ref="CrossChat_Re"/>
		<protocol ref="CrossSoloChallengeRank"/>
		<protocol ref="CrossSoloChallengeRank_Re"/>
	</state>
	
	<!-- *********************************** -->
	<!--  STATES of gprovider client/server  -->
	<!-- *********************************** -->
	<state name="GProviderDeliveryServer" timeout="120">
		<protocol ref="AnnounceProviderID"/>
		<protocol ref="PlayerLogin_Re"/>
		<protocol ref="PlayerKickout_Re"/>
		<protocol ref="PlayerLogout"/>
		<protocol ref="PlayerOffline_Re"/>
		<protocol ref="QueryPlayerStatus"/>
		<protocol ref="GetTaskData"/>
		<protocol ref="SetTaskData"/>
		<protocol ref="PlayerInfoUpdate"/>
		<protocol ref="PlayerTeamOp"/>
		<protocol ref="PlayerTeamMemberOp"/>
		
		<protocol ref="GTradeStart_Re"/>
		<protocol ref="GTradeDiscard"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="DisconnectPlayer"/>
		
		<protocol ref="SwitchServerStart"/>
		<protocol ref="SwitchServerCancel"/>
		<protocol ref="SwitchServerSuccess"/>
		<protocol ref="SwitchServerTimeout"/>
		
		<protocol ref="SetChatEmotion"/>

		<protocol ref="FaceModify"/>
		<protocol ref="FaceModifyCancel"/>
		
		<protocol ref="GMRestartServer_Re"/>

		<!-- mail system related -->
		<protocol ref="GetMailList"/>
		<protocol ref="GetMail"/>
		<protocol ref="GetMailAttachObj"/>
		<protocol ref="DeleteMail"/>
		<protocol ref="PreserveMail"/>
		<protocol ref="PlayerSendMail"/>
		<protocol ref="PlayerSendMassMail"/>

		<protocol ref="AuctionOpen"/>
		<protocol ref="AuctionBid"/>
		<protocol ref="SendAuctionBid"/>
		<protocol ref="SendBattleChallenge"/>
		<protocol ref="AuctionList"/>
		<protocol ref="AuctionClose"/>
		<protocol ref="AuctionGet"/>
		<protocol ref="AuctionGetItem"/>
		<protocol ref="AuctionAttendList"/>
		<protocol ref="AuctionExitBid"/>
		<protocol ref="AuctionListUpdate"/>

		<!-- Activity related protocol  -->
		<protocol ref="QueryRewardType"/>
		<!-- GameServer Attributes -->
		<protocol ref="QueryGameServerAttr"/>

		<!-- sell point -->
		<rpc ref="DBSellPoint"/>
		<rpc ref="DBBuyPoint"/>
		<protocol ref="GetSellList"/>
		<protocol ref="SellCancel"/>

		<protocol ref="GMControlGame_Re"/>

		<!-- anti cheater -->
		<protocol ref="ACReportCheater"/>
		<protocol ref="ACTriggerQuestion"/>

		<!-- Battle field -->
		<protocol ref="BattleChallenge"/>
		<protocol ref="BattleChallengeMap"/>
		<protocol ref="BattleEnter"/>
		<protocol ref="BattleServerRegister"/>
		<protocol ref="BattleStart_Re"/>
		<protocol ref="DebugCommand"/>
		<rpc ref="BattleEnd"/>

		<!-- World Channel-->
		<protocol ref="ChatBroadCast"/>

		<!-- Stock -->
		<protocol ref="StockCommission"/>
                <protocol ref="StockAccount"/>
                <protocol ref="StockTransaction"/>
                <protocol ref="StockBill"/>
                <protocol ref="StockCancel"/>
		<rpc ref="PutSpouse"/>
		<protocol ref="BillingRequest"/>
		<protocol ref="BillingBalance"/>
		<protocol ref="BillingBalanceSA"/>
		<protocol ref="BillingConfirm"/>
		<protocol ref="BillingCancel"/>
		<protocol ref="PublicChat"/>
	
		<protocol ref="SendRefCashUsed" />
		<protocol ref="SendTaskReward" />
                <protocol ref="RefGetReferenceCode_Re"/>
		
		<!-- webtrade related -->
		<protocol ref="WebTradePrePost"/>
		<protocol ref="WebTradePreCancelPost"/>
		<protocol ref="WebTradeList"/>
		<protocol ref="WebTradeGetItem"/>
		<protocol ref="WebTradeAttendList"/>
		<protocol ref="WebTradeGetDetail"/>
		<protocol ref="WebTradeUpdate"/>
		
		<protocol ref="PrivateChat"/>

		<protocol ref="SysAuctionList"/>
		<protocol ref="SysAuctionGetItem"/>
		<protocol ref="SysAuctionAccount"/>
		<protocol ref="SysAuctionBid"/>
		<protocol ref="SysAuctionCashTransfer"/>
		<rpc ref="SysAuctionPrepareItem"/>

		<rpc ref="GetFactionFortress"/>
		<rpc ref="PutFactionFortress"/>
		<protocol ref="FactionServerRegister"/>
		<protocol ref="NotifyFactionFortressState"/>
		<protocol ref="FactionFortressEnter"/>
		<protocol ref="FactionFortressList"/>
		<protocol ref="FactionFortressChallenge"/>
		<protocol ref="FactionFortressBattleList"/>
		<protocol ref="FactionFortressGet"/>

		<protocol ref="SNSRoleBriefUpdate"/>
		<protocol ref="NotifyPlayerJoinOrLeaveForce"/>
		<protocol ref="IncreaseForceActivity"/>
		<protocol ref="SynMutaData"/>

		<protocol ref="CountryBattleApply"/>
		<protocol ref="CountryBattleJoinNotice"/>
		<protocol ref="CountryBattleLeaveNotice"/>
		<protocol ref="CountryBattleOnlineNotice"/>
		<protocol ref="CountryBattleOfflineNotice"/>
		<protocol ref="CountryBattleEnterMapNotice"/>
		<protocol ref="CountryBattleServerRegister"/>
		<protocol ref="CountryBattleStart_Re"/>
		<protocol ref="CountryBattleEnd"/>

		<protocol ref="SSOGetTicket"/>

		<!--cross server-->
		<protocol ref="PlayerChangeDS_Re" />
		<protocol ref="TryChangeDS" />
		
		<!-- player rename -->
		<protocol ref="PlayerRename"/>

        <!-- player change gender -->
        <rpc ref="DBPlayerChangeGender"/>

        <protocol ref="UpdateSoloChallengeRank"/>
        <protocol ref="GetSoloChallengeRank"/>
        <protocol ref="UpdateEnemyList"/>

		<protocol ref="KEGetStatus"/>
		<protocol ref="KECandidateApply"/>
		<protocol ref="KEVoting"/>

		<!-- player shop -->
		<protocol ref="PShopCreate"/>
		<protocol ref="PShopBuy"/>
		<protocol ref="PShopSell"/>
		<protocol ref="PShopCancelGoods"/>
		<protocol ref="PShopPlayerBuy"/>
		<protocol ref="PShopPlayerSell"/>
		<protocol ref="PShopSetType"/>
		<protocol ref="PShopActive"/>
		<protocol ref="PShopManageFund"/>
		<protocol ref="PShopDrawItem"/>
		<protocol ref="PShopClearGoods"/>
		<protocol ref="PShopSelfGet"/>

		<!-- player give present -->
		<protocol ref="PlayerGivePresent"/>
		<protocol ref="PlayerAskForPresent"/>

		<!-- touchtrade related -->
		<protocol ref="TouchPointQuery"/>
		<protocol ref="TouchPointCost"/>
		<protocol ref="GiftCodeRedeem"/>
		<protocol ref="MobileServerRegister"/>

		<!-- unique data -->
		<protocol ref="UniqueDataModifyRequire"/>
		
		<!-- tank battle-->
		<protocol ref="TankBattleServerRegister"/>
		<protocol ref="TankBattlePlayerApply"/>
		<protocol ref="TankBattlePlayerEnter"/>
		<protocol ref="TankBattlePlayerLeave"/>
		<protocol ref="TankBattleStart_Re"/>
		<protocol ref="TankBattleEnd"/>
		<protocol ref="TankBattlePlayerScoreUpdate"/>
		
		<!-- auto team -->
		<protocol ref="AutoTeamConfigRegister"/>
		<protocol ref="AutoTeamSetGoal"/>
		<protocol ref="AutoTeamPlayerReady_Re"/>

        <!-- faction resource battle related -->
		<protocol ref="FactionResourceBattleRequestConfig_Re"/>
        <protocol ref="FactionResourceBattleServerRegister"/>
        <protocol ref="FactionResourceBattleEventNotice"/>
        <protocol ref="FactionResourceBattlePlayerQuery"/>

		<!-- MNfaction -->
		<protocol ref="MNFactionBattleApply"/>
		<protocol ref="MNBattleServerRegister"/>
		<protocol ref="MNDomainBattleStart_Re"/>
		<protocol ref="MNDomainBattleEnter"/>
		<protocol ref="MNDomainBattleEnterSuccessNotice"/>
		<protocol ref="MNDomainBattleLeaveNotice"/>
		<protocol ref="MNDomainBattleEnd"/>
		<protocol ref="MNGetTopList"/>
		<protocol ref="MNGetDomainData"/>
	</state>
	
	<state name="GProviderLinkServer" timeout="120">
		<protocol ref="AnnounceProviderID"/>
		<protocol ref="S2CGamedataSend"/>
		<protocol ref="S2CMulticast"/>
		<protocol ref="S2CBroadcast"/>
		
		<protocol ref="ChatBroadCast"/>
		<protocol ref="ChatMultiCast"/>
		<protocol ref="ChatSingleCast"/>
		<protocol ref="KeepAlive"/>
		<protocol ref="PlayerHeartBeat"/>
		<protocol ref="DisconnectPlayer"/>

		<protocol ref="SwitchServerCancel"/>
		<protocol ref="SwitchServerSuccess"/>
		<protocol ref="SwitchServerTimeout"/>
	</state>

	<state name="GProviderClient" timeout="86400">
		<protocol ref="AnnounceProviderID"/>
		<protocol ref="PlayerKickout"/>
		<protocol ref="PlayerLogin"/>
		<protocol ref="PlayerOffline"/>
		<protocol ref="PlayerStatusSync"/>	<!-- send when gameserver send playerheartbeat -->
		<protocol ref="PlayerStatusAnnounce"/>	<!-- send to all gameserver, when gameserver connected or players login,logout -->
		<protocol ref="GetTaskData_Re"/>
		<protocol ref="SetTaskData_Re"/>
		
		<protocol ref="EnterWorld"/>
		<protocol ref="C2SGamedataSend"/>
		<protocol ref="PublicChat"/>
		
		<protocol ref="GTradeStart"/>
		<protocol ref="GTradeEnd"/>

		<protocol ref="SwitchServerStart"/>
		<protocol ref="SwitchServerCancel"/>

		<protocol ref="AnnounceGM"/>
		<protocol ref="GMRestartServer"/>
		
		<protocol ref="FaceModify_Re"/>
		
		<!-- faction related protocols -->
		<protocol ref="FactionBeginSync"/>
		<protocol ref="FactionEndSync"/>
		<protocol ref="PlayerFactionInfo_Re"/>
		<protocol ref="GetPlayerFactionRelation_Re"/>
		<protocol ref="FactionCongregateRequest"/>

		<!-- mail system related protocols -->
		<protocol ref="GMailEndSync"/>
		<!-- Activity related protocol  -->
		<protocol ref="QueryRewardType_Re"/>
		<!-- GameServer Attributes -->
		<protocol ref="QueryGameServerAttr_Re"/>

		<!-- anti cheater -->
		<protocol ref="ACReportCheater"/>
		
		<!-- sell point -->
		<rpc ref="DBSellPoint"/>
		<rpc ref="DBBuyPoint"/>

		<protocol ref="GMControlGame"/>

		<!-- Battle field -->
		<protocol ref="BattleStart"/>
		<rpc ref="BattleEnd"/>
		<protocol ref="BattleEnterNotice"/>
		<protocol ref="BattleMapNotice"/>
		<protocol ref="AddictionControl"/>
		<rpc ref="PutSpouse"/>
		<protocol ref="OnDivorce"/>
		<protocol ref="BillingRequest"/>
		<protocol ref="BillingBalance"/>
		<protocol ref="BillingBalanceSA_Re"/>
		<protocol ref="BillingConfirm_Re"/>

		<protocol ref="SendRefAddBonus"/>
		<protocol ref="SendRewardAddBonus"/>
		<protocol ref="RefGetReferenceCode"/>
		<protocol ref="PrivateChat"/>
		<protocol ref="FactionChat"/>
		<rpc ref="SysAuctionPrepareItem"/>

		<rpc ref="GetFactionFortress"/>
		<rpc ref="PutFactionFortress"/>
		<protocol ref="NotifyFactionFortressInfo2"/>
		<protocol ref="FactionFortressEnterNotice"/>

		<protocol ref="AddCashNotify"/>
		<protocol ref="SyncForceGlobalData"/>
		
		<!-- AU mail -->
		<protocol ref="AUMailSended"/>

		<protocol ref="CountryBattleApply_Re"/>
		<protocol ref="CountryBattleConfigNotify"/>
		<protocol ref="CountryBattleStart"/>
		<protocol ref="CountryBattleEnter"/>
		<protocol ref="CountryBattleSyncPlayerPos"/>
		<protocol ref="CountryBattleDestroyInstance"/>

		<protocol ref="SSOGetTicket"/>
		<protocol ref="PlayerEnterLeaveGT"/>
		
		<protocol ref="AutolockChanged"/>

		<!--cross server-->
		<protocol ref="PlayerChangeDS"/>

		<protocol ref="CashMoneyExchangeNotify"/>
		<protocol ref="ServerForbidNotify"/>
		<protocol ref="ServerTriggerNotify"/>
		
		<!-- player rename -->
		<protocol ref="PlayerRename_Re"/>

        <!-- player change gender -->
        <rpc ref="DBPlayerChangeGender"/>

		<!-- faction rename -->
		<protocol ref="FactionRenameGsVerify"/>

		<protocol ref="KEKingNotify"/>
		
		<!-- touchtrade related -->
		<protocol ref="TouchPointQuery_Re"/>
		<protocol ref="TouchPointCost_Re"/>
		<protocol ref="AuAddupMoneyQuery_Re"/>

		<protocol ref="GiftCodeRedeem_Re"/>
			
		<!-- unique data-->
		<protocol ref="UniqueDataModifyNotice"/>
		<protocol ref="UniqueDataSynch"/>
		
		<!-- tank battle-->
		<protocol ref="TankBattleEnter"/>
		<protocol ref="TankBattleStart"/>
		
		<!-- autoteam related -->
		<protocol ref="AutoTeamPlayerReady"/>
		<protocol ref="AutoTeamComposeStart"/>
		<protocol ref="AutoTeamComposeFailed"/>

        <!-- faction resource battle related -->
		<protocol ref="FactionResourceBattleRequestConfig"/>
        <protocol ref="FactionResourceBattleStatusNotice"/>

        <!-- MNFaction -->
		<protocol ref="MNDomainBattleStart"/>
		<protocol ref="MNDomainBattleEnter_Re"/>
		<protocol ref="MNDomainInfoGSNotice"/>
	</state>

	<!-- ********************************* -->
	<!--  STATES of gamedb 	client/server  -->
	<!-- ********************************* -->
	<state name="GameDBServer" timeout="86400">
		<protocol ref="DelRoleAnnounce" />

		<rpc ref="DBCreateRole"/>
		<rpc ref="DBDeleteRole"/>
		<rpc ref="DBUndoDeleteRole"/>
		<rpc ref="PutUser"/>
		<rpc ref="GetUser"/>
		<rpc ref="DelUser"/>
		<rpc ref="GetRole" />
		<rpc ref="GetRoleInfo" />
		<rpc ref="DelRole" />
		<rpc ref="PutRoleBase" />
		<rpc ref="GetRoleBase" />
		<rpc ref="PutRoleStatus" />
		<rpc ref="GetRolePocket" />
		<rpc ref="PutRolePocket" />
		<rpc ref="GetRoleStatus" />
		<rpc ref="PutRoleEquipment" />
		<rpc ref="GetRoleEquipment" />
		<rpc ref="PutRoleTask" />
		<rpc ref="GetRoleTask" />
		<rpc ref="PutRoleData" />
		<rpc ref="GetRoleData" />
		<rpc ref="DBModifyRoleData" />
		<rpc ref="TradeInventory" />
		<rpc ref="TradeSave" />
		<rpc ref="PutRole" />
		<rpc ref="GetMoneyInventory" />
		<rpc ref="PutMoneyInventory" />
		<rpc ref="GetRoleBaseStatus" />
		<rpc ref="PutRoleStorehouse" />
		<rpc ref="GetRoleStorehouse" />
		<rpc ref="PutRoleForbid" />
		<rpc ref="GetRoleForbid" />
		<rpc ref="GetRoleId" />
		<rpc ref="GetFriendList" />
		<rpc ref="PutFriendList"/>
		<rpc ref="PutMessage"/>
		<rpc ref="GetMessage"/>
		<rpc ref="GetTaskDataRpc"/>
		<rpc ref="PutTaskDataRpc"/>
        <rpc ref="DBMapPasswordLoad"/>
        <rpc ref="DBMapPasswordSave"/>
        <rpc ref="DBSoloChallengeRankLoad"/>
        <rpc ref="DBSoloChallengeRankSave"/>

		<rpc ref="GetUserRoles" />
		<rpc ref="ClearStorehousePasswd" />
		<rpc ref="CanChangeRolename" />
		<rpc ref="RenameRole" />
		<rpc ref="Uid2Logicuid"/>
		<rpc ref="Roleid2Uid"/>
		<rpc ref="DBGetConsumeInfos"/>

		<rpc ref="AddFaction"/>
		<rpc ref="DelFaction"/>
		<rpc ref="AddMember"/>
		<rpc ref="DelMember"/>
		<rpc ref="DelMemberSchedule"/>
		<rpc ref="UpdateUserFaction"/>
		<rpc ref="UpdateFaction"/>
		<rpc ref="DBFactionUpgrade"/>
		<rpc ref="DBFactionPromote"/>
		<rpc ref="GetFactionInfo"/>
		<rpc ref="GetUserFaction"/>
		<rpc ref="GetFactionDetail"/>
		<rpc ref="DBVerifyMaster"/>
		<rpc ref="DBBattleChallenge"/>
		<rpc ref="DBBattleLoad"/>
		<rpc ref="DBBattleSet"/>
		<rpc ref="DBBattleChallenge"/>
		<rpc ref="DBBattleEnd"/>
		<rpc ref="DBBattleMail"/>
		<rpc ref="DBBattleBonus"/>
		<rpc ref="DBFactionAllianceApply"/>
		<rpc ref="DBFactionAllianceReply"/>
		<rpc ref="DBFactionHostileApply"/>
		<rpc ref="DBFactionHostileReply"/>
		<rpc ref="DBFactionRemoveRelationApply"/>
		<rpc ref="DBFactionRemoveRelationReply"/>
		<rpc ref="DBFactionRelationTimeout"/>
		<rpc ref="DBFactionRelationApplyTimeout"/>

		<rpc ref="TransactionAcquire"/>
		<rpc ref="TransactionAbort"/>
		<rpc ref="TransactionCommit"/>
		<rpc ref="DBPlayerRequiteFriend"/>
		<protocol ref="DBFriendExtList"/>

		<!-- mail related rpcs -->
		<rpc ref="DBGetMailList"/>
		<rpc ref="DBGetMail"/>
		<rpc ref="DBGetMailAttach"/>
		<rpc ref="DBSetMailAttr"/>
		<rpc ref="DBSendMail"/>
		<rpc ref="DBDeleteMail"/>
		<rpc ref="DBSendMassMail"/>

		<rpc ref="DBAuctionOpen"/>
		<rpc ref="DBAuctionBid"/>
		<rpc ref="DBAuctionGet"/>
		<rpc ref="DBAuctionClose"/>
		<rpc ref="DBAuctionList"/>
		<rpc ref="DBAuctionTimeout"/>
		<!-- sell point -->
		<rpc ref="DBSellPoint"/>
		<rpc ref="DBBuyPoint"/>
		<rpc ref="DBSyncSellInfo"/>
		<rpc ref="DBSellTimeout"/>
		<rpc ref="DBSellCancel"/>
		<protocol ref="TransBuyPoint_Re"/>
		<rpc ref="DBTransPointDeal"/>
		<!-- sync aid,zoneid with delivery -->
		<protocol ref="AnnounceZoneid"/>
		<rpc ref="CashSerial"/>
		<rpc ref="GetAddCashSN"/>
		<protocol ref="AddCash"/>
		<protocol ref="AddCash_Re"/>
		
		<!-- stock -->
		<rpc ref="DBStockLoad"/>
                <rpc ref="DBStockTransaction"/>
                <rpc ref="DBStockBalance"/>
                <rpc ref="DBStockCommission"/>
                <rpc ref="DBStockCancel"/>

		<!-- cash password -->
                <rpc ref="DBSetCashPassword"/>
		<rpc ref="PutSpouse"/>
		<rpc ref="DBAutolockSet"/>
		<rpc ref="DBAutolockGet"/>
		<rpc ref="DBAutolockSetOffline"/>
		<rpc ref="QueryUserid"/>
		<rpc ref="DBRawRead"/>
		<rpc ref="ForbidUser"/>
		<rpc ref="DBForbidUser"/>
		<rpc ref="DBClearConsumable"/>

		<rpc ref="DBRefWithdrawTrans"/>
		<rpc ref="DBRefGetReferral"/>
		<rpc ref="DBRefGetReferrer"/>
		<rpc ref="DBRefUpdateReferral"/>
		<rpc ref="DBRefUpdateReferrer"/>


		<rpc ref="DBGetReward"/>
		<rpc ref="DBPutConsumePoints"/>
		<rpc ref="DBPutRewardBonus"/>
		<rpc ref="DBRewardMature"/>
		<rpc ref="DBExchangeConsumePoints"/>
		<protocol ref="DebugAddCash"/>
	
		<!-- reset player pos -->
		<rpc ref="DBPlayerPositionReset"/>

		<!-- webtrade related -->
		<rpc ref="DBWebTradeLoad"/>
		<rpc ref="DBWebTradeLoadSold"/>
		<rpc ref="DBWebTradePrePost"/>
		<rpc ref="DBWebTradePreCancelPost"/>
		<rpc ref="DBWebTradePost"/>
		<rpc ref="DBWebTradeCancelPost"/>
		<rpc ref="DBWebTradeShelf"/>
		<rpc ref="DBWebTradeCancelShelf"/>
		<rpc ref="DBWebTradeSold"/>
		<rpc ref="DBWebTradePostExpire"/>
		<rpc ref="DBWebTradeGetRoleSimpleInfo"/>

		<rpc ref="DBSysAuctionCashTransfer"/>
		<rpc ref="DBSysAuctionCashSpend"/>
		<rpc ref="PutServerData"/>
		<rpc ref="GetServerData"/>
		<rpc ref="GetCashTotal"/>
		<rpc ref="DBFactionFortressLoad"/>
		<rpc ref="DBPutFactionFortress"/>
		<rpc ref="DBDelFactionFortress"/>
		<rpc ref="DBCreateFactionFortress"/>
		<rpc ref="DBFactionFortressChallenge"/>
		<!-- gametalk related -->
		<rpc ref="DBGameTalkRoleList"/>
		<rpc ref="DBGameTalkRoleRelation"/>
		<rpc ref="DBGameTalkFactionInfo"/>
		<rpc ref="DBGameTalkRoleStatus"/>
		<rpc ref="DBGameTalkRoleInfo"/>
		
		<rpc ref="DBForceLoad"/>
		<rpc ref="DBPutForce"/>

		<rpc ref="DBCountryBattleBonus"/>

		<!--cross server-->
		<rpc ref="FetchPlayerData"/>
		<rpc ref="ActivatePlayerData"/>
		<rpc ref="DelPlayerData"/>
		<rpc ref="SavePlayerData"/>
		<rpc ref="PlayerIdentityMatch" />
		<rpc ref="FreezePlayerData"/>
		<rpc ref="TouchPlayerData"/>
		<protocol ref="AnnounceCentralDelivery"/>
		<rpc ref="DBUpdatePlayerCrossInfo"/>

		<rpc ref="DBLoadGlobalControl"/>
		<rpc ref="DBPutGlobalControl"/>
		<!-- unique data -->
		<rpc ref="DBUniqueDataLoad"/>	
		<rpc ref="DBUniqueDataSave"/>	

		<!-- player rename -->
		<rpc ref="DBPlayerRename"/>
		<rpc ref="DBRoleNameList"/>

        <!-- player change gender -->
        <rpc ref="DBPlayerChangeGender"/>

		<rpc ref="DBKELoad"/>
		<rpc ref="DBKECandidateApply"/>
		<rpc ref="DBKECandidateConfirm"/>
		<rpc ref="DBKEVoting"/>
		<rpc ref="DBKEKingConfirm"/>
		<rpc ref="DBKEDeleteKing"/>
		<rpc ref="DBKEDeleteCandidate"/>

		<!-- player shop -->
		<rpc ref="DBPShopCreate"/>
		<rpc ref="DBPShopBuy"/>
		<rpc ref="DBPShopSell"/>
		<rpc ref="DBPShopCancelGoods"/>
		<rpc ref="DBPShopPlayerBuy"/>
		<rpc ref="DBPShopPlayerSell"/>
		<rpc ref="DBPShopSetType"/>
		<rpc ref="DBPShopActive"/>
		<rpc ref="DBPShopManageFund"/>
		<rpc ref="DBPShopDrawItem"/>
		<rpc ref="DBPShopLoad"/>
		<rpc ref="DBPShopGet"/>
		<rpc ref="DBPShopClearGoods"/>
		<rpc ref="DBPShopTimeout"/>

		<!-- player give present -->
		<rpc ref="DBPlayerGivePresent"/>
		<rpc ref="DBPlayerAskForPresent"/>
		
		<!-- SysSendMail3 -->
		<rpc ref="DBSysMail3"/>
		
		<!-- relation match related protocols-->
		<rpc ref="DBGetPlayerProfileData"/>
		<rpc ref="DBPutPlayerProfileData"/>

		<!-- tank battle -->
		<rpc ref="DBTankBattleBonus"/>

        <!-- faction resource battle -->
		<rpc ref="DBFactionResourceBattleBonus"/>

        <!-- copy role related -->
		<rpc ref="DBCopyRole"/>
		<!-- faction rename -->
		<rpc ref="DBFactionRename" baseclass="Rpc"/>

		<!-- MNFaction -->
		<rpc ref="DBMNFactionInfoGet"/>
		<rpc ref="DBMNFactionStateUpdate"/>
		<protocol ref="DBMNFactionCacheUpdate"/>
		<rpc ref="DBMNFactionApplyInfoGet"/> 
		<rpc ref="DBMNFactionBattleApply"/>
		<rpc ref="DBMNFactionInfoUpdate"/>
		<rpc ref="DBMNDomainInfoUpdate"/>
        <rpc ref="DBMNFactionApplyResNotify"/>
		<rpc ref="DBMNPutBattleBonus"/>
		<rpc ref="DBMNSendBattleBonus"/>
		<rpc ref="DBMNSendBonusNotify"/>
		<rpc ref="DBMNFactionApplyInfoPut"/>
	</state>
	<state name="GFactionDBClient" timeout="86400">
		<rpc ref="AddFaction"/>
		<rpc ref="DelFaction"/>
		<rpc ref="AddMember"/>
		<rpc ref="DelMember"/>
		<rpc ref="DelMemberSchedule"/>
		<rpc ref="UpdateUserFaction"/>
		<rpc ref="UpdateFaction"/>
		<rpc ref="DBFactionUpgrade"/>
		<rpc ref="DBFactionPromote"/>
		<rpc ref="GetFactionInfo"/>
		<rpc ref="GetUserFaction"/>
		<rpc ref="GetFactionDetail"/>
		<rpc ref="DBFactionAllianceApply"/>
		<rpc ref="DBFactionAllianceReply"/>
		<rpc ref="DBFactionHostileApply"/>
		<rpc ref="DBFactionHostileReply"/>
		<rpc ref="DBFactionRemoveRelationApply"/>
		<rpc ref="DBFactionRemoveRelationReply"/>
		<rpc ref="DBFactionRelationTimeout"/>
		<rpc ref="DBFactionRelationApplyTimeout"/>
	</state>
	<state name="GameDBClient" timeout="86400">
		<protocol ref="DelRoleAnnounce" />

		<rpc ref="DBCreateRole"/>
		<rpc ref="DBDeleteRole"/>
		<rpc ref="DBUndoDeleteRole"/>
		<rpc ref="PutUser"/>
		<rpc ref="GetUser"/>
		<rpc ref="DelUser"/>
		<rpc ref="GetRole" />
		<rpc ref="GetRoleInfo" />
		<rpc ref="DelRole" />
		<rpc ref="DelRole" />
		<rpc ref="PutRoleBase" />
		<rpc ref="GetRoleBase" />
		<rpc ref="GetRolePocket" />
		<rpc ref="PutRolePocket" />
		<rpc ref="PutRoleStatus" />
		<rpc ref="GetRoleStatus" />
		<rpc ref="PutRoleEquipment" />
		<rpc ref="GetRoleEquipment" />
		<rpc ref="PutRoleTask" />
		<rpc ref="GetRoleTask" />
		<rpc ref="PutRoleData" />
		<rpc ref="GetRoleData" />
		<rpc ref="TradeInventory" />
		<rpc ref="TradeSave" />
		<rpc ref="PutRole" />
		<rpc ref="GetMoneyInventory" />
		<rpc ref="PutMoneyInventory" />
		<rpc ref="GetRoleBaseStatus" />
		<rpc ref="PutRoleStorehouse" />
		<rpc ref="GetRoleStorehouse" />
		<rpc ref="PutRoleForbid" />
		<rpc ref="GetRoleForbid" />
		<rpc ref="GetRoleId" />
		<rpc ref="GetFriendList" />
		<rpc ref="PutFriendList"/>
		<rpc ref="PutMessage"/>
		<rpc ref="GetMessage"/>
		<rpc ref="GetTaskDataRpc"/>
		<rpc ref="PutTaskDataRpc"/>
		<rpc ref="DBVerifyMaster"/>
		<rpc ref="DBGetConsumeInfos"/>
        <rpc ref="DBMapPasswordLoad"/>
        <rpc ref="DBMapPasswordSave"/>
        <rpc ref="DBSoloChallengeRankLoad"/>
        <rpc ref="DBSoloChallengeRankSave"/>

		<rpc ref="GetUserRoles" />
		<rpc ref="ClearStorehousePasswd" />
		<rpc ref="CanChangeRolename" />
		<rpc ref="RenameRole" />
		<rpc ref="Uid2Logicuid"/>
		<rpc ref="Roleid2Uid"/>

		<rpc ref="TransactionAcquire"/>
		<rpc ref="TransactionAbort"/>
		<rpc ref="TransactionCommit"/>
		<rpc ref="DBPlayerRequiteFriend"/>
		<protocol ref="DBFriendExtList_Re"/>

		<!-- mail related rpcs -->
		<rpc ref="DBGetMailList"/>
		<rpc ref="DBGetMail"/>
		<rpc ref="DBGetMailAttach"/>
		<rpc ref="DBSetMailAttr"/>
		<rpc ref="DBSendMail"/>
		<rpc ref="DBDeleteMail"/>
		<rpc ref="DBSendMassMail"/>

		<rpc ref="DBAuctionOpen"/>
		<rpc ref="DBAuctionBid"/>
		<rpc ref="DBAuctionGet"/>
		<rpc ref="DBAuctionClose"/>
		<rpc ref="DBAuctionList"/>
		<rpc ref="DBAuctionTimeout"/>
		
		<!-- sell point -->
		<protocol ref="TransBuyPoint"/>
		<protocol ref="SyncSellInfo"/>
		<rpc ref="DBSellPoint"/>
		<rpc ref="DBBuyPoint"/>
		<rpc ref="DBSyncSellInfo"/>
		<rpc ref="DBSellTimeout"/>
		<rpc ref="DBSellCancel"/>
		<rpc ref="DBTransPointDeal"/>
		
		<!-- Battle field -->
		<rpc ref="DBBattleChallenge"/>
		<rpc ref="DBBattleLoad"/>
		<rpc ref="DBBattleSet"/>
		<rpc ref="DBBattleChallenge"/>
		<rpc ref="DBBattleEnd"/>
		<rpc ref="DBBattleMail"/>
		<rpc ref="DBBattleBonus"/>

		<protocol ref="AddCash"/>
		<protocol ref="AddCash_Re"/>
		<rpc ref="CashSerial"/>
		<rpc ref="GetAddCashSN"/>
		<!-- stock -->
		<rpc ref="DBStockLoad"/>
                <rpc ref="DBStockTransaction"/>
                <rpc ref="DBStockBalance"/>
                <rpc ref="DBStockCommission"/>
                <rpc ref="DBStockCancel"/>

		<!-- cash password -->
                <rpc ref="DBSetCashPassword"/>
		<rpc ref="PutSpouse"/>
		<rpc ref="DBAutolockSet"/>
		<rpc ref="DBAutolockGet"/>
		<rpc ref="DBAutolockSetOffline"/>
		<rpc ref="QueryUserid"/>
		<rpc ref="ForbidUser"/>
		<rpc ref="DBForbidUser"/>
		<rpc ref="DBClearConsumable"/>

		<rpc ref="DBRefWithdrawTrans"/>
		<rpc ref="DBRefGetReferral"/>
		<rpc ref="DBRefGetReferrer"/>
		<rpc ref="DBRefUpdateReferral"/>
		<rpc ref="DBRefUpdateReferrer"/>

		<rpc ref="DBGetReward"/>
		<rpc ref="DBPutConsumePoints"/>
		<rpc ref="DBPutRewardBonus"/>
		<rpc ref="DBRewardMature"/>
		<rpc ref="DBExchangeConsumePoints"/>
		<protocol ref="DebugAddCash"/>
		
		<!-- reset player pos -->
		<rpc ref="DBPlayerPositionReset"/>
		
		<!-- webtrade related -->
		<rpc ref="DBWebTradeLoad"/>
		<rpc ref="DBWebTradeLoadSold"/>
		<rpc ref="DBWebTradePrePost"/>
		<rpc ref="DBWebTradePreCancelPost"/>
		<rpc ref="DBWebTradePost"/>
		<rpc ref="DBWebTradeCancelPost"/>
		<rpc ref="DBWebTradeShelf"/>
		<rpc ref="DBWebTradeCancelShelf"/>
		<rpc ref="DBWebTradeSold"/>
		<rpc ref="DBWebTradePostExpire"/>
		<rpc ref="DBWebTradeGetRoleSimpleInfo"/>

		<rpc ref="DBSysAuctionCashTransfer"/>
		<rpc ref="DBSysAuctionCashSpend"/>
		<rpc ref="PutServerData"/>
		<rpc ref="GetServerData"/>
		<rpc ref="GetCashTotal"/>
		<rpc ref="DBFactionFortressLoad"/>
		<rpc ref="DBPutFactionFortress"/>
		<rpc ref="DBDelFactionFortress"/>
		<rpc ref="DBCreateFactionFortress"/>
		<rpc ref="DBFactionFortressChallenge"/>

		<!-- gametalk related -->
		<rpc ref="DBGameTalkRoleList"/>
		<rpc ref="DBGameTalkRoleRelation"/>
		<rpc ref="DBGameTalkFactionInfo"/>
		<rpc ref="DBGameTalkRoleStatus"/>
		<rpc ref="DBGameTalkRoleInfo"/>

		<rpc ref="DBForceLoad"/>
		<rpc ref="DBPutForce"/>

		<rpc ref="DBCountryBattleBonus"/>

		<!--cross server-->
		<rpc ref="FetchPlayerData"/>
		<rpc ref="ActivatePlayerData"/>
		<rpc ref="DelPlayerData"/>
		<rpc ref="SavePlayerData"/>
		<rpc ref="PlayerIdentityMatch"/>
		<rpc ref="FreezePlayerData"/>
		<rpc ref="TouchPlayerData"/>
		<rpc ref="DBUpdatePlayerCrossInfo"/>

		<rpc ref="DBLoadGlobalControl"/>
		<rpc ref="DBPutGlobalControl"/>
		<protocol ref="AnnounceZoneGroup"/>
		<!-- unique data -->
		<rpc ref="DBUniqueDataLoad"/>	
		<rpc ref="DBUniqueDataSave"/>	
		<!-- player rename -->
		<rpc ref="DBPlayerRename"/>
		<rpc ref="DBRoleNameList"/>

        <!-- player change gender -->
        <rpc ref="DBPlayerChangeGender"/>

		<rpc ref="DBKELoad"/>
		<rpc ref="DBKECandidateApply"/>
		<rpc ref="DBKECandidateConfirm"/>
		<rpc ref="DBKEVoting"/>
		<rpc ref="DBKEKingConfirm"/>
		<rpc ref="DBKEDeleteKing"/>
		<rpc ref="DBKEDeleteCandidate"/>

		<!-- player shop -->
		<rpc ref="DBPShopCreate"/>
		<rpc ref="DBPShopBuy"/>
		<rpc ref="DBPShopSell"/>
		<rpc ref="DBPShopCancelGoods"/>
		<rpc ref="DBPShopPlayerBuy"/>
		<rpc ref="DBPShopPlayerSell"/>
		<rpc ref="DBPShopSetType"/>
		<rpc ref="DBPShopActive"/>
		<rpc ref="DBPShopManageFund"/>
		<rpc ref="DBPShopDrawItem"/>
		<rpc ref="DBPShopLoad"/>
		<rpc ref="DBPShopGet"/>
		<rpc ref="DBPShopClearGoods"/>
		<rpc ref="DBPShopTimeout"/>

		<!-- player give present -->
		<rpc ref="DBPlayerGivePresent"/>
		<rpc ref="DBPlayerAskForPresent"/>

		<!-- SysSendMail3 -->
		<rpc ref="DBSysMail3"/>

		<!-- relation match related protocols-->
		<rpc ref="DBGetPlayerProfileData"/>
		<rpc ref="DBPutPlayerProfileData"/>

		<!-- tank battle -->
		<rpc ref="DBTankBattleBonus"/>

        <!-- faction resource battle -->
		<rpc ref="DBFactionResourceBattleBonus"/>

        <!-- copy role related -->
		<rpc ref="DBCopyRole"/>
       	<!-- faction rename -->
		<rpc ref="DBFactionRename"/>

		<!-- MNFaction cdc -->
		<rpc ref="DBMNFactionApplyInfoGet"/> 
		<rpc ref="DBMNFactionBattleApply"/>
        <protocol ref="MNFactionInfoUpdate"/>
        <rpc ref="DBMNFactionApplyResNotify"/>
		<rpc ref="DBMNSendBattleBonus"/>
		<!-- MNFaction cds -->
		<rpc ref="DBMNFactionInfoGet"/>
		<rpc ref="DBMNFactionStateUpdate"/>
		<rpc ref="DBMNFactionInfoUpdate"/>
		<rpc ref="DBMNDomainInfoUpdate"/>
		<rpc ref="DBMNFactionApplyInfoPut"/>
		<rpc ref="DBMNPutBattleBonus"/>
		<rpc ref="DBMNSendBonusNotify"/>

	</state>
	<state name="UniqueNameServer" timeout="86400">
		<rpc ref="PreCreateRole"/>
		<rpc ref="PostCreateRole"/>
		<rpc ref="PostDeleteRole"/>
		<rpc ref="PreCreateFaction"/>
		<rpc ref="PostCreateFaction"/>
		<rpc ref="PostDeleteFaction"/>
		<rpc ref="RolenameExists"/>
		<rpc ref="UserRoleCount"/>
		<rpc ref="MoveRoleCreate"/>
		<rpc ref="PreCreateFamily"/>
		<rpc ref="PostCreateFamily"/>
		<rpc ref="PostDeleteFamily"/>
		<rpc ref="DBRawRead"/>
		<protocol ref="KeepAlive"/>
		
		<!-- player rename -->
		<rpc ref="PrePlayerRename" baseclass="Rpc"/>
		<protocol ref="PostPlayerRename"/>
		<!-- faction rename -->
		<rpc ref="PreFactionRename"/>
		<protocol ref="PostFactionRename"/>
	</state>
	<state name="UniqueNameClient" timeout="86400">
		<rpc ref="PreCreateRole"/>
		<rpc ref="PostCreateRole"/>
		<rpc ref="PostDeleteRole"/>
		<rpc ref="PreCreateFaction"/>
		<rpc ref="PostCreateFaction"/>
		<rpc ref="PostDeleteFaction"/>
		<rpc ref="PreCreateFamily"/>
		<rpc ref="PostCreateFamily"/>
		<rpc ref="PostDeleteFamily"/>
		
		<!-- player rename -->
		<rpc ref="PrePlayerRename" baseclass="Rpc"/>
		<rpc ref="PreFactionRename"/>
	</state>

	<!-- *********************************** -->
	<!--  STATES of Accountdb client/server  -->
	<!-- *********************************** -->
	<!-- Used to Create role and check whether rolename is unique-->
	<state name="GRoleDBServer" timeout="86400">
		<rpc ref="AccountAddRole"/>
		<rpc ref="AccountDelRole"/>
	</state>
	
	<state name="GRoleDBClient" timeout="86400">
		<rpc ref="AccountAddRole"/>
		<rpc ref="AccountDelRole"/>
	</state>
	
	<!-- *********************************** -->
	<!--  STATES of gFaction Server/client   -->
	<!-- *********************************** -->
	<state name="GFactionServer" timeout="86400">
		<protocol ref="AnnounceZoneid"/>
		<protocol ref="AnnounceProviderID"/>
		<protocol ref="FactionCreate"/>

		<!-- user management related protocols -->
		<protocol ref="PlayerStatusAnnounce"/>		
		<protocol ref="PlayerFactionInfo"/>
		<rpc ref="AnnounceFactionRoleDel"/>
		<protocol ref="GetFactionBaseInfo"/>
		<protocol ref="GetPlayerFactionInfo"/>
		<protocol ref="FactionOPRequest"/>
		<protocol ref="FactionAcceptJoin"/>
		<rpc ref="FactionInviteJoin"/>
		<protocol ref="FactionListOnline"/>
		<protocol ref="BattleChallengeMap_Re"/>

		<!-- chat related protocols -->
		<protocol ref="ChatBroadCast"/>
		<protocol ref="FactionChat"/>
		<protocol ref="SetChatEmotion"/>
		<protocol ref="BattleFactionNotice"/>
		<protocol ref="NotifyFactionFortressID"/>
		<protocol ref="AnnounceCentralDelivery"/>
		
		<!-- player rename -->
		<protocol ref="NotifyFactionPlayerRename"/>
       	<!-- faction rename -->
		<rpc ref="DBFactionRename"/>
        <!-- faction resource battle related -->
        <protocol ref="FactionResourceBattleLimitNotice"/>
		<protocol ref="FactionUniqueIdAnnounce"/>
	</state>
	<state name="GFactionLinkClient" timeout="86400">
		<protocol ref="FactionOPRequest_Re"/>
		<protocol ref="FactionCreate_Re"/>
		<protocol ref="FactionApplyJoin_Re"/>
		<protocol ref="FactionListMember_Re"/>
		<protocol ref="FactionAcceptJoin_Re"/>
		<protocol ref="FactionExpel_Re"/>
		<protocol ref="FactionBroadcastNotice_Re"/>
		<!--protocol ref="FactionPayRewards_Re"/-->
		<protocol ref="FactionMasterResign_Re"/>
		<protocol ref="FactionAppoint_Re"/>
		<protocol ref="FactionResign_Re"/>
		<protocol ref="FactionChangProclaim_Re"/>
		<!--protocol ref="FactionImpeach_Re"/-->
		<protocol ref="FactionLeave_Re"/>
		<protocol ref="FactionDismiss_Re"/>
		<protocol ref="FactionRename_Re"/>
		<protocol ref="FactionUpgrade_Re"/>
		<protocol ref="FactionDegrade_Re"/>
		<!--protocol ref="FactionListApplicant_Re"/-->
		<rpc ref="FactionInviteJoin"/>
		<protocol ref="FactionAllianceApply_Re"/>
		<protocol ref="FactionAllianceReply_Re"/>
		<protocol ref="FactionHostileApply_Re"/>
		<protocol ref="FactionHostileReply_Re"/>
		<protocol ref="FactionRemoveRelationApply_Re"/>
		<protocol ref="FactionRemoveRelationReply_Re"/>
		<protocol ref="FactionListRelation_Re"/>
		<protocol ref="FactionRelationRecvApply"/>
		<protocol ref="FactionRelationRecvReply"/>
		<!-- chat related protocols -->
		<protocol ref="FactionChat"/>
		<protocol ref="FactionDelayExpelAnnounce"/> 
		<protocol ref="GetFactionBaseInfo_Re"/>
		<protocol ref="GetPlayerFactionInfo_Re"/>
		<protocol ref="FactionListOnline_Re"/>
		<protocol ref="BattleEnter_Re"/>
		<protocol ref="WorldChat"/>
		<protocol ref="BattleChallengeMap_Re"/>
		
		<!-- player rename -->
		<protocol ref="PlayerNameUpdate"/>
		<!-- faction rename -->
		<protocol ref="FactionRenameAnnounce"/>
	</state>
	<state name="GFactionDeliveryClient" timeout="86400">
		<rpc ref="AnnounceFactionRoleDel"/>
		<protocol ref="BattleEnter"/>
		<protocol ref="DelFactionAnnounce"/>
		<protocol ref="SendBattleChallenge"/>
		<protocol ref="CreateFactionFortress"/>

		<!-- gametalk related -->
		<protocol ref="FactionMemberUpdate"/>
		<protocol ref="FactionInfoUpdate"/>
		<protocol ref="FactionMsg"/>
		<protocol ref="FactionForbidUpdate"/>
		<protocol ref="PlayerSendMassMail"/>
		<!-- faction rename -->
		<rpc ref="DBFactionRename"/>
	</state>
	<state name="GProviderFactionServer" timeout="86400">
		<protocol ref="KeepAlive"/>
		<protocol ref="AnnounceProviderID"/>
		<protocol ref="FactionOPRequest"/>
		<protocol ref="FactionBeginSync_Re"/>
		<protocol ref="PlayerFactionInfo"/>
		<protocol ref="BattleEnter"/>
		<protocol ref="SendBattleChallenge"/>
		<protocol ref="FactionChat"/>
		<protocol ref="CreateFactionFortress"/>
		<protocol ref="GetPlayerFactionRelation"/>
		<protocol ref="FactionCongregateRequest"/>
		<protocol ref="PlayerSendMassMail"/>
		<protocol ref="FactionRenameGsVerify_Re"/>
	</state>
	
	<!-- *********************************** -->
	<!--  STATES of WebTrade client/server  -->
	<!-- *********************************** -->
	<state name="GWebTradeServer" timeout="86400">
		<protocol ref="Post" />	
		<protocol ref="GamePostCancel" />	
		<protocol ref="WebPostCancel_Re" />	
		<protocol ref="Shelf_Re" />	
		<protocol ref="ShelfCancel_Re" />	
		<protocol ref="Sold_Re" />	
		<protocol ref="PostExpire_Re" />	
		<protocol ref="WebGetRoleList_Re" />	
		<protocol ref="NewKeepAlive" />	
		<rpc ref="QueryUserid"/>
	</state>
	
	<state name="GWebTradeClient" timeout="86400">
		<protocol ref="Post_Re" />	
		<protocol ref="GamePostCancel_Re" />	
		<protocol ref="WebPostCancel" />	
		<protocol ref="Shelf" />	
		<protocol ref="ShelfCancel" />	
		<protocol ref="Sold" />	
		<protocol ref="PostExpire" />	
		<protocol ref="WebGetRoleList" />	
		<rpc ref="QueryUserid"/>
	</state>

	<!-- *********************************** -->
	<!--  STATES of GameTalk client		 -->
	<!-- *********************************** -->
	<state name="GameTalkClient" timeout="86400">
		<protocol ref="AnnounceResp"/>
		<protocol ref="IMKeepAlive"/>
		<protocol ref="RoleListReq"/>
		<protocol ref="RoleRelationReq"/>
		<protocol ref="FactionInfoReq"/>
		<protocol ref="GameDataReq"/>
		<protocol ref="RoleInfoReq"/>
		<protocol ref="RoleStatusReq"/>
		<protocol ref="RoleStatusResp"/>
		<protocol ref="RoleStatusUpdate"/>
		<protocol ref="RoleActivation"/>
		<protocol ref="RoleMsg"/>
		<protocol ref="RoleOfflineMessages"/>
		<protocol ref="FactionMsg"/>
		<protocol ref="SyncTeams"/>
		<protocol ref="TeamCreate"/>
		<protocol ref="TeamDismiss"/>
		<protocol ref="TeamMemberUpdate"/>
		<protocol ref="RoleEnterVoiceChannel"/>
		<protocol ref="RoleEnterVoiceChannelAck"/>
		<protocol ref="RoleLeaveVoiceChannel"/>
		<protocol ref="RoleLeaveVoiceChannelAck"/>
	</state>

	<!-- *********************************** -->
	<!--  STATES of SNS client				 -->
	<!-- *********************************** -->
	<state name="SNSServer" timeout="86400">
		<protocol ref="AnnounceZoneidToIM"/>
		<protocol ref="IMKeepAlive"/>
		<protocol ref="GameDataResp"/>
		<protocol ref="RoleListResp"/>
		<protocol ref="RoleRelationResp"/>
		<protocol ref="FactionInfoResp"/>
	</state>
	<state name="SNSClient" timeout="86400">
		<protocol ref="IMKeepAlive"/>
		<protocol ref="GameDataReq"/>
		<protocol ref="RoleListReq"/>
		<protocol ref="RoleRelationReq"/>
		<protocol ref="FactionInfoReq"/>
	</state>
	
	<!-- ****************************************************************************** -->
	<!--  							Sevices of Game System					 			-->
	<!-- ****************************************************************************** -->
	<service name="glinkd">
		<manager name="GLink" type="server" initstate="GLoginServer"/>
		<manager name="GDelivery" type="client" initstate="GDeliverClient" reconnect="1"/>
		<manager name="GFaction" type="client" initstate="GFactionLinkClient" reconnect="1"/>
		<manager name="GProvider" type="server" initstate="GProviderLinkServer"/>
		
		<state ref="GLoginServer"/>
		<state ref="GResponseReceive"/>
		<state ref="GKeyReestablished"/>
		<state ref="GVerifyMatrix"/>
		<state ref="GKeyExchgSend"/> 
		<state ref="GKeyExchgSucc" />
		<state ref="GRoleList" />
		<state ref="GRoleList_OnGame"/>
		<state ref="GRoleListReceive" />
		<state ref="GSelectRoleServer" />
		<state ref="GSelectRoleReceive" />
		<state ref="GResetPlayerPosReceive"/>
		<state ref="GCreateRoleReceive" />
		<state ref="GDeleteRoleReceive"/>
		<state ref="GUndoDeleteRoleReceive"/>
		<state ref="GReadyGame" />
		<state ref="GDataExchgServer"/>
		<state ref="GWebTradeOpReceive"/>
		<state ref="GPhoneReceive"/>
		
		<state ref="GDeliverClient"/>
		<state ref="GProviderLinkServer"/>

		<state ref="GFactionLinkClient"/>
		<state ref="__only_for_stub"/>

		<state ref="Null" />

		<protocol ref="AuctionExitBid"/>
		<protocol ref="ErrorInfo"/>
		<protocol ref="Challenge"/>
		
		<protocol ref="SelectRole_Re"/>
		<protocol ref="PlayerLogin"/>
		<protocol ref="PlayerOffline"/>
		<protocol ref="PlayerStatusSync"/>
		<protocol ref="C2SGamedataSend"/>
		
		<protocol ref="ChatMessage"/>
		<protocol ref="WorldChat"/>

		<rpc ref="AddFriendRqst" baseclass="ProxyRpc" sendmanager="GLinkServer"/>
		<rpc ref="TradeStartRqst" baseclass="ProxyRpc" sendmanager="GLinkServer"/>
		<rpc ref="FactionInviteJoin" baseclass="ProxyRpc" sendmanager="GLinkServer"/>
		<protocol ref="AnnounceNewMail"/>

		<!-- anti-cheat related protocols -->
		<protocol ref="ACWhoAmI"/>
		<protocol ref="ACProtoStat"/>
		<protocol ref="ReportIP"/>
		<!-- sell point system -->
		<protocol ref="SellPoint_Re"/>
		<protocol ref="MatrixChallenge"/>
		<protocol ref="MatrixFailure"/>

		<!-- reset player pos -->
		<rpc ref="PlayerPositionResetRqst" baseclass="ProxyRpc" sendmanager="GLinkServer"/>
		
		<!-- cross server related -->
		<protocol ref="AnnounceLinkVersion"/>

		<!-- player rename -->
		<protocol ref="PlayerRename_Re"/>
		<protocol ref="PlayerNameUpdate"/>

        <protocol ref="GetSoloChallengeRank_Re"/>
        <protocol ref="UpdateEnemyList_Re"/>

		<!-- player give present -->
		<protocol ref="PlayerGivePresent_Re"/>
		<protocol ref="PlayerAskForPresent_Re"/>

		<protocol ref="AnnounceLinkType"/>

		<!-- tank battle -->
		<protocol ref="TankBattlePlayerApply_Re"/>
		<protocol ref="TankBattlePlayerGetRank"/>
		<protocol ref="TankBattlePlayerGetRank_Re"/>
		<!-- unique data -->
		<protocol ref="UniqueDataModifyBroadcast"/>

		<!-- MNfaction -->
		<protocol ref="MNFactionBattleApply_Re"/>
		<protocol ref="MNGetDomainData_Re"/>
		<protocol ref="MNGetPlayerLastEnterInfo"/>
		<protocol ref="MNGetPlayerLastEnterInfo_Re"/>
		<protocol ref="MNGetFactionBriefInfo"/>
		<protocol ref="MNGetFactionBriefInfo_Re"/>
		<protocol ref="MNGetTopList_Re"/>
	</service>
	
	<service name="gdeliveryd">
		<manager name="GDelivery" type="server" initstate="GDeliverServer"/>
		<manager name="GAuth" type="client" initstate="GAuthClient" reconnect="1"/>
		<manager name="GProvider" type="server" initstate="GProviderDeliveryServer" />
		<manager name="GameDB" type="client" initstate="GameDBClient" reconnect="1"/>
		<manager name="UniqueName" type="client" initstate="UniqueNameClient" reconnect="1"/>
		<manager name="GRoleDB" type="client" initstate="GRoleDBClient" reconnect="1"/>
		<manager name="GFaction" type="client" initstate="GFactionDeliveryClient" reconnect="1"/>
		<manager name="GAntiCheat" type="client" initstate="ACClient" reconnect="1"/>
		<manager name="GWebTrade" type="client" initstate="GWebTradeClient" reconnect="1"/>
		<manager name="GameTalk" type="client" initstate="GameTalkClient" reconnect="1"/>
		<manager name="SNS" type="client" initstate="SNSClient" reconnect="1"/>
		<manager name="CentralDelivery" type="client" initstate="CentralDeliveryClient" reconnect="1"/>
		<manager name="CentralDelivery" type="server" initstate="CentralDeliveryServer" reconnect="1"/>
				
		<state ref="GDeliverServer"/>
		<state ref="GAuthClient"/>
		<state ref="GProviderDeliveryServer"/>
		<state ref="GameDBClient"/>
		<state ref="UniqueNameClient"/>
		<state ref="GRoleDBClient"/>
		<state ref="GFactionDeliveryClient"/>
		<state ref="ACClient"/>
		<state ref="GWebTradeClient"/>
		<state ref="GameTalkClient"/>
		<state ref="SNSClient"/>
		<state ref="CentralDeliveryClient"/>
		<state ref="CentralDeliveryServer"/>

		<protocol ref="QueryUserPrivilege"/>
		<protocol ref="QueryUserForbid"/>
		<protocol ref="PlayerKickout"/>
		<protocol ref="PlayerOffline"/>
		<protocol ref="GetTaskData_Re"/>
		<protocol ref="SetTaskData_Re"/>
		<protocol ref="PlayerStatusAnnounce"/>	
		<protocol ref="OnlineAnnounce"/>
		<protocol ref="RoleList_Re"/>
		<protocol ref="CreateRole_Re"/>
		<protocol ref="DeleteRole_Re"/>
		<protocol ref="UndoDeleteRole_Re"/>
		<protocol ref="AccountLoginRecord"/>
		<protocol ref="PlayerBaseInfo_Re"/>
		<protocol ref="PlayerBaseInfoCRC_Re"/>
		<protocol ref="SetCustomData_Re"/>
		<protocol ref="GetCustomData_Re"/>
		<protocol ref="GetPlayerIDByName_Re"/>
		<protocol ref="SetUIConfig_Re"/>
		<protocol ref="GetUIConfig_Re"/>
		<protocol ref="SetHelpStates_Re"/>
		<protocol ref="GetHelpStates_Re"/>
		<protocol ref="GetPlayerBriefInfo_Re"/>
		<protocol ref="GMGetPlayerConsumeInfo_Re"/>
		<protocol ref="WaitQueueStateNotify"/>
		<protocol ref="CancelWaitQueue_Re"/>

		<protocol ref="GMControlGame"/>
		<protocol ref="GMControlGame_Re"/>

		<protocol ref="FaceModify_Re"/>
		
		<protocol ref="AccountingRequest" />
		
		<protocol ref="ChatBroadCast"/>
		<protocol ref="WorldChat"/>
		<protocol ref="FactionChat"/>
		<protocol ref="ChatMultiCast"/>
		<protocol ref="ChatSingleCast"/>
		<protocol ref="RoleStatusAnnounce"/>

		<!--friend relative protocols-->
		<protocol ref="AddFriend_Re"/>
        <protocol ref="AddFriendRemarks_Re"/>
		<protocol ref="GetFriends_Re"/>
        <protocol ref="UpdateEnemyList_Re"/>
        <protocol ref="GetEnemyList_Re"/>
		<protocol ref="SetGroupName_Re"/>
		<protocol ref="SetFriendGroup_Re"/>
		<protocol ref="GetSavedMsg_Re"/>
		<protocol ref="ChatRoomCreate_Re"/>
		<protocol ref="ChatRoomInvite_Re"/>
		<protocol ref="ChatRoomJoin_Re"/>
		<protocol ref="ChatRoomList_Re"/>
		<protocol ref="FriendExtList"/>
		<protocol ref="SendAUMail_Re"/>
		<rpc ref="DBPlayerRequiteFriend" baseclass="Rpc"/>

		<!--trade relative protocols-->
		<protocol ref="TradeStart_Re"/>
		<protocol ref="TradeAddGoods_Re"/>
		<protocol ref="TradeRemoveGoods_Re"/>
		<protocol ref="TradeSubmit_Re"/>
		<protocol ref="TradeMoveObj_Re"/>
		<protocol ref="TradeConfirm_Re"/>
		<protocol ref="TradeDiscard_Re"/>
		<protocol ref="TradeEnd"/>
		<protocol ref="GTradeStart"/>
		<protocol ref="GTradeEnd"/>

		<!--faction relate protocols -->
		<!--protocol ref="AnnounceProviderID"/-->

		<!--cert relative protocols -->

		<rpc ref="GQueryPasswd" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
		<rpc ref="UserLogin" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
		<rpc ref="UserLogin2" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
		<rpc ref="CashSerial" baseclass="ProxyRpc" sendmanager="GameDBClient"/>
		<rpc ref="GetAddCashSN" baseclass="ProxyRpc" sendmanager="GameDBClient"/>
		<rpc ref="MatrixPasswd" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
		<rpc ref="MatrixPasswd2" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
		<rpc ref="MatrixToken" baseclass="ProxyRpc" sendmanager="GAuthClient"/>
		<rpc ref="PutSpouse" baseclass="ProxyRpc" sendmanager="GameDBClient"/>
		<rpc ref="QueryUserid" baseclass="ProxyRpc" sendmanager="GameDBClient"/>
		<rpc ref="ForbidUser" baseclass="ProxyRpc" sendmanager="GameDBClient" />
		
		<!-- reset player pos -->
		<rpc ref="PlayerPositionResetRqst" baseclass="Rpc"/>
		
		<!-- player rename -->
		<protocol ref="PlayerRename_Re"/>
		<protocol ref="NotifyFactionPlayerRename"/>
		<protocol ref="PostPlayerRename"/>
		<protocol ref="PlayerNameUpdate"/>

        <!-- player change gender -->
        <rpc ref="DBPlayerChangeGender" baseclass="ProxyRpc" sendmanager="GameDBClient"/>

		<!-- faction rename -->
		<rpc ref="DBFactionRename" baseclass="ProxyRpc" sendmanager="GameDBClient" />
		<!-- player give present -->
		<protocol ref="PlayerGivePresent_Re"/>
		<protocol ref="PlayerAskForPresent_Re"/>

        <protocol ref="GetSoloChallengeRank_Re"/>

		<!-- GM related protocols -->
		<protocol ref="AnnounceGM"/> <!-- announce Gm's privilege to Gameserver-->
		<protocol ref="GMOnlineNum_Re"/>
		<protocol ref="GMListOnlineUser_Re"/>
		<protocol ref="GMKickoutUser_Re"/>
		<protocol ref="GMForbidSellPoint_Re"/>
		<protocol ref="GMKickoutRole_Re"/>
		<protocol ref="GMShutup_Re"/>
		<protocol ref="GMShutupRole_Re"/>
		<protocol ref="GMToggleChat_Re"/>
		<protocol ref="GMForbidRole_Re"/>
		<protocol ref="Report2GM_Re"/>
		<protocol ref="Complain2GM_Re"/>
		<protocol ref="AnnounceForbidInfo"/>
		<protocol ref="SetMaxOnlineNum_Re"/>
                <protocol ref="VerifyMaster"/>
                <protocol ref="VerifyMaster_Re"/>	
		<protocol ref="GMSetTimelessAutoLock_Re"/>
		<protocol ref="IWebAutolockGet_Re"/>
		<protocol ref="IWebAutolockSet_Re"/>
	
		<!-- anti-cheat related protocols -->
		<protocol ref="ACWhoAmI"/>
		<protocol ref="ACStatusAnnounce"/>
		<protocol ref="ACStatusAnnounce2"/>
		<protocol ref="ACAccuse"/>
		<protocol ref="PlayerAccuse_Re"/>

		<!-- mail system related protocols -->
		<protocol ref="AnnounceNewMail"/>
		<protocol ref="GetMailList_Re"/>
		<protocol ref="GetMail_Re"/>
		<protocol ref="GetMailAttachObj_Re"/>
		<protocol ref="DeleteMail_Re"/>
		<protocol ref="PreserveMail_Re"/>
		<protocol ref="PlayerSendMail_Re"/>
		<protocol ref="GMailEndSync"/>
		<protocol ref="SysSendMail_Re"/>
		<protocol ref="SysSendMail3_Re"/>
		<protocol ref="SysRecoveredObjMail_Re"/> <!-- lijing -->

		<protocol ref="AuctionOpen_Re"/>
		<protocol ref="AuctionBid_Re"/>
		<protocol ref="AuctionClose_Re"/>
		<protocol ref="AuctionList_Re"/>
		<protocol ref="AuctionGet_Re"/>
		<protocol ref="AuctionGetItem_Re"/>
		<protocol ref="AuctionAttendList_Re"/>
		<protocol ref="AuctionExitBid_Re"/>
		<protocol ref="AuctionListUpdate_Re"/>

		<protocol ref="BattleGetMap_Re"/>
		<protocol ref="BattleStatus_Re"/>
		<protocol ref="BattleChallenge_Re"/>
		<protocol ref="BattleChallengeMap_Re"/>
		<protocol ref="BattleEnter_Re"/>
		<protocol ref="BattleStart_Re"/>
		<protocol ref="BattleEnterNotice"/>
		<protocol ref="BattleMapNotice"/>
		<protocol ref="BattleStart"/>
		<protocol ref="BattleFactionNotice"/>

		<!-- Activity related protocol  -->
		<protocol ref="QueryRewardType"/>
		<protocol ref="QueryRewardType_Re"/>

		<!-- Gameserver Attribute -->
		<protocol ref="QueryGameServerAttr_Re"/>
		<!-- Announce server attribute-->
		<protocol ref="AnnounceServerAttribute"/>
		<protocol ref="AnnounceChallengeAlgo"/>
		<protocol ref="AnnounceAuthdVersion"/>

		<!-- sell point -->
		<rpc ref="DBSellPoint" baseclass="ProxyRpc" sendmanager="GameDBClient"/>
		<rpc ref="DBBuyPoint" baseclass="ProxyRpc" sendmanager="GameDBClient"/>

		<protocol ref="GetSellList_Re"/>
		<protocol ref="FindSellPointInfo_Re"/>
		<protocol ref="AnnounceSellResult"/>
		<protocol ref="SellCancel_Re"/>
		<protocol ref="BuyPoint_Re"/>
		<protocol ref="SellPoint_Re"/>
		<protocol ref="AnnounceZoneid"/>
		<protocol ref="AnnounceZoneid2"/>
		<protocol ref="AnnounceZoneid3"/>

		<!-- stock -->
		<protocol ref="StockCommission_Re"/>
                <protocol ref="StockAccount_Re"/>
                <protocol ref="StockTransaction_Re"/>
                <protocol ref="StockBill_Re"/>
                <protocol ref="StockCancel_Re"/>
		
		<!-- cash password -->
                <protocol ref="CashLock_Re"/>
                <protocol ref="CashPasswordSet_Re"/>
		<protocol ref="OnDivorce"/>
		<protocol ref="AutolockSet_Re"/>
		<protocol ref="ForwardChat"/>
		<protocol ref="DisableAutolock"/>
		<protocol ref="ACForbidCheater"/>
		<protocol ref="AutolockChanged"/>

		<protocol ref="SendRefAddBonus"/>
		<protocol ref="SendRewardAddBonus"/>
                <protocol ref="RefWithdrawBonus_Re"/>
                <protocol ref="RefListReferrals_Re"/>

                <protocol ref="RewardMatureNotice"/>
                <protocol ref="ExchangeConsumePoints_Re"/>
                <protocol ref="GetRewardList_Re"/>

		<!-- webtrade related -->
		<protocol ref="WebTradePrePost_Re"/>
		<protocol ref="WebTradePreCancelPost_Re"/>
		<protocol ref="WebTradeList_Re"/>
		<protocol ref="WebTradeGetItem_Re"/>
		<protocol ref="WebTradeAttendList_Re"/>
		<protocol ref="WebTradeGetDetail_Re"/>
		<protocol ref="WebTradeUpdate_Re"/>
		<protocol ref="Post" />	
		<protocol ref="GamePostCancel" />	
		<protocol ref="WebPostCancel_Re" />	
		<protocol ref="Shelf_Re" />	
		<protocol ref="ShelfCancel_Re" />	
		<protocol ref="Sold_Re" />	
		<protocol ref="PostExpire_Re" />	
		<protocol ref="WebGetRoleList_Re" />	
		<protocol ref="NewKeepAlive" />	

		<protocol ref="SysAuctionList_Re"/>
		<protocol ref="SysAuctionGetItem_Re"/>
		<protocol ref="SysAuctionAccount_Re"/>
		<protocol ref="SysAuctionBid_Re"/>
		<protocol ref="SysAuctionCashTransfer_Re"/>
		
		<protocol ref="CreateFactionFortress_Re"/>
		<protocol ref="NotifyFactionFortressInfo2"/>
		<protocol ref="FactionFortressEnterNotice"/>
		<protocol ref="FactionFortressList_Re"/>
		<protocol ref="FactionFortressChallenge_Re"/>
		<protocol ref="FactionFortressBattleList_Re"/>
		<protocol ref="FactionFortressGet_Re"/>
		<protocol ref="NotifyFactionFortressID"/>

		<!-- gametalk related -->
		<protocol ref="AnnounceZoneidToIM"/>
		<protocol ref="GameSysMsg"/>
		<protocol ref="GameDataReq"/>
		<protocol ref="GameDataResp"/>
		<protocol ref="IMKeepAlive"/>
		<protocol ref="AnnounceResp"/>
		<protocol ref="RoleListReq"/>
		<protocol ref="RoleListResp"/>
		<protocol ref="RoleRelationReq"/>
		<protocol ref="RoleRelationResp"/>
		<protocol ref="RoleStatusReq"/>
		<protocol ref="RoleStatusResp"/>
		<protocol ref="RoleInfoReq"/>
		<protocol ref="RoleInfoResp"/>
		<protocol ref="RoleStatusUpdate"/>
		<protocol ref="RoleGroupUpdate"/>
		<protocol ref="RoleFriendUpdate"/>
		<protocol ref="RoleBlacklistUpdate"/>
		<protocol ref="RoleMsg"/>
		<protocol ref="RoleOfflineMessages"/>
		<protocol ref="RoleActivation"/>
		<protocol ref="RemoveRole"/>
		<protocol ref="RoleInfoUpdate"/>
		<protocol ref="RoleForbidUpdate"/>
		<protocol ref="FactionInfoReq"/>
		<protocol ref="FactionInfoResp"/>
		<protocol ref="FactionMemberUpdate"/>
		<protocol ref="FactionInfoUpdate"/>
		<protocol ref="FactionMsg"/>
		<protocol ref="RemoveFaction"/>
		<protocol ref="FactionForbidUpdate"/>
		<protocol ref="SyncTeams"/>
		<protocol ref="TeamCreate"/>
		<protocol ref="TeamDismiss"/>
		<protocol ref="TeamMemberUpdate"/>
		<protocol ref="RoleEnterVoiceChannel"/>
		<protocol ref="RoleEnterVoiceChannelAck"/>
		<protocol ref="RoleLeaveVoiceChannel"/>
		<protocol ref="RoleLeaveVoiceChannelAck"/>
		<rpc ref="DBGameTalkRoleList"/>
		<rpc ref="DBGameTalkRoleRelation"/>
		<rpc ref="DBGameTalkFactionInfo"/>
		<rpc ref="DBGameTalkRoleStatus"/>
		<rpc ref="DBGameTalkRoleInfo"/>

		<protocol ref="UserCoupon_Re"/>
		<protocol ref="UserCouponExchange_Re"/>
		<protocol ref="AddCashNotify"/>
		<protocol ref="UserAddCash_Re"/>
		<protocol ref="SSOGetTicket_Re"/>
		<protocol ref="SSOGetTicketReq"/>
		<protocol ref="SyncForceGlobalData"/>
		<protocol ref="AUMailSended"/>
		<protocol ref="Game2AU"/>
		<protocol ref="DBFriendExtList"/>

		<protocol ref="CountryBattleApply_Re"/>
		<protocol ref="CountryBattleConfigNotify"/>
		<protocol ref="CountryBattleMove_Re"/>
		<protocol ref="CountryBattleSyncPlayerLocation"/>
		<protocol ref="CountryBattleStart"/>
		<protocol ref="CountryBattleEnter"/>
		<protocol ref="CountryBattleGetMap_Re"/>
		<protocol ref="CountryBattleSyncPlayerPos"/>
		<protocol ref="CountryBattleGetConfig_Re"/>
		<protocol ref="CountryBattleGetScore_Re"/>
		<protocol ref="CountryBattlePreEnterNotify"/>
		<protocol ref="CountryBattleResult"/>
		<protocol ref="CountryBattleSingleBattleResult"/>
		<protocol ref="CountryBattleKingAssignAssault_Re"/>
		<protocol ref="CountryBattleGetBattleLimit_Re"/>
		<protocol ref="CountryBattleGetKingCommandPoint_Re"/>
		<protocol ref="GetCNetServerConfig_Re"/>
		<protocol ref="CountryBattleDestroyInstance"/>

		<protocol ref="QPAnnounceDiscount"/>
		<protocol ref="QPGetActivatedServices_Re"/>
		<protocol ref="QPAddCash_Re"/>

		<protocol ref="PlayerEnterLeaveGT"/>
		
		<!--cross server-->
		<protocol ref="PlayerChangeDS"/>
		<protocol ref="ChangeDS_Re"/>
		<rpc ref="PlayerIdentityMatch" baseclass="ProxyRpc" sendmanager="GameDBClient" />
		<protocol ref="AnnounceCentralDelivery"/>
		<protocol ref="KickoutUser2"/>

		<protocol ref="CashMoneyExchangeNotify"/>
		<protocol ref="ServerForbidNotify"/>
		<protocol ref="ServerTriggerNotify"/>
		
		<protocol ref="KEGetStatus_Re"/>
		<protocol ref="KECandidateApply_Re"/>
		<protocol ref="KEVoting_Re"/>
		<protocol ref="KEKingNotify"/>

		<!-- player shop -->
		<protocol ref="PShopCreate_Re"/>
		<protocol ref="PShopBuy_Re"/>
		<protocol ref="PShopSell_Re"/>
		<protocol ref="PShopCancelGoods_Re"/>
		<protocol ref="PShopPlayerBuy_Re"/>
		<protocol ref="PShopPlayerSell_Re"/>
		<protocol ref="PShopSetType_Re"/>
		<protocol ref="PShopActive_Re"/>
		<protocol ref="PShopManageFund_Re"/>
		<protocol ref="PShopDrawItem_Re"/>
		<protocol ref="PShopClearGoods_Re"/>
		<protocol ref="PShopSelfGet_Re"/>
		<protocol ref="PShopPlayerGet_Re"/>
		<protocol ref="PShopList_Re"/>
		<protocol ref="PShopListItem_Re"/>

		<!-- touchtrade related -->
		<protocol ref="TouchPointQuery_Re"/>
		<protocol ref="TouchPointCost_Re"/>
		<protocol ref="AuAddupMoneyQuery_Re"/>
		<protocol ref="GiftCodeRedeem_Re"/>
		<!-- unique data-->
		<protocol ref="UniqueDataModifyNotice"/>
		<protocol ref="UniqueDataSynch"/>

		<!-- relation match related protocols-->
		<protocol ref="PlayerProfileGetProfileData_Re"/>
		<protocol ref="PlayerProfileGetMatchResult_Re"/>

		<protocol ref="UniqueDataModifyBroadcast"/>
		
		<!-- tank battle-->
		<protocol ref="TankBattleEnter"/>
		<protocol ref="TankBattleStart"/>
		<protocol ref="TankBattlePlayerApply_Re"/>
		<protocol ref="TankBattlePlayerGetRank_Re"/>
		
		<!-- autoteam related -->
		<protocol ref="AutoTeamSetGoal_Re"/>
		<protocol ref="AutoTeamPlayerReady"/>
		<protocol ref="AutoTeamComposeStart"/>
		<protocol ref="AutoTeamComposeFailed"/>
		<protocol ref="AutoTeamPlayerLeave"/>

        <!-- faction resource battle related -->
		<protocol ref="FactionResourceBattleRequestConfig"/>
        <protocol ref="FactionResourceBattleStatusNotice"/>
        <protocol ref="FactionResourceBattlePlayerQueryResult"/>
        <protocol ref="FactionResourceBattleLimitNotice"/>
        <protocol ref="FactionResourceBattleGetMap_Re"/>
        <protocol ref="FactionResourceBattleGetRecord_Re"/>
        <protocol ref="FactionResourceBattleNotifyPlayerEvent"/>

		<protocol ref="FactionUniqueIdAnnounce"/>
		<protocol ref="DBMNFactionCacheUpdate"/>
		<protocol ref="MNDomainBattleStart"/>
		<protocol ref="MNDomainBattleEnter_Re"/>
		<rpc ref="DBMNPutBattleBonus"/>
		<protocol ref="MNDomainInfoGSNotice"/>
		<protocol ref="MNFactionBattleApply_Re"/>
		<protocol ref="MNGetDomainData_Re"/>
		<protocol ref="MNGetPlayerLastEnterInfo_Re"/>
		<protocol ref="MNGetFactionBriefInfo_Re"/>
		<protocol ref="MNGetFactionInfo_Re"/>
		<protocol ref="MNGetTopList_Re"/>
		
		<protocol ref="CrossChat"/>
		<protocol ref="CrossChat_Re"/>
		<protocol ref="CrossSoloChallengeRank"/>
		<protocol ref="CrossSoloChallengeRank_Re"/>
	</service>
	
	<service name="gauthd">
		<manager name="GAuth" type="server" initstate="GAuthServer"/>

		<state ref="GAuthServer"/>

		<protocol ref="QueryUserPrivilege_Re"/>
		<protocol ref="QueryUserForbid_Re"/>
		<protocol ref="KickoutUser" />
		<protocol ref="AccountingResponse" />
		<protocol ref="AuthdVersion"/>
		<protocol ref="AU2Game"/>
		<protocol ref="DiscountAnnounce"/>
	</service>
	
	<service name="gclient">
		<manager name="GLink" type="client" initstate="GLoginClient"/>

		<state ref="GLoginClient"/>
		<state ref="GSelectRoleClient"/>
		<state ref="GDataExchgClient"/>

		<protocol ref="Response"/>
		<protocol ref="SelectRole"/>
		<protocol ref="EnterWorld"/>
		<protocol ref="RoleList"/>
		<protocol ref="CreateRole"/>
		<protocol ref="DeleteRole"/>
		<protocol ref="UndoDeleteRole"/>
		<protocol ref="PlayerBaseInfo"/>
		<protocol ref="PlayerBaseInfoCRC"/>
		<protocol ref="GetPlayerIDByName"/>
		<protocol ref="SetCustomData"/>
		<protocol ref="GetCustomData"/>
		<protocol ref="SetUIConfig"/>
		<protocol ref="GetUIConfig"/>
		<protocol ref="SetHelpStates"/>
		<protocol ref="GetHelpStates"/>
		<protocol ref="GetPlayerBriefInfo"/>
		<protocol ref="GMGetPlayerConsumeInfo"/>
        <protocol ref="CollectClientMachineInfo"/>
		<protocol ref="CancelWaitQueue"/>

		<protocol ref="PublicChat"/>

		<!--friend relative protocols-->
		<protocol ref="GetFriends"/>
		<protocol ref="SendAUMail"/>
        <protocol ref="AddFriendRemarks"/>
		<protocol ref="PlayerRequiteFriend"/>
        <protocol ref="GetEnemyList"/>
		
		<!-- faction related protocols -->
		<protocol ref="FactionOPRequest"/>
		<protocol ref="FactionCreate"/>
		<protocol ref="FactionAcceptJoin"/>
		<protocol ref="GetFactionBaseInfo"/>
		<protocol ref="GetFactionBaseInfo_Re"/>
		<protocol ref="GetPlayerFactionInfo"/>
		<protocol ref="GetPlayerFactionInfo_Re"/>
		<protocol ref="FactionListOnline"/>

		<protocol ref="BattleGetMap"/>
		<protocol ref="BattleStatus"/>
		<protocol ref="BattleChallenge"/>
		<protocol ref="BattleChallengeMap"/>
		<protocol ref="BattleEnter"/>
		
		<!-- countrybattle related protocols  -->
		<protocol ref="CountryBattleMove"/>
		<protocol ref="CountryBattleGetMap"/>
		<protocol ref="CountryBattleGetPlayerLocation"/>
		<protocol ref="CountryBattleGetConfig"/>
		<protocol ref="CountryBattleGetScore"/>
		<protocol ref="CountryBattlePreEnter"/>
		<protocol ref="CountryBattleReturnCapital"/>
		<protocol ref="CountryBattleKingAssignAssault"/>
		<protocol ref="CountryBattleKingResetBattleLimit"/>
		<protocol ref="CountryBattleGetBattleLimit"/>
		<protocol ref="CountryBattleGetKingCommandPoint"/>
		<protocol ref="GetCNetServerConfig"/>

		<!--trade relative protocols-->

		<!--trade relative protocols-->
		<protocol ref="TradeAddGoods"/>
		<protocol ref="TradeRemoveGoods"/>
		<protocol ref="TradeSubmit"/>
		<protocol ref="TradeMoveObj"/>
		<protocol ref="TradeConfirm"/>
		<protocol ref="TradeDiscard"/>
		
		<!-- reset player pos -->
		<rpc ref="PlayerPositionResetRqst" baseclass="Rpc"/>
		
		<!-- GM related protocols -->
		<protocol ref="GMOnlineNum"/>
		<protocol ref="GMListOnlineUser"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="GMForbidSellPoint"/>
		<protocol ref="GMKickoutRole"/>
		<protocol ref="GMShutup"/>
		<protocol ref="GMShutupRole"/>
		<protocol ref="GMToggleChat"/>
		<protocol ref="GMForbidRole"/>
		<protocol ref="Report2GM"/>
		<protocol ref="Complain2GM"/>
		<protocol ref="GMSetTimelessAutoLock"/>

		<!-- anti-cheat related protocols -->
		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>

		<!-- mail system related -->
		<protocol ref="CheckNewMail"/>
		<protocol ref="AnnounceNewMail"/>

		<protocol ref="GetMailList"/>
		<protocol ref="GetMail"/>
		<protocol ref="GetMailAttachObj"/>
		<protocol ref="DeleteMail"/>
		<protocol ref="PreserveMail"/>
		<protocol ref="PlayerSendMail"/>
		<protocol ref="PlayerSendMassMail"/>

		<protocol ref="AuctionOpen"/>
		<protocol ref="AuctionBid"/>
		<protocol ref="AuctionList"/>
		<protocol ref="AuctionClose"/>
		<protocol ref="AuctionGet"/>
		<protocol ref="AuctionGetItem"/>
		<protocol ref="AuctionAttendList"/>
		<protocol ref="AuctionExitBid"/>
		<protocol ref="AuctionListUpdate"/>
		
		<!-- sell point -->
		<protocol ref="SellPoint"/>
		<protocol ref="BuyPoint"/>
		<protocol ref="GetSellList"/>
		<protocol ref="FindSellPointInfo"/>
		<protocol ref="SellCancel"/>

		<!-- stock -->
		<protocol ref="StockCommission"/>
                <protocol ref="StockBill"/>
                <protocol ref="StockAccount"/>
                <protocol ref="StockCancel"/>

		<protocol ref="RefWithdrawBonus"/>
		<protocol ref="RefListReferrals"/>
		<protocol ref="RefGetReferenceCode"/>

		<protocol ref="ExchangeConsumePoints"/>
		<protocol ref="GetRewardList"/>

		<!-- webtrade related -->
		<protocol ref="WebTradePrePost"/>
		<protocol ref="WebTradePreCancelPost"/>
		<protocol ref="WebTradeList"/>
		<protocol ref="WebTradeGetItem"/>
		<protocol ref="WebTradeAttendList"/>
		<protocol ref="WebTradeGetDetail"/>
		<protocol ref="WebTradeUpdate"/>
		<protocol ref="WebTradeRolePrePost"/>
		<protocol ref="WebTradeRolePreCancelPost"/>
		<protocol ref="WebTradeRoleGetDetail"/>
		
		<protocol ref="SysAuctionList"/>
		<protocol ref="SysAuctionGetItem"/>
		<protocol ref="SysAuctionAccount"/>
		<protocol ref="SysAuctionBid"/>
		<protocol ref="SysAuctionCashTransfer"/>
		
		<protocol ref="CreateFactionFortress"/>
		<protocol ref="FactionFortressEnter"/>
		<protocol ref="FactionFortressList"/>
		<protocol ref="FactionFortressChallenge"/>
		<protocol ref="FactionFortressBattleList"/>
		<protocol ref="FactionFortressGet"/>

		<protocol ref="UserCoupon"/>
		<protocol ref="UserCouponExchange"/>
		<protocol ref="UserAddCash"/>
		<protocol ref="SSOGetTicket"/>

		<protocol ref="QPGetActivatedServices"/>
		<protocol ref="QPAddCash"/>

		<protocol ref="ReportChat"/>
		<protocol ref="PlayerAccuse"/>

		<!--cross server-->
		<protocol ref="KeyReestablish"/>

		<protocol ref="KEGetStatus"/>
		<protocol ref="KECandidateApply"/>
		<protocol ref="KEVoting"/>

		<!-- player shop -->
		<protocol ref="PShopCreate"/>
		<protocol ref="PShopBuy"/>
		<protocol ref="PShopSell"/>
		<protocol ref="PShopCancelGoods"/>
		<protocol ref="PShopPlayerBuy"/>
		<protocol ref="PShopPlayerSell"/>
		<protocol ref="PShopSetType"/>
		<protocol ref="PShopActive"/>
		<protocol ref="PShopManageFund"/>
		<protocol ref="PShopDrawItem"/>
		<protocol ref="PShopClearGoods"/>
		<protocol ref="PShopSelfGet"/>
		<protocol ref="PShopPlayerGet"/>
		<protocol ref="PShopList"/>
		<protocol ref="PShopListItem"/>

		<!-- player profile protocols-->
		<protocol ref="PlayerProfileGetProfileData"/>
		<protocol ref="PlayerProfileSetProfileData"/>
		<protocol ref="PlayerProfileGetMatchResult"/>

		<!-- tank battle -->
		<protocol ref="TankBattlePlayerGetRank"/>
        <!-- faction resource battle -->
        <protocol ref="FactionResourceBattleGetMap"/>
        <protocol ref="FactionResourceBattleGetRecord"/>
		<!-- MNfaction -->
		<protocol ref="MNGetPlayerLastEnterInfo"/>
		<protocol ref="MNGetFactionBriefInfo"/>
		<protocol ref="MNGetFactionInfo"/>
	</service>
	
	<service name="gamed">
		<manager name="GProvider" type="client" initstate="GProviderClient" reconnect="1"/>
		
		<state ref="GProviderClient"/>

		<protocol ref="PlayerKickout_Re"/>
		<protocol ref="PlayerLogin_Re"/>
		<protocol ref="PlayerOffline_Re"/>
		<protocol ref="PlayerLogout"/>
		<protocol ref="PlayerInfoUpdate"/>
		<protocol ref="PlayerTeamOp"/>
		<protocol ref="PlayerTeamMemberOp"/>

		<protocol ref="QueryPlayerStatus"/>
		<protocol ref="GetTaskData"/>
		<protocol ref="SetTaskData"/>
		<protocol ref="S2CGamedataSend"/>
		<protocol ref="S2CMulticast"/>
		<protocol ref="S2CBroadcast"/>

		<protocol ref="ChatMultiCast"/>
		<protocol ref="ChatBroadCast"/>
		<protocol ref="ChatSingleCast"/>
		
		<protocol ref="KeepAlive"/>
		<protocol ref="PlayerHeartBeat"/>
		<protocol ref="DisconnectPlayer"/>

		<protocol ref="GTradeStart_Re"/>
		<protocol ref="GTradeDiscard"/>

		<protocol ref="SetChatEmotion"/>

		<protocol ref="FaceModify"/>
		<protocol ref="FaceModifyCancel"/>
		
		<protocol ref="SynMutaData"/>
		<!--switch server-->
		<protocol ref="SwitchServerSuccess"/>
		<protocol ref="SwitchServerTimeout"/>

		<!--faction related protocols-->
		<protocol ref="FactionOPRequest"/>
		<protocol ref="FactionBeginSync_Re"/>
		<protocol ref="PlayerFactionInfo"/>
		<protocol ref="GetPlayerFactionRelation"/>

		<protocol ref="BattleChallenge"/>
		<protocol ref="BattleChallengeMap"/>
		<protocol ref="BattleEnter"/>
		<protocol ref="BattleServerRegister"/>
		<protocol ref="BattleStart_Re"/>
		<protocol ref="DebugCommand"/>
		
		<protocol ref="GMRestartServer_Re"/>
		<protocol ref="GMControlGame_Re"/>

		<!-- mail system related -->
		<protocol ref="GetMailList"/>
		<protocol ref="GetMail"/>
		<protocol ref="GetMailAttachObj"/>
		<protocol ref="DeleteMail"/>
		<protocol ref="PreserveMail"/>
		<protocol ref="PlayerSendMail"/>
		<protocol ref="PlayerSendMassMail"/>

		<!-- auction related -->
		<protocol ref="AuctionOpen"/>
		<protocol ref="AuctionBid"/>
		<protocol ref="SendAuctionBid"/>
		<protocol ref="SendBattleChallenge"/>
		<protocol ref="AuctionList"/>
		<protocol ref="AuctionClose"/>
		<protocol ref="AuctionGet"/>
		<protocol ref="AuctionGetItem"/>
		<protocol ref="AuctionAttendList"/>
		<protocol ref="AuctionExitBid"/>
		<protocol ref="AuctionListUpdate"/>

		<!-- Activity related protocol  -->
		<protocol ref="QueryRewardType"/>
		<protocol ref="QueryRewardType_Re"/>

		<protocol ref="ACTriggerQuestion"/>

		<!-- game server attribute -->
		<protocol ref="QueryGameServerAttr"/>
		<!-- sell point -->
		<protocol ref="SellPoint"/>
		<protocol ref="BuyPoint"/>
		<protocol ref="GetSellList"/>
		<protocol ref="SellCancel"/>

		<!-- stock -->
		<protocol ref="StockCommission"/>
                <protocol ref="StockAccount"/>
                <protocol ref="StockTransaction"/>
                <protocol ref="StockBill"/>
                <protocol ref="StockCancel"/>
		<rpc ref="PutSpouse" baseclass="Rpc" />

		<protocol ref="SendRefCashUsed" />
		<protocol ref="SendTaskReward" />
		<protocol ref="RefGetReferenceCode_Re"/>
		<protocol ref="BillingBalanceSA"/>
		<protocol ref="BillingConfirm"/>
		<protocol ref="BillingCancel"/>
		
		<!-- webtrade related -->
		<protocol ref="WebTradePrePost"/>
		<protocol ref="WebTradePreCancelPost"/>
		<protocol ref="WebTradeList"/>
		<protocol ref="WebTradeGetItem"/>
		<protocol ref="WebTradeAttendList"/>
		<protocol ref="WebTradeGetDetail"/>
		<protocol ref="WebTradeUpdate"/>
		
		<protocol ref="SysAuctionList"/>
		<protocol ref="SysAuctionGetItem"/>
		<protocol ref="SysAuctionAccount"/>
		<protocol ref="SysAuctionBid"/>
		<protocol ref="SysAuctionCashTransfer"/>

		<protocol ref="CreateFactionFortress"/>
		<protocol ref="FactionServerRegister"/>
		<protocol ref="NotifyFactionFortressState"/>
		<protocol ref="FactionFortressEnter"/>
		<protocol ref="FactionFortressList"/>
		<protocol ref="FactionFortressChallenge"/>
		<protocol ref="FactionFortressBattleList"/>
		<protocol ref="FactionFortressGet"/>
		
		<protocol ref="SNSRoleBriefUpdate"/>
		<protocol ref="NotifyPlayerJoinOrLeaveForce"/>
		<protocol ref="IncreaseForceActivity"/>
		
		<protocol ref="CountryBattleApply"/>
		<protocol ref="CountryBattleJoinNotice"/>
		<protocol ref="CountryBattleLeaveNotice"/>
		<protocol ref="CountryBattleOnlineNotice"/>
		<protocol ref="CountryBattleOfflineNotice"/>
		<protocol ref="CountryBattleEnterMapNotice"/>
		<protocol ref="CountryBattleServerRegister"/>
		<protocol ref="CountryBattleStart_Re"/>
		<protocol ref="CountryBattleEnd"/>
		
		<!-- player rename -->
		<protocol ref="PlayerRename"/>

        <!-- player change gender -->
        <rpc ref="DBPlayerChangeGender"/>

        <protocol ref="UpdateSoloChallengeRank"/>
        <protocol ref="GetSoloChallengeRank"/>
        <protocol ref="UpdateEnemyList"/>

		<!--cross server-->
		<protocol ref="TryChangeDS" />
		<protocol ref="PlayerChangeDS_Re" />

		<protocol ref="KEGetStatus"/>
		<protocol ref="KECandidateApply"/>
		<protocol ref="KEVoting"/>

		<!-- player shop -->
		<protocol ref="PShopCreate"/>
		<protocol ref="PShopBuy"/>
		<protocol ref="PShopSell"/>
		<protocol ref="PShopCancelGoods"/>
		<protocol ref="PShopPlayerBuy"/>
		<protocol ref="PShopPlayerSell"/>
		<protocol ref="PShopSetType"/>
		<protocol ref="PShopActive"/>
		<protocol ref="PShopManageFund"/>
		<protocol ref="PShopDrawItem"/>
		<protocol ref="PShopClearGoods"/>
		<protocol ref="PShopSelfGet"/>

		<!-- player give present -->
		<protocol ref="PlayerGivePresent"/>
		<protocol ref="PlayerAskForPresent"/>
		
		<!-- touchtrade related -->
		<protocol ref="TouchPointQuery"/>
		<protocol ref="TouchPointCost"/>
		<protocol ref="GiftCodeRedeem"/>
		<protocol ref="MobileServerRegister"/>

		<!-- unique data -->
		<protocol ref="UniqueDataModifyRequire"/>
		
		<!-- tank battle-->
		<protocol ref="TankBattleServerRegister"/>
		<protocol ref="TankBattlePlayerApply"/>
		<protocol ref="TankBattlePlayerEnter"/>
		<protocol ref="TankBattlePlayerLeave"/>
		<protocol ref="TankBattleStart_Re"/>
		<protocol ref="TankBattleEnd"/>
		<protocol ref="TankBattlePlayerScoreUpdate"/>
		
		<!-- auto team-->
		<protocol ref="AutoTeamConfigRegister"/>
		<protocol ref="AutoTeamSetGoal"/>
		<protocol ref="AutoTeamPlayerReady_Re"/>
        
        <!-- faction resource battle related -->
        <protocol ref="FactionResourceBattleServerRegister"/>
        <protocol ref="FactionResourceBattleEventNotice"/>
        <protocol ref="FactionResourceBattlePlayerQuery"/>
		<protocol ref="FactionResourceBattleRequestConfig_Re"/>
		<!-- faction rename -->
		<protocol ref="FactionRenameGsVerify_Re"/>

		<!-- MNfaction -->
		<protocol ref="MNFactionBattleApply"/>
		<protocol ref="MNBattleServerRegister"/>
		<protocol ref="MNDomainBattleStart_Re"/>
		<protocol ref="MNDomainBattleEnter"/>
		<protocol ref="MNDomainBattleEnterSuccessNotice"/>
		<protocol ref="MNDomainBattleLeaveNotice"/>
		<protocol ref="MNDomainBattleEnd"/>
		<protocol ref="MNGetTopList"/>
		<protocol ref="MNGetDomainData"/>
	</service>

	<service name="gamedbd">
		<manager name="GameDB" type="server" initstate="GameDBServer"/>
		
		<state ref="GameDBServer"/>
		<rpc ref="DBSellPoint"/>
		<protocol ref="TransBuyPoint"/>
		<protocol ref="SyncSellInfo"/>
		<rpc ref="ForbidUser" baseclass="Rpc" />
		<rpc ref="QueryUserid" baseclass="Rpc"/>
		<rpc ref="CashSerial" baseclass="Rpc"/>
		<rpc ref="GetAddCashSN" baseclass="Rpc"/>
		<protocol ref="DBFriendExtList_Re"/>
		
		<!--cross server-->
		<rpc ref="PlayerIdentityMatch" baseclass="Rpc" />
		<rpc ref="DBFactionRename" baseclass="Rpc" />
		<protocol ref="AnnounceZoneGroup"/>

        <protocol ref="MNFactionInfoUpdate"/>
	</service>

	<service name="uniquenamed">
		<manager name="UniqueName" type="server" initstate="UniqueNameServer"/>
		
		<state ref="UniqueNameServer"/>
	</service>


	<service name="gacd">
		<manager name="GAntiCheater" type="server" initstate="ACServer"/>
		<manager name="GACControl" type="server" initstate="ACControlServer"/>
		
		<state ref="ACServer"/>
		<state ref="ACControlServer"/>

		<protocol ref="ACReport"/>
		<protocol ref="ACAnswer"/>
		<protocol ref="ACProtoStat"/>
        <protocol ref="ACWhoAmI"/>
        <protocol ref="ACStatusAnnounce"/>
        <protocol ref="ACStatusAnnounce2"/>
        <!--<protocol ref="PlayerStatusAnnounce"/>-->
		<protocol ref="ACRemoteCode"/>
		<protocol ref="ACQuestion"/>
		<protocol ref="ACConnectRe"/>
		<protocol ref="ACReloadConfig"/>
		<protocol ref="ACReloadConfigRe"/>
		<protocol ref="ACRemoteExe"/>
		<protocol ref="ACRemoteExeRe"/>
		<protocol ref="ACQuery"/>
		<protocol ref="ACSendCode"/>
		<protocol ref="ACQLogInfo"/>
		<protocol ref="ACQUserStrs"/>
		<protocol ref="ACQUserOnline"/>
		<protocol ref="ACQMouseInfo" />
		<protocol ref="ACQThreadTimes" />
		<protocol ref="ACQProtocolStats" />
		<protocol ref="ACQStrOwner"/>
		<protocol ref="ACVersion"/>
		<protocol ref="ACCheaters"/>
		<protocol ref="ACQPatterns"/>
		<protocol ref="ACForbidProcess"/>
		<protocol ref="ACQPlatformInfo"/>
		<protocol ref="ACBriefInfo"/>
		<protocol ref="ACPeriodInfo"/>
		<protocol ref="ACQCodeRes"/>
		<protocol ref="ACReportCheater"/>
		<protocol ref="GMKickoutUser"/>
		<protocol ref="GMKickoutUser_Re"/>
		<protocol ref="ACAccuseRe"/>
	</service>

	<service name="gacdclient">
		<manager name="GAntiCheater" type="client" initstate="ACControlClient"/>
		<state ref="ACControlClient"/>
		<protocol ref="ACWhoAmI"/>
		<!--<protocol ref="ACCommand"/>
		<protocol ref="ACData"/>-->
		<protocol ref="ACReloadConfig"/>
		<protocol ref="ACReloadConfigRe"/>
		<protocol ref="ACRemoteExe"/>
		<protocol ref="ACRemoteExeRe"/>
		<protocol ref="ACQuery"/>
		<protocol ref="ACSendCode"/>
		<protocol ref="ACQLogInfo"/>
		<protocol ref="ACQUserStrs"/>
		<protocol ref="ACQUserOnline"/>
		<protocol ref="ACQMouseInfo" />
		<protocol ref="ACQThreadTimes" />
		<protocol ref="ACQProtocolStats" />
		<protocol ref="ACQStrOwner"/>
		<protocol ref="ACVersion"/>
		<protocol ref="ACCheaters"/>
		<protocol ref="ACQPatterns"/>
		<protocol ref="ACForbidProcess"/>
		<protocol ref="ACQPlatformInfo"/>
		<protocol ref="ACBriefInfo"/>
		<protocol ref="ACPeriodInfo"/>
		<protocol ref="ACQCodeRes"/>
		<protocol ref="ACConnectRe"/>
	</service>

	<service name="gfaction">
		<manager name="GFaction" type="server" initstate="GFactionServer"/>
		<manager name="GProvider" type="server" initstate="GProviderFactionServer"/>
		<manager name="GFactionDB" type="client" initstate="GFactionDBClient" reconnect="1"/>
		<manager name="UniqueName" type="client" initstate="UniqueNameClient" reconnect="1"/>

		<state ref="GFactionServer"/>
		<state ref="GProviderFactionServer"/>
		<state ref="GFactionDBClient"/>
		<state ref="UniqueNameClient"/>

		<protocol ref="PlayerFactionInfo_Re"/>
		
		<!-- faction related protocols -->
		<protocol ref="FactionOPRequest_Re"/>
		<protocol ref="FactionCreate_Re"/>
		<protocol ref="FactionApplyJoin_Re"/>
		<protocol ref="FactionListMember_Re"/>
		<protocol ref="FactionAcceptJoin_Re"/>
		<protocol ref="FactionExpel_Re"/>
		<protocol ref="FactionBroadcastNotice_Re"/>
		<!--protocol ref="FactionPayRewards_Re"/-->
		<protocol ref="FactionMasterResign_Re"/>
		<protocol ref="FactionAppoint_Re"/>
		<protocol ref="FactionResign_Re"/>
		<protocol ref="FactionChangProclaim_Re"/>
		<!--protocol ref="FactionImpeach_Re"/-->
		<protocol ref="FactionLeave_Re"/>
		<protocol ref="FactionDismiss_Re"/>
		<protocol ref="FactionRename_Re"/>
		<protocol ref="FactionUpgrade_Re"/>
		<protocol ref="FactionDegrade_Re"/>
		<!--protocol ref="FactionListApplicant_Re"/-->
		<protocol ref="GetFactionBaseInfo"/>
		<protocol ref="GetFactionBaseInfo_Re"/>
		<protocol ref="GetPlayerFactionInfo"/>
		<protocol ref="GetPlayerFactionInfo_Re"/>
		<protocol ref="FactionListOnline_Re"/>
		<protocol ref="FactionAllianceApply_Re"/>
		<protocol ref="FactionAllianceReply_Re"/>
		<protocol ref="FactionHostileApply_Re"/>
		<protocol ref="FactionHostileReply_Re"/>
		<protocol ref="FactionRemoveRelationApply_Re"/>
		<protocol ref="FactionRemoveRelationReply_Re"/>
		<protocol ref="FactionListRelation_Re"/>
		<protocol ref="FactionRelationRecvApply"/>
		<protocol ref="FactionRelationRecvReply"/>
		<protocol ref="GetPlayerFactionRelation_Re"/>
		<protocol ref="FactionDelayExpelAnnounce"/> 

		<!-- faction provider server's protocols( for gameservers ) -->
		<!--protocol ref="AnnounceProviderID"/-->
		<protocol ref="KeepAlive"/>
		<protocol ref="FactionBeginSync_Re"/>
		<protocol ref="FactionBeginSync"/>
		<protocol ref="FactionEndSync"/>
		<protocol ref="DelFactionAnnounce"/>

		<protocol ref="BattleEnter_Re"/>
		<protocol ref="WorldChat"/>

		<!-- game talk related protocols -->
		<protocol ref="FactionMemberUpdate"/>
		<protocol ref="FactionInfoUpdate"/>
		<protocol ref="FactionMsg"/>
		<protocol ref="FactionForbidUpdate"/>
		
		<!-- player rename -->
		<protocol ref="PlayerNameUpdate"/>
		<!-- faction rename -->
		<protocol ref="FactionRenameGsVerify"/>		
		<protocol ref="PostFactionRename"/>
		<protocol ref="FactionRenameAnnounce"/>
		<rpc ref="PreFactionRename"/>
		<rpc ref="DBFactionRename"/>
	</service>

	<service name="gdbclient">
		<manager name="Gamedb" type="client" initstate="GameDBClient" reconnect="1" />

		<state ref="GameDBClient" />
	</service>

</application>

